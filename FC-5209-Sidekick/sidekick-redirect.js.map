{"version":3,"file":"sidekick-redirect.js","sources":["../src/util/polyfill.js","../src/util/object-helpers.js","../src/util/asset-loader.js","../src/util/string-helpers.js","../src/util/easy-dom.js","../src/util/deprecated.js","../src/util/type-checkers.js","../src/util/event-bus.js","../src/util/store.js","../src/util/translations.js","../src/cmpt/sidekick-header/header.js","../src/util/env.js","../src/cmpt/sidekick-nav/nav-platform.js","../src/util/key-press-helpers.js","../src/cmpt/sidekick-nav/nav.js","../src/cmpt/sidekick-nav-item/nav-item.js","../src/util/cmpt-common-features.js","../src/cmpt/sidekick-notifications/notifications.js","../src/cmpt/sidekick-nav-item-submenu/nav-item-submenu.js","../src/cmpt/sidekick-user-info/user-info.js","../src/cmpt/sidekick-help/help.js","../src/cmpt/sidekick-search/search.js","../src/cmpt/sidekick-loader/loader.js","../src/cmpt/sidekick-org-switcher/org-switcher.js","../src/cmpt/sidekick-app-switcher/app-switcher.js","../src/cmpt/sidekick-tooltip/tooltip.js","../src/cmpt/sidekick-pick-org/pick-org.js","../src/cmpt/sidekick-pick-app/pick-app.js","../src/cmpt/sidekick-impersonated-user/impersonated-user.js","../src/cmpt/sidekick-activity-indicator/activity-indicator.js","../src/cmpt/sidekick-nav-item-mega-menu/nav-item-mega-menu.js","../src/cmpt/sidekick-session-timeout/session-timeout.js","../src/cmpt/sidekick-site-errors/site-errors.js","../src/cmpt/sidekick-skip-nav/skip-nav.js","../src/util/ajax.js","../src/util/idm-helpers.js","../src/cmpt/sidekick-announcements/announcements.js","../node_modules/detect-browser/index.js","../src/cmpt/sidekick-unsupported-browser-alert/unsupported-browser-alert.js","../src/cmpt/index.js","../src/util/dom-scanner.js","../src/util/feature-flags-cc.js","../node_modules/ldclient-js/dist/ldclient.es.js","../src/util/feature-flags.js","../node_modules/es6-promise/dist/es6-promise.js","../node_modules/es6-promise/auto.js","../src/ambient/ambient.js","../src/ambient/ambient-height.js","../src/ambient/ambient-width.js","../src/ambient/ambient-config-states.js","../.ðŸ’©/sidekick-templates.js","../src/util/route-helpers.js","../src/util/persistence.js","../src/cmpt/sidekick-contact-org/contact-org.js","../src/cmpt/sidekick-pick-org-app/pick-org-app.js","../src/util/idm.js","../node_modules/configcat-common/lib/ConfigCatLogger.js","../node_modules/configcat-common/lib/ConfigCatClientOptions.js","../node_modules/configcat-common/lib/ConfigServiceBase.js","../node_modules/configcat-common/lib/AutoPollConfigService.js","../node_modules/configcat-common/lib/LazyLoadConfigService.js","../node_modules/configcat-common/lib/ManualPollService.js","../node_modules/configcat-common/lib/ProjectConfig.js","../node_modules/configcat-common/lib/Sha1.js","../node_modules/configcat-common/lib/Semver.js","../node_modules/configcat-common/lib/Utils.js","../node_modules/configcat-common/lib/RolloutEvaluator.js","../node_modules/configcat-common/lib/ConfigCatClient.js","../node_modules/configcat-common/lib/index.js","../node_modules/configcat-js/lib/ConfigFetcher.js","../node_modules/configcat-js/lib/Cache.js","../node_modules/configcat-js/lib/index.js","../src/index.js","../src/init.js","../src/redirect.js"],"sourcesContent":["'use strict';\r\nimport 'es6-promise/auto';\r\n\r\n// Object.assign\r\nfunction objectAssign(target, varArgs) { // .length of function is 2\r\n\t'use strict';\r\n\tif (target == null) { // TypeError if undefined or null\r\n\t\tthrow new TypeError('Cannot convert undefined or null to object');\r\n\t}\r\n\r\n\tvar to = Object(target);\r\n\r\n\tfor (var index = 1; index < arguments.length; index++) {\r\n\t\tvar nextSource = arguments[index];\r\n\r\n\t\tif (nextSource != null) { // Skip over if undefined or null\r\n\t\t\tfor (var nextKey in nextSource) {\r\n\t\t\t\t// Avoid bugs when hasOwnProperty is shadowed\r\n\t\t\t\tif (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\r\n\t\t\t\t\tto[nextKey] = nextSource[nextKey];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn to;\r\n}\r\n\r\n// Array.includes\r\nfunction arrayIncludes(searchElement /*, fromIndex*/ ) {\r\n\tvar O = Object(this);\r\n\tvar len = parseInt(O.length, 10) || 0;\r\n\tif (len === 0) {\r\n\t\treturn false;\r\n\t}\r\n\tvar n = parseInt(arguments[1], 10) || 0;\r\n\tvar k;\r\n\tif (n >= 0) {\r\n\t\tk = n;\r\n\t} else {\r\n\t\tk = len + n;\r\n\t\tif (k < 0) {k = 0;}\r\n\t}\r\n\tvar currentElement;\r\n\twhile (k < len) {\r\n\t\tcurrentElement = O[k];\r\n\t\tif (searchElement === currentElement ||\r\n\t\t\t(searchElement !== searchElement && currentElement !== currentElement)) { // NaN !== NaN\r\n\t\t\t\treturn true;\r\n\t\t}\r\n\t\tk++;\r\n\t}\r\n\treturn false;\r\n}\r\n\r\n// String.endsWidth\r\nfunction stringEndsWith(searchString, position) {\r\n\tvar subjectString = this.toString();\r\n\tif (typeof position !== 'number' || !isFinite(position) || Math.floor(position) !== position || position > subjectString.length) {\r\n\t\tposition = subjectString.length;\r\n\t}\r\n\tposition -= searchString.length;\r\n\tvar lastIndex = subjectString.indexOf(searchString, position);\r\n\treturn lastIndex !== -1 && lastIndex === position;\r\n}\r\n\r\n// String.startsWith\r\nfunction stringStartsWith(searchString, position){\r\n\tposition = position || 0;\r\n\treturn this.substr(position, searchString.length) === searchString;\r\n}\r\n\r\n\r\nfunction arrayFind(predicate) {\r\n\tif (this == null) {\r\n\t\tthrow new TypeError('Array.prototype.find called on null or undefined');\r\n\t}\r\n\tif (typeof predicate !== 'function') {\r\n\t\tthrow new TypeError('predicate must be a function');\r\n\t}\r\n\tvar list = Object(this);\r\n\tvar len = list.length >>> 0; // eslint-disable-line no-bitwise\r\n\tvar thisArg = arguments[1];\r\n\tvar value;\r\n\r\n\tfor (var i = 0; i < len; i++) {\r\n\t\tvalue = list[i];\r\n\t\tif (predicate.call(thisArg, value, i, list)) {\r\n\t\t\treturn value;\r\n\t\t}\r\n\t}\r\n\treturn undefined;\r\n}\r\n\r\nfunction arrayFindIndex(predicate) {\r\n\tif (this == null) {\r\n\t\tthrow new TypeError('Array.prototype.findIndex called on null or undefined');\r\n\t}\r\n\tif (typeof predicate !== 'function') {\r\n\t\tthrow new TypeError('predicate must be a function');\r\n\t}\r\n\tvar list = Object(this);\r\n\tvar len = list.length >>> 0; // eslint-disable-line no-bitwise\r\n\tvar thisArg = arguments[1];\r\n\tvar value;\r\n\r\n\tfor (var i = 0; i < len; i++) {\r\n\t\tvalue = list[i];\r\n\t\tif (predicate.call(thisArg, value, i, list)) {\r\n\t\t\treturn i;\r\n\t\t}\r\n\t}\r\n\treturn -1;\r\n}\r\n\r\n// Production steps of ECMA-262, Edition 6, 22.1.2.1\r\nfunction arrayFrom() {\r\n\tvar toStr = Object.prototype.toString;\r\n\tvar isCallable = function (fn) {\r\n\t\treturn typeof fn === 'function' || toStr.call(fn) === '[object Function]';\r\n\t};\r\n\tvar toInteger = function (value) {\r\n\t\tvar number = Number(value);\r\n\t\tif (isNaN(number)) { return 0; }\r\n\t\tif (number === 0 || !isFinite(number)) { return number; }\r\n\t\treturn (number > 0 ? 1 : -1) * Math.floor(Math.abs(number));\r\n\t};\r\n\tvar maxSafeInteger = Math.pow(2, 53) - 1;\r\n\tvar toLength = function (value) {\r\n\t\tvar len = toInteger(value);\r\n\t\treturn Math.min(Math.max(len, 0), maxSafeInteger);\r\n\t};\r\n\r\n\t// The length property of the from method is 1.\r\n\treturn function from(arrayLike/*, mapFn, thisArg */) {\r\n\t\t// 1. Let C be the this value.\r\n\t\tvar C = this;\r\n\r\n\t\t// 2. Let items be ToObject(arrayLike).\r\n\t\tvar items = Object(arrayLike);\r\n\r\n\t\t// 3. ReturnIfAbrupt(items).\r\n\t\tif (arrayLike == null) {\r\n\t\t\tthrow new TypeError('Array.from requires an array-like object - not null or undefined');\r\n\t\t}\r\n\r\n\t\t// 4. If mapfn is undefined, then let mapping be false.\r\n\t\tvar mapFn = arguments.length > 1 ? arguments[1] : void undefined;\r\n\t\tvar T;\r\n\t\tif (typeof mapFn !== 'undefined') {\r\n\t\t\t// 5. else\r\n\t\t\t// 5. a If IsCallable(mapfn) is false, throw a TypeError exception.\r\n\t\t\tif (!isCallable(mapFn)) {\r\n\t\t\t\tthrow new TypeError('Array.from: when provided, the second argument must be a function');\r\n\t\t\t}\r\n\r\n\t\t\t// 5. b. If thisArg was supplied, let T be thisArg; else let T be undefined.\r\n\t\t\tif (arguments.length > 2) {\r\n\t\t\t\tT = arguments[2];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// 10. Let lenValue be Get(items, \"length\").\r\n\t\t// 11. Let len be ToLength(lenValue).\r\n\t\tvar len = toLength(items.length);\r\n\r\n\t\t// 13. If IsConstructor(C) is true, then\r\n\t\t// 13. a. Let A be the result of calling the [[Construct]] internal method\r\n\t\t// of C with an argument list containing the single item len.\r\n\t\t// 14. a. Else, Let A be ArrayCreate(len).\r\n\t\tvar A = isCallable(C) ? Object(new C(len)) : new Array(len);\r\n\r\n\t\t// 16. Let k be 0.\r\n\t\tvar k = 0;\r\n\t\t// 17. Repeat, while k < lenâ€¦ (also steps a - h)\r\n\t\tvar kValue;\r\n\t\twhile (k < len) {\r\n\t\t\tkValue = items[k];\r\n\t\t\tif (mapFn) {\r\n\t\t\t\tA[k] = typeof T === 'undefined' ? mapFn(kValue, k) : mapFn.call(T, kValue, k);\r\n\t\t\t} else {\r\n\t\t\t\tA[k] = kValue;\r\n\t\t\t}\r\n\t\t\tk += 1;\r\n\t\t}\r\n\t\t// 18. Let putStatus be Put(A, \"length\", len, true).\r\n\t\tA.length = len;\r\n\t\t// 20. Return A.\r\n\t\treturn A;\r\n\t};\r\n}\r\n\r\n// Number.isInteger polyfill\r\nfunction numberIsInteger(value) {\r\n\treturn typeof value === 'number' && isFinite(value) && Math.floor(value) === value;\r\n}\r\n\r\n/////\r\n// Run the polyfills\r\n//\r\nif (typeof Object.assign !== 'function') {\r\n\tObject.defineProperty(Object, 'assign', {\r\n\t\tconfigurable: true,\r\n\t\twritable: true,\r\n\t\tvalue: objectAssign\r\n\t});\r\n}\r\nif (!Array.prototype.includes) { Array.prototype.includes = arrayIncludes; }\r\nif (!String.prototype.endsWith) { String.prototype.endsWith = stringEndsWith; }\r\nif (!String.prototype.startsWith) { String.prototype.startsWith = stringStartsWith; }\r\nif (!Array.prototype.find) { Array.prototype.find = arrayFind; }\r\nif (!Array.prototype.findIndex) { Array.prototype.findIndex = arrayFindIndex; }\r\nif (!Number.isInteger) { Number.isInteger = numberIsInteger; }\r\nif (!Array.from) { Array.from = arrayFrom(); }\r\n","export function glean(source, accessor, defaultValue = null) {\r\n    try {\r\n        const val = accessor(source);\r\n        if (typeof val === 'undefined') { return defaultValue; }\r\n        return val;\r\n    } catch (err) {\r\n        return defaultValue;\r\n    }\r\n}\r\n","import { glean } from './object-helpers';\r\n\r\n/**\r\n * @module Sidekick.AssetLoader\r\n * @memberOf Sidekick\r\n */\r\n\r\n/**\r\n * Returns the base path, respecting Storm's overridden value if it is set\r\n * @function baseAssetPath\r\n * @instance\r\n */\r\nexport function getBaseAssetPath() {\r\n\tconst defaultUrl = 'https://sidekick.uitools.frontlineeducation.com';\r\n\treturn glean(window, (w) => w.ss.env.tools.sidekick, defaultUrl);\r\n}\r\n\r\nconst baseAssetPath = getBaseAssetPath();\r\n\r\nexport function isUrlUiModule(url) {\r\n\tconst urlPattern = /^https:\\/\\/(supersuitaws(.*?)\\.flqa\\.net|(app|zeit)\\.frontlineeducation\\.com)\\//;\r\n\treturn urlPattern.test(url);\r\n}\r\n\r\n/**\r\n * Loads a script\r\n * @function script\r\n * @instance\r\n * @param  {String} fileName\r\n */\r\nexport const script = loadScript;\r\n\r\n/**\r\n * Loads a style sheet\r\n * @function stylesheet\r\n * @instance\r\n * @param  {String} fileName\r\n * @param  {Function} success\r\n * @param  {Function} failure\r\n */\r\nexport const stylesheet = loadStylesheet;\r\n\r\n/**\r\n * Loads the sidekick print styles (hides sidekick for print)\r\n * @function printStyles\r\n * @instance\r\n */\r\nexport const printStyles = function() {\r\n\tconst el = document.createElement('style');\r\n\tel.setAttribute('type', 'text/css');\r\n\tel.setAttribute('media', 'print');\r\n\tel.innerHTML = '.sidekick { display: none !important; } .sidekick-wrapped-application {\tmargin: 0 !important } ';\r\n\tdocument.head.appendChild(el);\r\n};\r\n\r\n\r\n/**\r\n * Loads a font\r\n * @function fontFace\r\n * @instance\r\n * @param  {String} fontName\r\n */\r\nexport const fontFace = loadFont;\r\n\r\n/////\r\n// helper functions\r\n//\r\n\r\nfunction loadStylesheet(fileName, success) {\r\n\tconst fileLoc = `${baseAssetPath}/${fileName}`;\r\n\tconst linkAttrs = {\r\n\t\t'rel': 'stylesheet',\r\n\t\t'media': 'screen',\r\n\t\t'charset': 'utf-8',\r\n\t\t'href': fileLoc,\r\n\t};\r\n\tconst styleTestAttrs = {\r\n\t\tstyle: 'display: none;',\r\n\t\t'class': 'sidekick-stylesheet-test',\r\n\t};\r\n\r\n\tconst linkEl = injectTag('link', linkAttrs, document.head);\r\n\t// watch hidden element for style update from sidekick.css\r\n\tconst styleTestEl = injectTag('div', styleTestAttrs, document.body);\r\n\r\n\tconst checkStyles = setInterval( function() {\r\n\t\ttry {\r\n\t\t\tif (window.getComputedStyle(styleTestEl).visibility === 'hidden') {\r\n\t\t\t\tclearInterval(checkStyles);\r\n\t\t\t\tsuccess(linkEl);\r\n\t\t\t\tdocument.body.removeChild(styleTestEl);\r\n\t\t\t}\r\n\t\t} catch(e) {}\r\n\t}, 50);\r\n}\r\n\r\nfunction loadScript(fileName) {\r\n\tconst fileLoc = `${baseAssetPath}/${fileName}`;\r\n\tconst attrs = {'type':'text/javascript', 'charset':'utf-8', 'src':fileLoc};\r\n\treturn injectTag('script', attrs, document.body);\r\n}\r\n\r\nfunction injectTag(tagName, attrs, target) {\r\n\tconst el = document.createElement(tagName);\r\n\tObject.keys(attrs).sort().forEach(attr => el.setAttribute(attr, attrs[attr]));\r\n\ttarget.appendChild(el);\r\n\treturn el;\r\n}\r\n\r\nconst fontCode = {\r\n\t'fl-icons': fontFaceCss('FL-Icons', 'FL-Icons', 'FL-Icons', 'normal', 'normal'),\r\n\t'open-sans': (\r\n\t\t// Open Sans: regular\r\n\t\tfontFaceCss('Open Sans', 'opensans-regular-webfont', 'open_sansregular', 400, 'normal') +\r\n\t\t// Open Sans: semi-bold\r\n\t\tfontFaceCss('Open Sans', 'opensans-semibold-webfont', 'open_sanssemibold', 600, 'normal') +\r\n\t\t// Open Sans: bold\r\n\t\tfontFaceCss('Open Sans', 'opensans-bold-webfont', 'open_sansbold', 700, 'normal')\r\n\t)\r\n};\r\nfunction loadFont(fontName) {\r\n\tconst el = document.createElement('style');\r\n\tel.setAttribute('type', 'text/css');\r\n\tel.innerHTML = fontCode[fontName.toLowerCase()];\r\n\tdocument.head.appendChild(el);\r\n}\r\n\r\nfunction fontFaceCss(fontName, fileName, svgType, fontWeight, fontStyle) {\r\n\treturn (`\r\n\t\t@font-face {\r\n\t\t\tfont-family: '${fontName}';\r\n\t\t\tsrc: url('${baseAssetPath}/font/${fileName}.eot?#iefix') format('embedded-opentype'),\r\n\t\t\t\turl('${baseAssetPath}/font/${fileName}.woff') format('woff'),\r\n\t\t\t\turl('${baseAssetPath}/font/${fileName}.ttf') format('truetype'),\r\n\t\t\t\turl('${baseAssetPath}/font/${fileName}.svg#${svgType}') format('svg');\r\n\t\t\tfont-weight: ${fontWeight};\r\n\t\t\tfont-style: ${fontStyle};\r\n\t\t}\r\n\t`).replace(/[\\t\\n]+/g, ' ').replace(/^\\s+|\\s+$/g, '');\r\n}\r\n","\r\n/**\r\n * Common string helper functions\r\n * @module Sidekick.StringHelpers\r\n * @memberOf Sidekick\r\n */\r\n\r\n/**\r\n * Turns a space delimited string to dash delimited.\r\n * @function toDashCase\r\n * @instance\r\n * @param  {String} txt - String to transform\r\n */\r\nexport function toDashCase(txt) {\r\n\treturn splitWords(txt).join('-');\r\n}\r\n\r\n/**\r\n * Turns a space delimited string to camel case.\r\n * @function toDashCase\r\n * @instance\r\n * @param  {String} txt - String to transform\r\n */\r\nexport function toCamelCase(txt) {\r\n\treturn splitWords(txt)\r\n\t\t.map(function (v,i) {\r\n\t\t\tif (i === 0) { return v; }\r\n\t\t\treturn v.charAt(0).toUpperCase() + v.substr(1);\r\n\t\t})\r\n\t\t.join('');\r\n}\r\n\r\nfunction splitWords(txt) {\r\n\treturn txt.toString()\r\n\t\t.replace(/[\\s_-]/g, '{!}')\r\n\t\t.replace(/([A-Z])/g, '{!}$1')\r\n\t\t.toLowerCase()\r\n\t\t.split('{!}')\r\n\t\t.filter(function (v) { return !!v.length; });\r\n}\r\n","import {toDashCase, toCamelCase} from './string-helpers';\r\n\r\n/**\r\n * @module Sidekick.EasyDom\r\n * @memberOf Sidekick\r\n */\r\n\r\n/**\r\n * Creates a new {@link EasyDom} element from the Element.\r\n * @function element\r\n * @instance\r\n * @param {Element} el - Element from which to wrap in {@link EasyDom}\r\n * @return {EasyDom} the new {@link EasyDom} element\r\n */\r\nexport const element = el => new EasyDom(el);\r\n\r\n/**\r\n * Finds an {@link EasyDom} element based on the selector.\r\n * @function find\r\n * @instance\r\n * @param {String} selector - Selector to look for elements from\r\n * @param {EasyDom} [parent=false] - Parent element to start the search in\r\n * @return {Array}\r\n */\r\nexport const find = elSelector;\r\n\r\n/**\r\n * Parses an HTML string, creates an Element, then returns it as an {@link EasyDom} element.\r\n * @function parse\r\n * @instance\r\n * @param {Element} el - Element from which to wrap in {@link EasyDom}\r\n * @return {EasyDom} the new {@link EasyDom} element\r\n */\r\nexport const parse = function (html) {\r\n\tconst el = document.createElement('span');\r\n\tel.innerHTML = html;\r\n\tif (el.children.length === 1) { return element(el.children[0]); }\r\n\treturn element(el);\r\n};\r\n\r\n/**\r\n * Runs a function on a timer (requestAnimationFrame)\r\n * @function rAF\r\n * @instance\r\n * @param {Function} callback - Callback when the timer runs\r\n */\r\nexport const rAF = (\r\n\t(window.requestAnimationFrame && window.requestAnimationFrame.bind(window)) ||\r\n\t(window.webkitRequestAnimationFrame && window.webkitRequestAnimationFrame.bind(window)) ||\r\n\t(window.mozRequestAnimationFrame && window.mozRequestAnimationFrame.bind(window)) ||\r\n\t(window.oRequestAnimationFrame && window.oRequestAnimationFrame.bind(window)) ||\r\n\t(window.msRequestAnimationFrame && window.msRequestAnimationFrame.bind(window)) ||\r\n\tfunction (callback) { window.setTimeout( callback, 1000 / 60 ); }\r\n);\r\n\r\nconst domCache = [];\r\n\r\n/**\r\n * EasyDom wrapper around HTML elements.\r\n * @class\r\n */\r\nclass EasyDom {\r\n\t/**\r\n\t * @param {Element} domNode\r\n\t */\r\n\tconstructor(domNode) {\r\n\t\t// if we have already built an EasyDom object for this domNode, pull it from cache\r\n\t\tif (domNode._easyDomID != null) { return domCache[domNode._easyDomID]; }\r\n\t\tthis._ = domNode;\r\n\t\tdomNode._easyDomID = domCache.length;\r\n\t\tdomCache.push(this);\r\n\t}\r\n\r\n\t/**\r\n\t * @inner\r\n\t * @param {String} selector - Selector for finding an element\r\n\t * @return {EasyDom}\r\n\t */\r\n\tfind(selector) { return elSelector(selector, this._); }\r\n\r\n\t/**\r\n\t * @param {String} cls - Classname to add\r\n\t * @return {EasyDom} Reference to the current {@link EasyDom} element.\r\n\t */\r\n\taddClass(cls) {\r\n\t\tconst prefix = (this._.className.length ? ' ' : '');\r\n\t\tif (!this.hasClass(cls)) { this._.className += `${prefix}${cls}`; }\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * @param {String} cls - Classname to remove\r\n\t * @return {EasyDom} Reference to the current {@link EasyDom} element.\r\n\t */\r\n\tremoveClass(cls) {\r\n\t\tthis._.className = this._.className\r\n\t\t\t.split(' ')\r\n\t\t\t.filter(c => c !== cls && c.length > 0)\r\n\t\t\t.join(' ');\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * @param {String} cls - Classname to test if this element has.\r\n\t * @return {Boolean} Whether or not this element has the classname specified.\r\n\t */\r\n\thasClass(cls) { return this._.className.split(' ').includes(cls); }\r\n\r\n\t/**\r\n\t * @param {String} cls - Classname to toggle\r\n\t * @param {String} [state] - current state\r\n\t * @return {EasyDom} Reference to the current {@link EasyDom} element.\r\n\t */\r\n\ttoggleClass(cls, state) {\r\n\t\tif (state == null) { state = !this._.className.split(' ').includes(cls); }\r\n\t\treturn this[`${state ? 'add' : 'remove'}Class`](cls);\r\n\t}\r\n\r\n\t/**\r\n\t * @param {EasyDom|EasyDom[]} elem - Element to append to this element's children\r\n\t * @return {EasyDom} Reference to the current {@link EasyDom} element.\r\n\t */\r\n\tappend(elem) {\r\n\t\tif (elem == null) { return; }\r\n\t\tconst elCount = elem.length;\r\n\t\tif (elCount == null) {\r\n\t\t\tthis._.appendChild(elem instanceof EasyDom ? elem._ : elem);\r\n\t\t} else {\r\n\t\t\t// we have an array of elements, recurse over the elements\r\n\t\t\tfor (let i = 0; i < elCount; i++) { this.append(elem[i]); }\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * @param {String} name - Attribute name to get/set value for\r\n\t * @param {*} [value] - Value to set the attribute to\r\n\t * @return {EasyDom} Reference to the current {@link EasyDom} element.\r\n\t */\r\n\tattr(name, value) {\r\n\t\tif (value === undefined) { return this._.getAttribute(name); }\r\n\t\tif (value === null) { this._.removeAttribute(name); return this; }\r\n\r\n\t\tthis._.setAttribute(toDashCase(name), value);\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * @param {String} name - Data attribute name to get/set value for\r\n\t * @param {*} [value] - Value to set the attribute to\r\n\t * @return {EasyDom} Reference to the current {@link EasyDom} element.\r\n\t */\r\n\tdata(name, value) {\r\n\t\treturn this.attr(`data-${toDashCase(name)}`, value);\r\n\t}\r\n\r\n\t/**\r\n\t * Empties this element of any children\r\n\t * @return {EasyDom} Reference to the current {@link EasyDom} element.\r\n\t */\r\n\tempty() {\r\n\t\twhile (this._.firstChild) {\r\n\t\t\tthis._.removeChild(this._.firstChild);\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the children to be the content being passed in.\r\n\t * @param {EasyDom|EasyDom[]} content\r\n\t * @return {EasyDom} Reference to the current {@link EasyDom} element.\r\n\t */\r\n\tchildren(content) {\r\n\t\treturn this.empty().append(content);\r\n\t}\r\n\r\n\t/**\r\n\t * Returns the {@link EasyDom} parent for this element\r\n\t * @return {EasyDom}\r\n\t */\r\n\tparent() {\r\n\t\treturn new EasyDom(this._.parentNode);\r\n\t}\r\n\r\n\t/**\r\n\t * Registers an event handler to an event.\r\n\t * @param {String} evt - Event to react to\r\n\t * @param {Function} handler - Function to handle the event\r\n\t * @return {EasyDom} Reference to the current {@link EasyDom} element.\r\n\t */\r\n\ton(evt, handler) {\r\n\t\tthis._listeners = this._listeners || [];\r\n\t\tthis._listeners.push({evt, handler});\r\n\t\tthis._.addEventListener(evt, handler);\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * Deregisters an event handler to an event.\r\n\t * @param {String} evt - Event to react to\r\n\t * @param {Function} handler - Function to handle the event\r\n\t * @return {EasyDom} Reference to the current {@link EasyDom} element.\r\n\t */\r\n\toff(evt, handler) {\r\n\t\tvar toRemove = [];\r\n\t\tif (evt == null && handler == null) {\r\n\t\t\t// remove all listeners\r\n\t\t\ttoRemove = this._listeners || [];\r\n\t\t} else if (handler == null) {\r\n\t\t\t// remove all listeners of this type\r\n\t\t\ttoRemove = this._listeners.filter(h => h.evt === evt);\r\n\t\t} else {\r\n\t\t\t// remove just one specific listener\r\n\t\t\ttoRemove = [this._listeners.find(h => h.evt === evt && h.handler === handler)].filter(Boolean);\r\n\t\t}\r\n\t\t// if we couldn't find the listener, bail out\r\n\t\tif (toRemove.length === 0) { return this; }\r\n\t\t// remove the dom listeners\r\n\t\ttoRemove.forEach(h => this._.removeEventListener(h.evt, h.handler));\r\n\t\t// clean out the listeners log\r\n\t\tthis._listeners = this._listeners.filter(l => !toRemove.includes(l));\r\n\t\treturn this; // for chaining\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the css property(ies) to the values\r\n\t * @param {Object|String} target\r\n\t * @param {String|Number} [value] - Only used if the target is a String\r\n\t * @return {EasyDom} Reference to the current {@link EasyDom} element.\r\n\t */\r\n\tcss(target, value) {\r\n\t\tif (target instanceof Array) { return; }\r\n\t\tif (target instanceof Object) {\r\n\t\t\tconst keys = Object.keys(target);\r\n\t\t\tfor (let i=keys.length; i-- ;) {\r\n\t\t\t\tconst k = keys[i];\r\n\t\t\t\tthis.css(k, target[k]);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (typeof target === 'string') {\r\n\t\t\tif (value === undefined) {\r\n\t\t\t\treturn window.getComputedStyle(this._)[target];\r\n\t\t\t}\r\n\t\t\tthis._.style[toCamelCase(target)] = value;\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * Checks if this element currently has focus\r\n\t * @returns {Boolean}\r\n\t */\r\n\thasFocus() {\r\n\t\treturn window.document.activeElement === this._;\r\n\t}\r\n}\r\n\r\nfunction elSelector(selector, parent = false) {\r\n\tconst context = parent || document;\r\n\tconst isComplex = /^..*[\\.\\# ]+.+$/;\r\n\tconst useQSA = isComplex.test(selector);\r\n\tconst qsa = 'querySelectorAll';\r\n\tvar method = {\r\n\t\t'#': 'ById',\r\n\t\t'.': 'sByClassName',\r\n\t\t'@': 'sByName',\r\n\t\t'=': 'sByTagName'\r\n\t}[selector[0]];\r\n\r\n\tmethod = (method == null || useQSA ? qsa : `getElement${method}`);\r\n\tif (method !== qsa) { selector = selector.slice(1); }\r\n\treturn map(context[method](selector), el => new EasyDom(el));\r\n}\r\n\r\nfunction map(collection, func) {\r\n\treturn Array.prototype.map.call(collection, func);\r\n}\r\n","export function deprecatedMsg(\r\n\toldInterface, newInterface,\r\n\ttmpl = `DEPRECATED => ${oldInterface} is being removed! Use ${newInterface} instead.`\r\n) {\r\n\tconsole && console.error && console.error(tmpl); // eslint-disable-line\r\n};\r\n\r\nexport function removedMsg(\r\n\toldInterface,\r\n\ttmpl = `REMOVED => ${oldInterface} is being removed! Do not use it!`\r\n) {\r\n\tconsole && console.error && console.error(tmpl); // eslint-disable-line\r\n};\r\n\r\nexport function deprecatedAttr({obj, attr, objLoc = '', newLoc = null} = {}, getterOrDefault) {\r\n\tconst getterFunc = (\r\n\t\ttypeof getterOrDefault === 'function'\r\n\t\t\t? getterOrDefault\r\n\t\t\t: () => getterOrDefault\r\n\t);\r\n\r\n\t// clear out the attr if it was previously defined\r\n\tif (obj.hasOwnProperty(attr)) { delete obj[attr]; }\r\n\r\n\t// define the getter function\r\n\tObject.defineProperty(obj, attr, {get() {\r\n\t\tconst dot = (objLoc ? '.' : '');\r\n\t\tconst oldLoc = `${objLoc}${dot}${attr}`;\r\n\r\n\t\tif (newLoc == null) {\r\n\t\t\tremovedMsg(oldLoc);\r\n\t\t} else {\r\n\t\t\tdeprecatedMsg(oldLoc, newLoc);\r\n\t\t}\r\n\t\treturn getterFunc();\r\n\t}});\r\n};\r\n","export const isArray = (input) => isOfType(input, 'array');\r\nexport const isNumber = (input) => isOfType(input, 'number');\r\nexport const isObject = (input) => isOfType(input, 'object');\r\nexport const isString = (input) => isOfType(input, 'string');\r\nexport const isDate = (input) => isOfType(input, 'date');\r\nexport const isNull = (input) => isOfType(input, 'null');\r\nexport const isUndefined = (input) => isOfType(input, 'undefined');\r\nexport const isBoolean = (input) => isOfType(input, 'boolean');\r\n\r\nexport function isOfType(input, type) {\r\n\treturn Object.prototype.toString\r\n\t\t.call(input)    // => \"[object Type]\"\r\n\t\t.split(' ')[1]  // => \"Type]\"\r\n\t\t.slice(0, -1)   // => \"Type\"\r\n\t\t.toLowerCase() === type.toLowerCase(); // => \"type === type\"\r\n}\r\n","import {deprecatedMsg} from './deprecated';\r\nimport {isObject, isBoolean} from './type-checkers';\r\n\r\nconst handlerMap = {}; // map of all handlers for all events\r\nconst terminalEvents = []; // events that are handled by terminal handlers (only 1 allowed)\r\nconst lastEventCache = {}; // map of last data emitted for each event (for greedy event handlers)\r\nconst backwardCompatEvents = {\r\n\t'session.logout': 'header.user-info.logout'\r\n};\r\nconst deprecatedEvents = Object.keys(backwardCompatEvents).reduce(function (acc, key) {\r\n\tacc[backwardCompatEvents[key]] = key;\r\n\treturn acc;\r\n}, {});\r\nexport const logErr = msg => console && console.error && console.error(`SIDEKICK => ${msg}`); // eslint-disable-line\r\n\r\n/**\r\n * Event Bus Module\r\n * @module Sidekick.EventBus\r\n * @memberOf Sidekick\r\n */\r\n\r\n/**\r\n * Registers an event listener.\r\n * @function on\r\n * @instance\r\n * @param  {String} evt - Event to respond to\r\n * @param  {Function} handler - function to handle the event\r\n * @param  {Object} [config] - the event handler config\r\n * @param  {Boolean} [config.greedy=false] - execute immediately with last emitted data if possible\r\n * @param  {Boolean} [config.once=false] - Run once?\r\n * @param  {Boolean} [config.terminal=false] - Do not allow other handlers to listen to this event?\r\n * @return {Function} - Deregister function\r\n */\r\nexport const on = function(evt, handler, configOrGreedy = false, once = false) {\r\n\tlet terminal = false;\r\n\tlet greedy = false;\r\n\tif (isObject(configOrGreedy)) {\r\n\t\tconst cfg = configOrGreedy;\r\n\t\tif (cfg.greedy != null) { greedy = cfg.greedy; }\r\n\t\tif (cfg.once != null) { once = cfg.once; }\r\n\t\tif (cfg.terminal != null) { terminal = cfg.terminal; }\r\n\t} else if (isBoolean(configOrGreedy)) {\r\n\t\tgreedy = configOrGreedy;\r\n\t}\r\n\r\n\tconst handlerList = handlerMap[evt] = (handlerMap[evt] || []);\r\n\tif (terminalEvents.includes(evt)) {\r\n\t\tlogErr(`the event \"${evt}\" is already handled by a terminal event. No additional handlers can be registered.`);\r\n\t\treturn;\r\n\t}\r\n\tif (terminal === true) {\r\n\t\t// clear other handlers if this one is terminal\r\n\t\tconst hCount = handlerList.length;\r\n\t\tif (hCount > 0) {\r\n\t\t\thandlerList.length = 0;\r\n\t\t\tlogErr(`${hCount} \"${evt}\" event handler(s) have been removed due to a terminal handler registration.`);\r\n\t\t}\r\n\t\t// add it to the terminal events listen\r\n\t\tterminalEvents.push(evt);\r\n\t}\r\n\r\n\t// check if this handler is already registered with this event\r\n\tif (handlerList.includes(handler)) {\r\n\t\tlogErr(`the event \"${evt}\" is already handled by ${handler}`);\r\n\t\treturn;\r\n\t}\r\n\r\n\thandler.$once = once;\r\n\thandlerList.push(handler);\r\n\r\n\tif (greedy && lastEventCache[evt]) {\r\n\t\thandler.apply(null, lastEventCache[evt]);\r\n\t}\r\n\r\n\t// return a teardown function\r\n\treturn () => off(evt, handler);\r\n};\r\n\r\n\r\n/**\r\n * Registers an event listener to run once.\r\n * @function once\r\n * @instance\r\n * @param  {String} evt - Event to respond to\r\n * @param  {Function} handler - function to handle the event\r\n * @param  {Boolean} [greedy=false] -\r\n * @return {Function}\r\n */\r\nexport const once = function(evt, handler, greedy = false) {\r\n\treturn on(evt, handler, {greedy, once: true});\r\n};\r\n\r\n\r\n/**\r\n * Deregisters an event listener.\r\n * @function off\r\n * @instance\r\n * @param  {String} evt - Event to respond to\r\n * @param  {Function} handler - function to handle the event\r\n */\r\nexport const off = function(evt, handler) {\r\n\t// we have no handlers for this event, get out\r\n\tif (handlerMap[evt] == null) { return; }\r\n\t// we are not removing a specific handler, remove all\r\n\tif (handler == null) { handlerMap[evt].length = 0; }\r\n\r\n\t// remove just the one handler\r\n\tconst handlerList = handlerMap[evt];\r\n\tconst idx = handlerList.lastIndexOf(handler);\r\n\tif (idx === -1) { return; }\r\n\thandlerList.splice(idx, 1);\r\n};\r\n\r\n\r\n/**\r\n * Emits an event.\r\n * @function emit\r\n * @instance\r\n * @param  {String} evt - Event to respond to\r\n * @param  {...*} args - Parameters to pass to the handler function for this event\r\n */\r\nexport const emit = function(evt, ...args) {\r\n\t// fire deprecated events for backward compatibility\r\n\tif (backwardCompatEvents.hasOwnProperty(evt)) {\r\n\t\temit.apply(null, [backwardCompatEvents[evt], ...args]); // re-emit\r\n\t}\r\n\r\n\tlastEventCache[evt] = args;\r\n\tif (!handlerMap[evt]) { return; }\r\n\tconst handlerList = handlerMap[evt];\r\n\tfor (let i = handlerList.length; i-- ;) {\r\n\t\thandlerList[i].apply(null, args);\r\n\t\tif (handlerList[i].$once === true) {\r\n\t\t\toff(evt, handlerList[i]);\r\n\t\t}\r\n\t}\r\n};\r\n\r\n/**\r\n * Deregisters all event listeners.\r\n * @function clear\r\n * @instance\r\n */\r\nexport const clear = function() {\r\n\tterminalEvents.length = 0;\r\n\tObject.keys(handlerMap).forEach(k => delete handlerMap[k]);\r\n\tObject.keys(lastEventCache).forEach(k => delete lastEventCache[k]);\r\n};\r\n\r\n/**\r\n * The object that exposes the events public api and logs warnings when internal\r\n * events are emitted or listened to\r\n */\r\nexport const publicApi = {\r\n\ton: warnForInternalEvents(on),\r\n\tonce: warnForInternalEvents(once),\r\n\temit: warnForInternalEvents(emit),\r\n\tclear\r\n};\r\n\r\nfunction warnForInternalEvents(func) {\r\n\treturn function (...args) {\r\n\t\tconst evt = args[0];\r\n\t\t/* eslint-disable no-console */\r\n\t\tif (evt.startsWith('_') && console && console.error) {\r\n\t\t\tlogErr(`the event \"${evt}\" is internal and not to be used`);\r\n\t\t}\r\n\r\n\t\t// warn about deprecated events\r\n\t\tif (deprecatedEvents.hasOwnProperty(evt)) {\r\n\t\t\tdeprecatedMsg(`The \"${evt}\" event`, `\"${deprecatedEvents[evt]}\"`);\r\n\t\t}\r\n\r\n\t\tfunc.apply(null, args);\r\n\t};\r\n}\r\n","import * as events from './event-bus';\r\n\r\nconst store = {};\r\nconst eventPrefix = '_store.set';\r\nconst publicReadOnly = [\r\n\t'idm-data',\r\n\t'sk-config',\r\n\t'fl-internal-product-ids'\r\n];\r\n\r\n/**\r\n * @module Sidekick.Store\r\n * @memberOf Sidekick\r\n */\r\n\r\n/**\r\n * Sets a value to the store.\r\n * @function set\r\n * @instance\r\n * @param  {String} key - Key for the value\r\n * @param  {Function} value - value stored under the key\r\n * @emits ${eventPrefix}-$key\r\n */\r\nexport const set = (key, value) => {\r\n\tstore[key] = value;\r\n\tevents.emit(`${eventPrefix}-${key}`, value);\r\n};\r\n\r\n\r\n/**\r\n * Returns the value stored at the key or null.\r\n * @function get\r\n * @instance\r\n * @param  {String} key\r\n * @return {*} value - Value (or null) found (or not) at the key.\r\n */\r\nexport const get = (key) => store[key] || null;\r\n\r\n\r\n/**\r\n * Creates a listener for this key.\r\n * @function onValue\r\n * @instance\r\n * @param  {String} key - key for the handler\r\n * @param  {Function} handler - function to handle the event\r\n */\r\nexport const onValue = (key, handler) => events.on(`${eventPrefix}-${key}`, handler, true);\r\n\r\n\r\n/**\r\n * Creates a listener for this key that runs once.\r\n * @function onValueOnce\r\n * @instance\r\n * @param  {String} key - key for the handler\r\n * @param  {Function} handler - function to handle the event\r\n */\r\nexport const onValueOnce = (key, handler) => events.once(`${eventPrefix}-${key}`, handler, true);\r\n\r\n\r\n/**\r\n * Returns the value stored at the key or null.\r\n * @function clear\r\n * @instance\r\n */\r\nexport const clear = () => Object.keys(store).forEach(k => delete store[k]);\r\n\r\n/**\r\n * The object that exposes the events public api and logs warnings when internal\r\n * events are emitted or listened to\r\n */\r\nexport const publicApi = {\r\n\tset: warnForInternalStore(publicSet),\r\n\tget: warnForInternalStore(get),\r\n\tonValue: warnForInternalStore(onValue),\r\n\tonValueOnce: warnForInternalStore(onValueOnce),\r\n\tclear\r\n};\r\n\r\nfunction publicSet(...args) {\r\n\tconst key = args[0];\r\n\tif (key == null) {\r\n\t\t/* eslint-disable no-console */\r\n\t\tif (console && console.error) {\r\n\t\t\tconsole.error('SIDEKICK.STORE: the first parameter %ckey<String>%c is required.', 'color:blue;font-weight:bold;', '');\r\n\t\t}\r\n\t\t/* eslint-enable no-console */\r\n\t\treturn;\r\n\t}\r\n\tif ((publicReadOnly.includes(key) || key.startsWith('_'))) {\r\n\t\t/* eslint-disable no-console */\r\n\t\tif (console && console.error) {\r\n\t\t\tconsole.error(`SIDEKICK.STORE: \"${key}\" is a read only value`);\r\n\t\t}\r\n\t\t/* eslint-enable no-console */\r\n\t\treturn;\r\n\t}\r\n\treturn set.apply(null, args);\r\n}\r\n\r\nfunction warnForInternalStore(func) {\r\n\treturn function (...args) {\r\n\t\tconst key = args[0];\r\n\t\tif (key == null) {\r\n\t\t\t/* eslint-disable no-console */\r\n\t\t\tif (console && console.error) {\r\n\t\t\t\tconsole.error('SIDEKICK.STORE: the first parameter %ckey<String>%c is required.', 'color:blue;font-weight:bold;', '');\r\n\t\t\t}\r\n\t\t\t/* eslint-enable no-console */\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t/* eslint-disable no-console */\r\n\t\tif (key.startsWith('_') && console && console.error) {\r\n\t\t\tconsole.error(`SIDEKICK.STORE: \"${key}\" is internal and not to be used`);\r\n\t\t}\r\n\t\t/* eslint-enable no-console */\r\n\t\treturn func.apply(null, args);\r\n\t};\r\n}\r\n","/**\r\n * Internationalization (i18n) for Sidekick\r\n * @module Sidekick.Translations\r\n * @memberOf Sidekick\r\n */\r\n\r\nvar language = 'en';\r\nvar current = {};\r\nvar langTokens = [];\r\n\r\nconst langs = {\r\n\t'fr': {\r\n\t\t'You have been signed out.': 'Vous avez Ã©tÃ© dÃ©connectÃ©.',\r\n\t\t'For your security and protection of your data, you have been signed out due to inactivity.': 'Pour votre sÃ©curitÃ© et protection de vos donnÃ©es, vous avez Ã©tÃ© dÃ©connectÃ© en raison de l\\'inactivitÃ©.',\r\n\t\t'Sign In Again to Continue': 'Se connecter pour continuer',\r\n\t\t'Account Settings': 'ParamÃ¨tres du compte',\r\n\t\t'All rights reserved': 'Tous les droits sont rÃ©servÃ©s',\r\n\t\t'clear input': 'entrÃ©e libre',\r\n\t\t'close panel': 'fermer le panneau',\r\n\t\t'Contact Your Organization': 'Contactez votre organisme',\r\n\t\t'Due to inactivity, your session will end and you will be signed out. Do you want to stay signed in?': 'En raison de l\\'inactivitÃ©, votre session prendra fin et vous serez dÃ©connectÃ©. Voulez-vous rester connectÃ©?',\r\n\t\t'Fax': 'Fax',\r\n\t\t'Help Resources': 'Ressources d\\'aide',\r\n\t\t'Navigation': 'La navigation',\r\n\t\t'No, Sign Me Out': 'Non, Signez-moi',\r\n\t\t'No Results Found': 'Aucun rÃ©sultat trouvÃ©',\r\n\t\t'Notifications': 'Notifications',\r\n\t\t'notifications': 'notifications',\r\n\t\t'Phone': 'TÃ©lÃ©phone',\r\n\t\t'Recent Notifications': 'Notifications rÃ©centes',\r\n\t\t'Search': 'Chercher',\r\n\t\t'Search Organizations': 'Organismes de recherche',\r\n\t\t'Search Results': 'RÃ©sultats de la recherche',\r\n\t\t'Select an Application': 'SÃ©lectionnez une application',\r\n\t\t'Select an Organization': 'SÃ©lectionnez une organisation',\r\n\t\t'Sign Out': 'Se dÃ©connecter',\r\n\t\t'Skip to Main Content': 'Passer au contenu principal',\r\n\t\t'Switch Apps': 'Applications de commutation',\r\n\t\t'Switch Organizations': 'Organisations Switch',\r\n\t\t'System Activity': 'ActivitÃ© du systÃ¨me',\r\n\t\t'Yes, Stay Signed In': 'Oui, Restez connectÃ©',\r\n\t\t'You have no notifications': 'Vous avez aucune notification',\r\n\t\t'You will be signed out soon.': 'Vous serez bientÃ´t dÃ©connectÃ©',\r\n\t\t'Your Frontline Account': 'Votre compte Frontline',\r\n\t\t'Your Solutions': 'Vos Solutions',\r\n\t\t'viewing as': 'Voir Comme',\r\n\t\t'Minimize Navigation': 'Minimiser Navigation',\r\n\t\t'Expand Navigation': 'DÃ©velopper Navigation',\r\n\t\t'Toggle Navigation': 'Navigation Bascule',\r\n\t\t'System Configuration': 'Configuration du systÃ¨me',\r\n\t\t'Manage User Access': 'GÃ©rer l\\'accÃ¨s des utilisateurs',\r\n\t\t'Additional Resources': 'Ressources additionnelles',\r\n\t\t'Resource Library': 'BibliothÃ¨que de ressources',\r\n\t\t'Employee Directory': 'Employee Directory',\r\n\t\t'Browse Library': 'Parcourir la bibliothÃ¨que',\r\n\t\t'My History': 'Mon histoire',\r\n\t\t'My Groups': 'Mes groupes',\r\n\t\t'Library': 'BibliothÃ¨que',\r\n\t\t'Administration': 'Administration',\r\n\t\t'My Organization Resources': 'Ressources de mon organisation',\r\n\t\t'Global Directory': 'Annuaire Global',\r\n\t\t'Manage Content Curator': 'GÃ©rer le conservateur de contenu',\r\n\t\t'Micro-Credential Assessor Tool': 'Outil d\\'Ã©valuation des micro-informations d\\'identification',\r\n\t},\r\n\t'it': {\r\n\t\t'You have been signed out.': 'Sei stato lasciato fuori conto.',\r\n\t\t'For your security and protection of your data, you have been signed out due to inactivity.': 'Per la tua sicurezza e la protezione dei tuoi dati, sei uscito per l\\'inattivitÃ .',\r\n\t\t'Sign In Again to Continue': 'Accedi nuovamente per continuare',\r\n\t\t'Account Settings': 'Impostazioni dell \\'account',\r\n\t\t'All rights reserved': 'Tutti i diritti riservati',\r\n\t\t'clear input': 'ingresso libero',\r\n\t\t'close panel': 'Chiudi pannello',\r\n\t\t'Contact Your Organization': 'Contattare la propria organizzazione',\r\n\t\t'Due to inactivity, your session will end and you will be signed out. Do you want to stay signed in?': 'A causa di inattivitÃ , la sessione si concluderÃ  e si saranno firmati fuori. Vuoi rimanere firmato a?',\r\n\t\t'Fax': 'Fax',\r\n\t\t'Help Resources': 'Risorse di assistenza',\r\n\t\t'Navigation': 'Navigazione',\r\n\t\t'No, Sign Me Out': 'No, Mi Esci',\r\n\t\t'No Results Found': 'Nessun risultato trovato',\r\n\t\t'Notifications': 'notifiche',\r\n\t\t'notifications': 'notifiche',\r\n\t\t'Phone': 'Telefono',\r\n\t\t'Recent Notifications': 'Notifiche recenti',\r\n\t\t'Search': 'Ricerca',\r\n\t\t'Search Organizations': 'Le organizzazioni di ricerca',\r\n\t\t'Search Results': 'risultati di ricerca',\r\n\t\t'Select an Application': 'Selezionare un\\'applicazione',\r\n\t\t'Select an Organization': 'Seleziona una Organizzazione',\r\n\t\t'Sign Out': 'Disconnessione',\r\n\t\t'Skip to Main Content': 'Vai al contenuto principale',\r\n\t\t'Switch Apps': 'applicazioni Interruttore',\r\n\t\t'Switch Organizations': 'Organizzazioni di commutazione',\r\n\t\t'System Activity': 'AttivitÃ  del sistema',\r\n\t\t'Yes, Stay Signed In': 'SÃ¬, Resta connesso',\r\n\t\t'You have no notifications': 'Non ci sono notifiche',\r\n\t\t'You will be signed out soon.': 'VerrÃ  firmato presto',\r\n\t\t'Your Frontline Account': 'Il tuo account Frontline',\r\n\t\t'Your Solutions': 'Le nostre soluzioni',\r\n\t\t'viewing as': 'visualizzazione come',\r\n\t\t'Minimize Navigation': 'Ridurre Navigazione',\r\n\t\t'Expand Navigation': 'Espandere Navigazione',\r\n\t\t'Toggle Navigation': 'Attiva Navigazione',\r\n\t\t'System Configuration': 'Configurazione di sistema',\r\n\t\t'Manage User Access': 'Gestisci l\\'accesso degli utenti',\r\n\t\t'Additional Resources': 'Risorse addizionali',\r\n\t\t'Resource Library': 'Libreria delle risorse',\r\n\t\t'Browse Library': 'Sfoglia la biblioteca',\r\n\t\t'My History': 'La mia storia',\r\n\t\t'My Groups': 'I miei gruppi',\r\n\t\t'Library': 'Biblioteca',\r\n\t\t'Administration': 'Amministrazione',\r\n\t\t'My Organization Resources': 'Risorse della mia organizzazione',\r\n\t\t'Global Directory': 'Directory Globale',\r\n\t\t'Manage Content Curator': 'Gestisci curatore dei contenuti',\r\n\t\t'Micro-Credential Assessor Tool': 'Strumento di valutazione delle micro credenziali',\r\n\t\t'Employee Directory': 'Employee Directory',\r\n\r\n\t},\r\n\t'es': {\r\n\t\t'You have been signed out.': 'Se ha cerrado la sesiÃ³n.',\r\n\t\t'For your security and protection of your data, you have been signed out due to inactivity.': 'Para su seguridad y protecciÃ³n de sus datos, se ha cerrado la sesiÃ³n debido a la inactividad.',\r\n\t\t'Sign In Again to Continue': 'Iniciar sesiÃ³n de nuevo para continuar',\r\n\t\t'Account Settings': 'Configuraciones de la cuenta',\r\n\t\t'All rights reserved': 'Todos los derechos reservados',\r\n\t\t'clear input': 'entrada de borrado',\r\n\t\t'close panel': 'panel de cierre',\r\n\t\t'Contact Your Organization': 'PÃ³ngase en contacto con su organizaciÃ³n',\r\n\t\t'Due to inactivity, your session will end and you will be signed out. Do you want to stay signed in?': 'Debido a la inactividad, su sesiÃ³n finalizarÃ¡ y se cerrarÃ¡ sesiÃ³n. Â¿Quiere permanecer conectado?',\r\n\t\t'Fax': 'Fax',\r\n\t\t'Help Resources': 'Recursos de ayuda',\r\n\t\t'Navigation': 'NavegaciÃ³n',\r\n\t\t'No, Sign Me Out': 'No, firmeme',\r\n\t\t'No Results Found': 'No se han encontrado resultados',\r\n\t\t'Notifications': 'Notificaciones',\r\n\t\t'notifications': 'notificaciones',\r\n\t\t'Phone': 'TelÃ©fono',\r\n\t\t'Recent Notifications': 'Notificaciones recientes',\r\n\t\t'Search': 'Buscar',\r\n\t\t'Search Organizations': 'Organizaciones de la bÃºsqueda',\r\n\t\t'Search Results': 'Resultados de la bÃºsqueda',\r\n\t\t'Select an Application': 'Seleccione una aplicaciÃ³n',\r\n\t\t'Select an Organization': 'Seleccione una OrganizaciÃ³n',\r\n\t\t'Sign Out': 'Desconectar',\r\n\t\t'Skip to Main Content': 'Saltar al contenido principal',\r\n\t\t'Switch Apps': 'Aplicaciones del interruptor',\r\n\t\t'Switch Organizations': 'Organizaciones de conmutaciÃ³n',\r\n\t\t'System Activity': 'Actividad del sistema',\r\n\t\t'Yes, Stay Signed In': 'SÃ­, permanece firmado',\r\n\t\t'You have no notifications': 'No tiene notificaciones',\r\n\t\t'You will be signed out soon.': 'SaldrÃ¡ pronto',\r\n\t\t'Your Frontline Account': 'Su cuenta en primera lÃ­nea',\r\n\t\t'Your Solutions': 'sus Soluciones',\r\n\t\t'viewing as': 'viendo como',\r\n\t\t'Minimize Navigation': 'Minimizar NavegaciÃ³n',\r\n\t\t'Expand Navigation': 'Expandir NavegaciÃ³n',\r\n\t\t'Toggle Navigation': 'Alternar NavegaciÃ³n',\r\n\t\t'System Configuration': 'ConfiguraciÃ³n del sistema',\r\n\t\t'Manage User Access': 'Administrar acceso de usuario',\r\n\t\t'Additional Resources': 'Recursos adicionales',\r\n\t\t'Resource Library': 'Biblioteca de recursos',\r\n\t\t'Browse Library': 'Navegar por la biblioteca',\r\n\t\t'My History': 'Mi historia',\r\n\t\t'My Groups': 'Mis grupos',\r\n\t\t'Library': 'Biblioteca',\r\n\t\t'Administration': 'AdministraciÃ³n',\r\n\t\t'My Organization Resources': 'Mis recursos de organizaciÃ³n',\r\n\t\t'Global Directory': 'Directorio Global',\r\n\t\t'Manage Content Curator': 'Gestionar curador de contenido',\r\n\t\t'Micro-Credential Assessor Tool': 'Herramienta de evaluaciÃ³n de micro credenciales',\r\n\t\t'Employee Directory': 'Employee Directory',\r\n\r\n\t},\r\n};\r\n\r\n/**\r\n * Sets the language to use.\r\n * @function init\r\n * @instance\r\n * @param  {String} newLang=en - Language to set. Defaults to English.\r\n */\r\nexport function init(newLang) {\r\n\tmakeLangTokens();\r\n\tnewLang = newLang.toLowerCase();\r\n\tif (langs[newLang] == null) {\r\n\t\tif (newLang.indexOf('-') >= 0) {\r\n\t\t\tnewLang = newLang.split('-')[0];\r\n\t\t\tif (langs[newLang] == null) {\r\n\t\t\t\tnewLang = 'en';\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tlanguage = newLang;\r\n\tif (language === 'en') {\r\n\t\tcurrent = {};\r\n\t\treturn;\r\n\t}\r\n\tcurrent = langs[language];\r\n}\r\n\r\n/**\r\n * Takes an English string and will look up the translation based on the current language.\r\n * @function i18n\r\n * @instance\r\n * @param  {String} str - String to transform\r\n * @return {String} Returns the translation if exists. Otherwise returns the str passed in.\r\n */\r\nexport function i18n(str) {\r\n\t/* eslint-disable no-console */\r\n\tif (!langTokens.includes(str) && console && console.error) {\r\n\t\tconsole.error(`SIDEKICK: \"${str}\" is not a valid language token`);\r\n\t}\r\n\t/* eslint-enable no-console */\r\n\treturn language === 'en' ? str : (current[str] != null ? current[str] : str);\r\n}\r\n\r\nfunction makeLangTokens() {\r\n\tconst langKeys = Object.keys(langs);\r\n\tlangTokens = Object.keys(langs[langKeys[0]]).sort();\r\n\tconst baseSignature = langTokens.join('#');\r\n\tlangKeys.forEach(function (k) {\r\n\t\tconst langSignature = Object.keys(langs[k]).sort().join('#');\r\n\t\t/* eslint-disable no-console */\r\n\t\tif (langSignature !== baseSignature && console && console.error) {\r\n\t\t\tconsole.error(`SIDEKICK: Internationalization language signatures are inconsistent (${k})`);\r\n\t\t}\r\n\t\t/* eslint-enable no-console */\r\n\t});\r\n}\r\n","import * as events from '../../util/event-bus';\r\nimport * as dom from '../../util/easy-dom';\r\nimport * as store from '../../util/store';\r\n\r\n/**\r\n * Container class\r\n * @class Sidekick.Header\r\n * @memberOf Sidekick\r\n * @param {EasyDom} elem - Container {@link EasyDom} element\r\n * @param {Object} attrs\r\n * @param {Object} ctx\r\n * @param {Function} i18n - translation function\r\n */\r\nexport default function (elem, attrs, ctx, i18n) {\r\n\tconst domAppEl = dom.element(store.get('sk-config').appElement);\r\n\tconst [domExitImpersonation] = elem.find('.sk--impersonation-exit');\r\n\r\n\tevents.on('header.visible', function (show) {\r\n\t\tdomAppEl.toggleClass('sk-header-hidden', !show);\r\n\t\telem.toggleClass('sk-hidden', !show);\r\n\t}, true);\r\n\r\n\t// impersonation v2 overrides regular impersonation modes\r\n\tlet activelyImpersonatingV2 = false;\r\n\tlet idGatewayBaseUrl = '';\r\n\tstore.onValue('idm', ({idGatewayUrl, isImpersonatingV2 = false}) => {\r\n\t\tactivelyImpersonatingV2 = isImpersonatingV2;\r\n\t\tidGatewayBaseUrl = (idGatewayUrl.endsWith('/')\r\n\t\t\t? idGatewayUrl.slice(0, -1)\r\n\t\t\t: idGatewayUrl\r\n\t\t);\r\n\t\tif (isImpersonatingV2) {\r\n\t\t\tevents.emit('_header.impersonation', isImpersonatingV2);\r\n\t\t}\r\n\t}, {greedy: true});\r\n\r\n\t// this greedy, terminal event handler acts as a gatekeeper. If impersonation v2\r\n\t// is active, we need to ignore calls to alter impersonation mode by the application.\r\n\tevents.on('header.impersonation', (state) => {\r\n\t\tif (activelyImpersonatingV2) { return; }\r\n\t\tevents.emit('_header.impersonation', state);\r\n\t}, { greedy: true, terminal: true });\r\n\r\n\t// apply the class based on the internal event that is controlled by the gatekeeper\r\n\tevents.on('_header.impersonation', state => domAppEl.toggleClass('sk-impersonation', state), true);\r\n\r\n\tdomExitImpersonation.on('click', function (evt) {\r\n\t\tevt.stopPropagation();\r\n\t\tevt.preventDefault();\r\n\t\tif (activelyImpersonatingV2) {\r\n\t\t\twindow.location.href = `${idGatewayBaseUrl}/impersonate/v2/user/end`;\r\n\t\t} else {\r\n\t\t\tevents.emit('header.end-impersonation');\r\n\t\t}\r\n\t});\r\n};\r\n","import nonProdProductIdMap from './env-prodProductIdMap.json';\r\n// the product usertype map is only used for 1 deprecated attr on the sidekick\r\nimport nonProdProductUserTypeMap from './env-productsToUserTypes.json';\r\n\r\nexport const dev = {\r\n\tssBaseUrl: 'https://supersuitawsdev.flqa.net',\r\n\tecSand: 'https://ecsandproxyawsdev.flqa.net',\r\n\tannouncementsBaseUrl: 'https://msvc-plat-announcements-stage.ss.frontlineeducation.com',\r\n\tproductUserTypeMap: nonProdProductUserTypeMap,\r\n\tproductIdMap: nonProdProductIdMap\r\n};\r\n\r\nexport const qa = {\r\n\tssBaseUrl: 'https://supersuitawsqa.flqa.net',\r\n\tecSand: 'https://ecsandproxyawsqa.flqa.net',\r\n\tannouncementsBaseUrl: 'https://msvc-plat-announcements-stage.ss.frontlineeducation.com',\r\n\tproductUserTypeMap: nonProdProductUserTypeMap,\r\n\tproductIdMap: nonProdProductIdMap\r\n};\r\n\r\nexport const stage = {\r\n\tssBaseUrl: 'https://supersuitawsstage.flqa.net',\r\n\tecSand: 'https://ecsandproxyawsstage.flqa.net',\r\n\tannouncementsBaseUrl: 'https://msvc-plat-announcements-stage.ss.frontlineeducation.com',\r\n\tproductUserTypeMap: nonProdProductUserTypeMap,\r\n\tproductIdMap: nonProdProductIdMap\r\n};\r\n\r\nexport const prod = {\r\n\tssBaseUrl: 'https://app.frontlineeducation.com',\r\n\tecSand: 'https://api2.frontlineeducation.com',\r\n\tannouncementsBaseUrl: 'https://msvc-plat-announcements.use1.frontlineeducation.com',\r\n\tproductUserTypeMap: {\r\n\t\t'EC': 'employee',\r\n\t\t'IepLegacyBeta': 'ss_tri_state_user_beta',\r\n\t\t'504LegacyBeta': 'ss_tri_state_user_beta',\r\n\t\t'RtiLegacyBeta': 'ss_tri_state_user_beta',\r\n\t\t'EsaLegacyBeta': 'ss_tri_state_user_beta',\r\n\t\t'MedicaidLegacyBeta': 'ss_tri_state_user_beta',\r\n\t\t'IepLegacy': 'ss_tri_state_user',\r\n\t\t'504Legacy': 'ss_tri_state_user',\r\n\t\t'RtiLegacy': 'ss_tri_state_user',\r\n\t\t'EsaLegacy': 'ss_tri_state_user',\r\n\t\t'MedicaidLegacy': 'ss_tri_state_user',\r\n\t\t'ta': 'abs_time_user',\r\n\t\t'AbsMgmt': 'abs_time_user',\r\n\t\t'pd': 'pd_user',\r\n\t\t'recruit': 'recruit_user',\r\n\t\t'IepEnrich': 'ss_enrich_user',\r\n\t\t'cc': 'cc_user',\r\n\t\t'platformTools': 'fl-employee',\r\n\t},\r\n\tproductIdMap: {}\r\n};\r\n\r\nexport function productIdFromMap(productId, productIdMap) {\r\n\tconst pIdLower = productId.toLowerCase();\r\n\treturn productIdMap[pIdLower] || pIdLower;\r\n}\r\n\r\nexport function environmentFromIdmGatewayUrl(idmGatewayUrl) {\r\n\tconst isAws = /\\/\\/idgatewayaws(.*?)\\.flqa\\.net/gi;\r\n\tconst awsMatch = isAws.exec(idmGatewayUrl);\r\n\tif (awsMatch !== null) {\r\n\t\treturn awsMatch[1];\r\n\t} else {\r\n\t\treturn 'prod';\r\n\t}\r\n}\r\n","import * as events from '../../util/event-bus';\r\nimport * as store from '../../util/store';\r\nimport * as env from '../../util/env';\r\nimport * as dom from '../../util/easy-dom';\r\nimport { toCamelCase } from '../../util/string-helpers';\r\nimport { glean } from '../../util/object-helpers';\r\nimport { isUrlUiModule } from '../../util/asset-loader';\r\n\r\nlet httpGet = null;\r\nlet idmData = null;\r\nlet featureFlagsCC = null;\r\nlet featureFlags = null;\r\nlet i18n = null;\r\nlet elem = null;\r\n\r\n// get the token and idmData from the sidekick, store in local vars\r\nevents.once('token-ready', ({get}) => { httpGet = get; makePlatformNav(); }, {greedy: true});\r\nevents.once('feature-flags-ready-cc', flagsSvc => { featureFlagsCC = flagsSvc; makePlatformNav(); }, {greedy: true});\r\nevents.once('feature-flags-ready', flagsSvc => { featureFlags = flagsSvc; makePlatformNav(); }, {greedy: true});\r\nstore.onValueOnce('idm-data', _idmData_ => { idmData = _idmData_; makePlatformNav(); });\r\n// wait for nav component to send us the translations service instance\r\nexport default (_elem, _i18n) => { i18n = _i18n; elem = _elem; makePlatformNav(); };\r\n\r\n// called multiple times but doesn't truly execute untill all data is available (like Promise.all())\r\nfunction makePlatformNav() {\r\n\t// if we don't have all the data we need yet, wait till we do\r\n\tif (httpGet == null) { return; }\r\n\tif (featureFlagsCC == null) { return; }\r\n\tif (featureFlags == null) { return; }\r\n\tif (idmData == null) { return; }\r\n\tif (i18n == null) { return; }\r\n\r\n\tconst automationNoPlatformNav = sessionStorage.getItem('automation-no-platform-nav') === 'true';\r\n\tif (automationNoPlatformNav) { return; }\r\n\r\n\tevents.on('_location.path-change', () => dom.rAF(() => {\r\n\t\tconst platformHasHighlight = elem.find('.sk--platform-menu.highlight').length > 0;\r\n\t\telem.toggleClass('sk--platform-has-highlight', platformHasHighlight);\r\n\t}));\r\n\r\n\t// locate environment specific urls\r\n\tconst flInternalProducts = store.get('fl-internal-product-ids') || [];\r\n\tconst idm = store.get('idm');\r\n\tconst envName = env.environmentFromIdmGatewayUrl(idm.idGatewayUrl);\r\n\tconst envValues = env[envName];\r\n\tconst { ecSand, ssBaseUrl } = envValues;\r\n\r\n\tconst { productId } = idmData;\r\n\tconst pId = env.productIdFromMap(productId, envValues.productIdMap);\r\n\r\n\t// bailout if this is an internal product\r\n\tif (flInternalProducts.includes(pId)) { return; }\r\n\r\n\tconst urlIsUiModule = isUrlUiModule(window.location.href);\r\n\tconst orgId = glean(idmData, x => x.userContext.OrganizationId, '');\r\n\r\n\t// the full extended nav (pre-permissions)\r\n\tconst platformNavAll = [\r\n\t\t{\r\n\t\t\ttitle: i18n('System Configuration'),\r\n\t\t\ticon: 'fa-li-settings-sliders',\r\n\t\t\trouteMatcher: [`^/${pId}-useraccess`],\r\n\t\t\tchildren: [\r\n\t\t\t\t// {\r\n\t\t\t\t//     title: i18n('Manage User Access'),\r\n\t\t\t\t//     url: `${urlIsUiModule ? '' : ssBaseUrl}/${pId}-useraccess/`,\r\n\t\t\t\t//     visible: hasPermittedAction('users', 'view')\r\n\t\t\t\t// }\r\n\t\t\t]\r\n\t\t}, {\r\n\t\t\ttitle: i18n('Employee Directory'),\r\n\t\t\ticon: 'fa-nav-users',\r\n\t\t\trouteMatcher: [`^/${pId}-employee`],\r\n\t\t\turl: `${urlIsUiModule ? '' : ssBaseUrl}/${pId}-employee/`,\r\n\t\t\tvisible: ({flags}) => flags.checkState('global_fc_shared_employee'),\r\n\t\t}, {\r\n\t\t\ttitle: i18n('Resource Library'),\r\n\t\t\ticon: 'fa-li-hand-papers',\r\n\t\t\trouteMatcher: [`^/${pId}-resource-library`],\r\n\t\t\tvisible: ({ flagsCC }) => flagsCC.checkState('sk_resource_library_sidenav_update'),\r\n\t\t\t// EXAMPLE VISIBLE FUNCTIONS\r\n\t\t\t// visible: ({flags}) => flags.checkState('someFlagValue'),\r\n\t\t\t// visible: ({permittedActions}) => permittedActions['groupName'].includes('itemName'),\r\n\t\t\tchildren: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: i18n('Library'),\r\n\t\t\t\t\tchildren: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttitle: i18n('Browse Library'),\r\n\t\t\t\t\t\t\trouteMatcher: [`^/${pId}-resource-library/library`],\r\n\t\t\t\t\t\t\turl: `${urlIsUiModule ? '' : ssBaseUrl}/${pId}-resource-library/library`,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttitle: i18n('My History'),\r\n\t\t\t\t\t\t\trouteMatcher: [`^/${pId}-resource-library/history`],\r\n\t\t\t\t\t\t\turl: `${urlIsUiModule ? '' : ssBaseUrl}/${pId}-resource-library/history`,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttitle: i18n('My Groups'),\r\n\t\t\t\t\t\t\trouteMatcher: [`^/${pId}-resource-library/groups`],\r\n\t\t\t\t\t\t\turl: `${urlIsUiModule ? '' : ssBaseUrl}/${pId}-resource-library/groups`,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: i18n('Administration'),\r\n\t\t\t\t\tchildren: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttitle: i18n('My Organization Resources'),\r\n\t\t\t\t\t\t\trouteMatcher: [`^/${pId}-resource-library/my-resources`],\r\n\t\t\t\t\t\t\turl: `${urlIsUiModule ? '' : ssBaseUrl}/${pId}-resource-library/my-resources`,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttitle: i18n('Manage Content Curator'),\r\n\t\t\t\t\t\t\trouteMatcher: [`^/${pId}-resource-library/manage-privileges`],\r\n\t\t\t\t\t\t\turl: `${urlIsUiModule ? '' : ssBaseUrl}/${pId}-resource-library/manage-privileges`,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttitle: i18n('Micro-Credential Assessor Tool'),\r\n\t\t\t\t\t\t\trouteMatcher: [`^/${pId}-resource-library/mc-assessor`],\r\n\t\t\t\t\t\t\turl: `${urlIsUiModule ? '' : ssBaseUrl}/${pId}-resource-library/mc-assessor`,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t}\r\n\t];\r\n\r\n\t// get this users permitted actions so that we can personalize the extended nav\r\n\thttpGet(`${ecSand}/PermissionAPI/api/ActionPermissions?organizationId=${orgId}`, function (res) {\r\n\t\tconst permittedActions = glean(res, x => x.data.attributes.objects, [])\r\n\t\t\t.reduce((acc, o) => Object.assign(acc, { [o.type]: o.permittedActions.map(act => toCamelCase(act)) }), {});\r\n\r\n\t\t// An array to hold the results of checkState promise along with the menu item associated with it\r\n\t\tconst visiblePromises = [];\r\n\r\n\t\t// Resolves the checkState functions by calling item.visible recursively and storing each promise\r\n\t\t// with the item in an object into the visiblePromises array above\r\n\t\tconst resolveMenuAccess = menu => {\r\n\t\t\tmenu.forEach((item, idx) => {\r\n\t\t\t\tif (item.visible) {\r\n\t\t\t\t\tconst visiblePromise = item.visible({\r\n\t\t\t\t\t\tpermittedActions,\r\n\t\t\t\t\t\tflags: featureFlags,\r\n\t\t\t\t\t\tflagsCC: featureFlagsCC\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tvisiblePromises.push({\r\n\t\t\t\t\t\titem,\r\n\t\t\t\t\t\tvisiblePromise\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (item.children) {\r\n\t\t\t\t\tresolveMenuAccess(item.children);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\t// remove everything this user doesn't have access to, using the hasVisibility that was set\r\n\t\t// to the resolved value of the checkState promise\r\n\t\tconst sanitizeMenu = menu => {\r\n\t\t\tmenu.forEach((item, idx) => {\r\n\t\t\t\t// if this item has a permission function that returns false (no-access) we\r\n\t\t\t\t// should remove the item, otherwise, leave it alone\r\n\t\t\t\tconst hasAccessToItem = glean(item, i => (i.visible == null || i.hasVisibility === true), false);\r\n\r\n\t\t\t\tif (!hasAccessToItem) {\r\n\t\t\t\t\tdelete menu[idx];\r\n\t\t\t\t} else if (item.children) {\r\n\t\t\t\t\t// if this item has children, sanitize the submenu\r\n\t\t\t\t\titem.children = sanitizeMenu(item.children);\r\n\r\n\t\t\t\t\t// if all the children have been removed, there's no need to keep the parent\r\n\t\t\t\t\tif (item.children.length === 0) {\r\n\t\t\t\t\t\tdelete menu[idx];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// return the menu with deleted items removed\r\n\t\t\treturn menu.filter(item => item !== undefined);\r\n\t\t};\r\n\r\n\t\t// Gather all of the promises\r\n\t\tresolveMenuAccess(platformNavAll);\r\n\r\n\t\t// Wait until all checkState promises have resolved\r\n\t\tPromise.all(visiblePromises.map(vp => vp.visiblePromise)).then((visibleSettings) => {\r\n\t\t\t// For each item that had a promise, set hasVisibility to the resolved value of the checkState promise\r\n\t\t\tvisiblePromises.forEach((vp, idx) => {\r\n\t\t\t\tvp.item.hasVisibility = visibleSettings[idx];\r\n\t\t\t});\r\n\t\t}).then(() => {\r\n\t\t\t// Finally sanitize the menu and set it to the store\r\n\t\t\tconst personalizedNav = sanitizeMenu(platformNavAll);\r\n\t\t\tstore.set('_platform-nav-items', personalizedNav);\r\n\t\t});\r\n\t});\r\n}\r\n\r\n// function hasPermittedAction(group, item) {\r\n//     return ({permittedActions}) => permittedActions[group].includes(item);\r\n// }\r\n","/**\r\n* @module Sidekick.KeyPressHelper\r\n* @memberOf Sidekick\r\n*/\r\n\r\nconst keys = {\r\n\t' ': 32, // space\r\n\t'arrowdown': 40,\r\n\t'arrowleft': 37,\r\n\t'arrowright': 39,\r\n\t'arrowup': 38,\r\n\t'enter': 13,\r\n\t'escape': 27,\r\n\t'tab': 9,\r\n};\r\n\r\n/**\r\n * Determines if the specified key was pressed\r\n *\r\n * @param {Object} evt\r\n *\r\n * @return {Boolean} Returns true if the specified key was pressed. False otherwise\r\n */\r\nexport function isKey(evt, keyName, which) {\r\n\tif (evt == null) { return false; }\r\n\r\n\tconst keyPressed = evt.key && evt.key.toLowerCase() === keyName;\r\n\tconst whichPressed = evt.which === which;\r\n\r\n\treturn keyPressed || whichPressed;\r\n}\r\n\r\n/**\r\n * Utility function that maps a key name to a keyCode value before passing the event to isKey\r\n *\r\n * @param {Object} evt\r\n * @param {String} keyName\r\n *\r\n * @return {Boolean}\r\n */\r\nfunction checkKey(evt, keyName) {\r\n\treturn isKey(evt, keyName, keys[keyName]);\r\n}\r\n\r\n/**\r\n * Determines if ENTER was pressed\r\n *\r\n * @param {Object} evt\r\n *\r\n * @return {Boolean} Returns true if ENTER was pressed. False otherwise\r\n */\r\nexport function isEnter(evt) {\r\n\treturn checkKey(evt, 'enter');\r\n}\r\n\r\n/**\r\n * Determines if ESCAPE was pressed\r\n *\r\n * @param {Object} evt\r\n *\r\n * @return {Boolean} Returns true if ESCAPE was pressed. False otherwise\r\n */\r\nexport function isEscape(evt) {\r\n\treturn checkKey(evt, 'escape');\r\n}\r\n\r\n/**\r\n * Determines if TAB was pressed\r\n *\r\n * @param {Object} evt\r\n *\r\n * @return {Boolean} Returns true if TAB was pressed. False otherwise\r\n */\r\nexport function isTab(evt) {\r\n\treturn checkKey(evt, 'tab');\r\n}\r\n\r\n/**\r\n * Determines if LEFT was pressed\r\n *\r\n * @param {Object} evt\r\n *\r\n * @return {Boolean} Returns true if LEFT was pressed. False otherwise\r\n */\r\nexport function isLeft(evt) {\r\n\treturn checkKey(evt, 'arrowleft');\r\n}\r\n\r\n/**\r\n * Determines if UP was pressed\r\n *\r\n * @param {Object} evt\r\n *\r\n * @return {Boolean} Returns true if UP was pressed. False otherwise\r\n */\r\nexport function isUp(evt) {\r\n\treturn checkKey(evt, 'arrowup');\r\n}\r\n\r\n/**\r\n * Determines if RIGHT was pressed\r\n *\r\n * @param {Object} evt\r\n *\r\n * @return {Boolean} Returns true if RIGHT was pressed. False otherwise\r\n */\r\nexport function isRight(evt) {\r\n\treturn checkKey(evt, 'arrowright');\r\n}\r\n\r\n/**\r\n * Determines if DOWN was pressed\r\n *\r\n * @param {Object} evt\r\n *\r\n * @return {Boolean} Returns true if DOWN was pressed. False otherwise\r\n */\r\nexport function isDown(evt) {\r\n\treturn checkKey(evt, 'arrowdown');\r\n}\r\n\r\n/**\r\n * Determines if SPACE was pressed\r\n *\r\n * @param {Object} evt\r\n *\r\n * @return {Boolean} Returns true if SPACE was pressed. False otherwise\r\n */\r\nexport function isSpace(evt) {\r\n\treturn checkKey(evt, ' ');\r\n}\r\n","/* globals ambient */\r\nimport loadPlatformNav from './nav-platform';\r\nimport * as dom from '../../util/easy-dom';\r\nimport * as events from '../../util/event-bus';\r\nimport * as store from '../../util/store';\r\nimport * as keyPress from '../../util/key-press-helpers';\r\n\r\nconst expandKey = 'sk-leftnav-expanded';\r\nconst storage = window.localStorage;\r\nconst animationDuration = 300;\r\n\r\n/**\r\n * Top level navigation\r\n * @class Sidekick.Navigation\r\n * @memberOf Sidekick\r\n * @param {EasyDom} elem - Container {@link EasyDom} element\r\n * @param {Object} attrs - Any attributes present on the \"elem\" dom node\r\n * @param {Object} ctx - Context object containing nav data\r\n * @param {Function} i18n - translation function\r\n */\r\nexport default function(elem, attrs, ctx, i18n) {\r\n\tloadPlatformNav(elem, i18n);\r\n\tvar autoCollapseNav = ambient.isActive('sk-auto-collapse-nav');\r\n\tvar currentPath = '';\r\n\tconst appCfg = store.get('sk-config');\r\n\r\n\t// stores the expanded state of the user preference\r\n\tlet expandState = storage.getItem(expandKey) !== 'false';\r\n\r\n\t/////\r\n\t// dom elements we require access to\r\n\t//\r\n\tconst domAppEl = dom.element(appCfg.appElement);\r\n\tconst domBody = dom.element(document.body);\r\n\tconst [domDimmer] = elem.find('.sk--content-dimmer');\r\n\tconst [domNavArrowIcon] = elem.find('.sk--nav-arrow');\r\n\tconst [domNavArrowTooltip] = elem.find('.sk--nav-arrow-tooltip');\r\n\tconst [domTopSection] = elem.find('.sk--top-section');\r\n\tconst [domBottomSection] = elem.find('.sk--bottom-section');\r\n\tconst [domOrgBrandSmall] = elem.find('.sk--org-brand-small');\r\n\tconst [domOrgBrandLarge] = elem.find('.sk--org-brand-large');\r\n\tconst [domFlBrandLarge] = domBottomSection.find(`.sk--full-logo > a`);\r\n\tconst [domFlBrandSmall] = domBottomSection.find(`.sk--small-logo > a`);\r\n\r\n\t/////\r\n\t// init styles\r\n\t//\r\n\r\n\t/////\r\n\t// register event listeners and handlers\r\n\t//\r\n\tdomTopSection.on('click', (evt) => evt.stopPropagation());\r\n\tdomBottomSection.on('click', (evt) => evt.stopPropagation());\r\n\tdomBody.on('click', closeSubMenu);\r\n\tdomDimmer.on('click', () => autoCollapseNav ? toggleNavExpanded(false) : closeSubMenu());\r\n\tevents.on('sk-menu-open', function (menu) {\r\n\t\tif (menu === null) { return; }\r\n\t\tif (autoCollapseNav) { toggleNavExpanded(false); }\r\n\t\tcloseSubMenu();\r\n\t});\r\n\r\n\tstore.onValueOnce('org-branding-data', function (branding) {\r\n\t\tif (branding == null) { return; }\r\n\t\tconst {rectangleImagePublicUrl, squareImagePublicUrl} = branding;\r\n\t\tif (rectangleImagePublicUrl == null) { return; }\r\n\t\tif (squareImagePublicUrl == null) { return; }\r\n\r\n\t\tdomOrgBrandSmall.css('background-image', `url(${squareImagePublicUrl})`);\r\n\t\tdomOrgBrandLarge.css('background-image', `url(${rectangleImagePublicUrl})`);\r\n\t\telem.addClass('sk--has-org-branding');\r\n\t});\r\n\r\n\tevents.on('nav.menu-item-clicked', handleMenuClick);\r\n\tevents.on('nav.plat-menu-item-clicked', handleMenuClick);\r\n\tfunction handleMenuClick() {\r\n\t\t// clear focus from item clicked\r\n\t\tif (document.activeElement) { document.activeElement.blur(); }\r\n\t\t// handle NAV collapsing after menu click\r\n\t\tif (autoCollapseNav) {\r\n\t\t\ttoggleNavExpanded(false);\r\n\t\t} else {\r\n\t\t\tcloseSubMenu();\r\n\t\t}\r\n\t}\r\n\r\n\tevents.on('nav.visible', function(show) {\r\n\t\tdomAppEl.toggleClass('sk-nav-hidden', !show);\r\n\t}, true);\r\n\tfunction handleArrowToggle(evt) {\r\n\t\tif (!autoCollapseNav) {\r\n\t\t\texpandState = !domBody.hasClass('sk-nav-expanded');\r\n\t\t\tstorage.setItem(expandKey, expandState);\r\n\t\t\tevents.emit('_nav.expand-arrow', expandState);\r\n\t\t}\r\n\t\ttoggleNavExpanded();\r\n\t}\r\n\tdomNavArrowIcon.on('click', (evt) => {\r\n\t\thandleArrowToggle(evt);\r\n\t\t// evt.target.blur();\r\n\t});\r\n\tdomNavArrowIcon.on('keydown', (evt) => {\r\n\t\tswitch(true) {\r\n\t\tcase keyPress.isEnter(evt):\r\n\t\tcase keyPress.isSpace(evt):\r\n\t\t\thandleArrowToggle(evt);\r\n\t\t\tbreak;\r\n\t\t}\r\n\t});\r\n\tambient.on('enter', 'sk-auto-collapse-nav', () => setAutoCollapseNav(true));\r\n\tambient.on('leave', 'sk-auto-collapse-nav', () => setAutoCollapseNav(false));\r\n\t// setInterval is the most reliable way to handle all path changes Â¯\\_(ãƒ„)_/Â¯\r\n\tsetInterval(checkForPathChange, 500);\r\n\r\n\t// listen for idm-data for a user preference; update local variable and storage if found\r\n\tstore.onValueOnce('idm-data', data => {\r\n\t\tif (data.session.State == null || data.session.State.prefLeftNavExpanded == null) { return; }\r\n\t\texpandState = data.session.State.prefLeftNavExpanded;\r\n\t\tstorage.setItem(expandKey, expandState);\r\n\t\tif (!autoCollapseNav) {\r\n\t\t\ttoggleNavExpanded(expandState);\r\n\t\t}\r\n\t});\r\n\r\n\tdomBody.addClass('sk-nav-submenu-collapsed');\r\n\tif (autoCollapseNav) { elem.addClass('sk-nav-collapsed'); }\r\n\r\n\tif (ctx.menuItems == null) { return; }\r\n\r\n\t// if extended nav data is not loaded yet, wait for data and re-render nav\r\n\tlet extendedNav = store.get('_platform-nav-items');\r\n\t// if the extended nav isn't available yet, setup another render call for when it shows up\r\n\tif (extendedNav == null) {\r\n\t\tstore.onValueOnce('_platform-nav-items', eNav => renderMenu(eNav, true));\r\n\t}\r\n\t// render the menu NOW because we want to show it as soon as possible\r\n\trenderMenu(extendedNav || []);\r\n\r\n\tfunction renderMenu(platformNav, kickCycle = false) {\r\n\t\tconst [menuContainer] = elem.find('.sk--menu-items');\r\n\r\n\t\tconst appMenuItems = ctx.menuItems.map(m => Object.assign(m, {isPlatformMenu: false}));\r\n\t\tconst menuDivider = platformNav.length ? ['-'] : [];\r\n\t\tconst platformMenuItems = platformNav.map(m => Object.assign(m, {isPlatformMenu: true}));\r\n\r\n\t\tconst mainMenuItems = [\r\n\t\t\t...appMenuItems,     // product nav\r\n\t\t\t...menuDivider,      // ------------\r\n\t\t\t...platformMenuItems // platform nav\r\n\t\t].map(function (item, idx) {\r\n\t\t\tif (item === '-') {\r\n\t\t\t\treturn dom.parse(`<li class=\"sk--menu-divider\"></li>`);\r\n\t\t\t}\r\n\t\t\t// create the base element\r\n\t\t\tconst el = dom.parse(`<li sk-nav-item></li>`);\r\n\r\n\t\t\t// add menuName value if present\r\n\t\t\tif (typeof item.menuName === 'string') {\r\n\t\t\t\tel.data('menu-name', item.menuName);\r\n\t\t\t}\r\n\r\n\t\t\t// attach context item for component rendering\r\n\t\t\tel._.context = item;\r\n\r\n\t\t\t// after the next sidekick cycle processes this menu item, hook it\r\n\t\t\t// up to handle flyouts and menu actions\r\n\t\t\tdom.rAF(function () {\r\n\t\t\t\tconst domContainer = el.find('.sk--main-menu-item-container')[0];\r\n\r\n\t\t\t\tif (!item.url || (item.children && item.children.length)) {\r\n\t\t\t\t\tdomContainer.on('click', evt => evt.preventDefault());\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (item.children && item.children.length) {\r\n\t\t\t\t\tdomContainer.on('click', () => menuHasAttention(el));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdomContainer.on('click', closeSubMenu);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\treturn el;\r\n\t\t});\r\n\t\t// add the menu items to the DOM\r\n\t\tmenuContainer.empty().append(mainMenuItems);\r\n\t\tif (kickCycle) { window.sidekick.cycle(); }\r\n\r\n\t\tdom.rAF(() => {\r\n\t\t\tlet val = (\r\n\t\t\t\tdomTopSection._.getBoundingClientRect().bottom\r\n\t\t\t\t+ domBottomSection._.getBoundingClientRect().height\r\n\t\t\t\t- elem._.getBoundingClientRect().top\r\n\t\t\t);\r\n\t\t\telem.css('min-height', `${val}px`);\r\n\t\t});\r\n\t}\r\n\r\n\tif (!autoCollapseNav) {\r\n\t\ttoggleNavExpanded(expandState);\r\n\t}\r\n\r\n\t/////\r\n\t// helper functions\r\n\t//\r\n\t// compare the current path to the location and emit an event if path has changed\r\n\tfunction checkForPathChange() {\r\n\t\tif (currentPath === window.location.href) { return; }\r\n\t\tconst previousPath = currentPath;\r\n\t\tcurrentPath = window.location.href;\r\n\t\tconst host = window.location.host;\r\n\t\tconst path = currentPath.substr(currentPath.indexOf(host) + host.length);\r\n\r\n\t\tevents.emit('_location.path-change', path, currentPath, previousPath);\r\n\t}\r\n\r\n\tvar expandedFootprint = null;\r\n\r\n\tfunction toggleNavArrowTooltipContent(open) {\r\n\t\tconst navArrowContent = i18n(open ? 'Minimize Navigation' : 'Expand Navigation');\r\n\t\tdomNavArrowTooltip.attr('content', navArrowContent);\r\n\t\tdom.rAF(function () {\r\n\t\t\tconst tipContent = domNavArrowTooltip.find('.sk-tip-content')[0];\r\n\t\t\tif (tipContent != null) {\r\n\t\t\t\ttipContent._.textContent = navArrowContent;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction toggleNavExpanded(open) {\r\n\t\tif (open == null) { open = !domBody.hasClass('sk-nav-expanded'); }\r\n\r\n\t\tconst newExpandedFootprintState = open && !autoCollapseNav;\r\n\t\tif (newExpandedFootprintState !== expandedFootprint) {\r\n\t\t\tevents.emit('nav.expanded-footprint', newExpandedFootprintState);\r\n\t\t\texpandedFootprint = newExpandedFootprintState;\r\n\t\t}\r\n\r\n\t\tif (open) {\r\n\t\t\tevents.emit('sk-menu-open', null); // close other menus\r\n\t\t\telem.removeClass('sk-nav-collapsed'); // the nav is about to NOT be collapsed\r\n\t\t}\r\n\r\n\t\ttoggleNavArrowTooltipContent(open);\r\n\r\n\t\t// allow the sk-nav-collapsed class change to take effect before making\r\n\t\t// more DOM changes, this makes css animations work correctly\r\n\t\tdom.rAF(function () {\r\n\t\t\t// if there is a submenu open, close it while we toggle the nav state\r\n\t\t\tif (domBody.hasClass('sk-nav-submenu-active')) { closeSubMenu(); }\r\n\t\t\t// add/remove sk-nav-expanded class if we are opening\r\n\t\t\tdomBody.toggleClass('sk-nav-expanded', open);\r\n\r\n\t\t\t// if we are closing, we need to add the sk-nav-collapsed class after the\r\n\t\t\t// css animation finishes\r\n\t\t\tif (!open) {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tif (!domBody.hasClass('sk-nav-expanded')) {\r\n\t\t\t\t\t\telem.addClass('sk-nav-collapsed');\r\n\t\t\t\t\t}\r\n\t\t\t\t}, animationDuration);\r\n\t\t\t}\r\n\r\n\t\t\t// toggle the tabindex of the logo links according to nav expanded state\r\n\t\t\t// (preferred due to the animation)\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tdomFlBrandLarge.attr('tabindex', open ? null : '-1'); // only tabable when open\r\n\t\t\t\tdomFlBrandSmall.attr('tabindex', open ? '-1' : null); // only tabable when shut\r\n\t\t\t}, animationDuration);\r\n\t\t});\r\n\t}\r\n\r\n\tfunction closeSubMenu() {\r\n\t\tdomBody.removeClass('sk-nav-submenu-active');\r\n\t\tdom.find('.sidekick.sk-nav .sk-submenu-active').forEach(m => m.removeClass('sk-submenu-active'));\r\n\t\t// add the sk-nav-submenu-collapsed class after the css animation finishes\r\n\t\tsetTimeout(() => domBody.addClass('sk-nav-submenu-collapsed'), animationDuration);\r\n\t}\r\n\r\n\tfunction setAutoCollapseNav(state) {\r\n\t\tautoCollapseNav = state;\r\n\t\tif (state) {\r\n\t\t\ttoggleNavExpanded(false);\r\n\t\t} else {\r\n\t\t\ttoggleNavExpanded(expandState);\r\n\t\t}\r\n\t}\r\n\r\n\t// the menu item gains attention\r\n\tfunction menuHasAttention(menu) {\r\n\t\tevents.emit('sk-menu-open', null); // close other menus\r\n\t\tconst [subMenu] = menu.find('.sk-nav-item-mega-menu,.sk-nav-item-submenu');\r\n\t\tsubMenu.on('keydown', (evt) => {\r\n\t\t\tswitch(true) {\r\n\t\t\tcase keyPress.isEscape(evt):\r\n\t\t\t\tsubMenu.removeClass('sk-submenu-active');\r\n\t\t\t\tmenu.removeClass('sk-submenu-active');\r\n\t\t\t\tconst [link] = menu.find('a');\r\n\t\t\t\tif (link != null) {\r\n\t\t\t\t\tlink._.focus();\r\n\t\t\t\t}\r\n\t\t\t\tevt.stopPropagation();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t});\r\n\t\tdom.rAF(function () {\r\n\t\t\tdomBody.removeClass('sk-nav-submenu-collapsed');\r\n\t\t\tdom.rAF(function () {\r\n\t\t\t\tmenu.toggleClass('sk-submenu-active');\r\n\t\t\t\tif (menu.hasClass('sk-submenu-active')) {\r\n\t\t\t\t\t// make sure the global context reflects that there is a menu open\r\n\t\t\t\t\tdomBody.addClass('sk-nav-submenu-active');\r\n\t\t\t\t\tif (subMenu != null) {\r\n\t\t\t\t\t\tsubMenu._.focus();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// if there's another menu open, close it\r\n\t\t\t\t\tdom.find('.sidekick.sk-nav .sk-submenu-active')\r\n\t\t\t\t\t\t.filter(el => el !== menu)\r\n\t\t\t\t\t\t.forEach(el => el.removeClass('sk-submenu-active'));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcloseSubMenu();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n};\r\n","import * as dom from '../../util/easy-dom';\r\nimport * as events from '../../util/event-bus';\r\nimport {pathMatchesRoute} from '../../util/route-helpers';\r\nimport {isArray} from '../../util/type-checkers';\r\n\r\nexport default function(elem, attrs, ctx, i18n) {\r\n\r\n\t// backward compatability with item.route value\r\n\tctx.url = ctx.url || ctx.route || null;\r\n\tif (ctx.isPlatformMenu) { elem.addClass('sk--platform-menu'); }\r\n\r\n\tlet subMenu = null;\r\n\tif (ctx.children && ctx.children.length) {\r\n\t\tconst subMenuType = (shouldWeMega(ctx.children) ? 'mega-menu' : 'submenu');\r\n\t\tsubMenu = dom.parse(`<div sk-nav-item-${subMenuType} sub-level=\"1\" tabindex=\"-1\"></div>`);\r\n\t\tsubMenu._.context = ctx.children;\r\n\t\telem.append(subMenu);\r\n\t\telem.addClass('sk--has-children');\r\n\t} else {\r\n\t\tvar a = elem.find('.sk--main-menu-item-container')[0];\r\n\t\tif (ctx.target) {\r\n\t\t\ta.attr('target', ctx.target);\r\n\t\t}\r\n\t\telem.addClass('sk--menu-action');\r\n\t\tconst menuType = (ctx.isPlatformMenu ? 'plat-menu-item' : 'menu-item');\r\n\t\telem.on('click', evt => events.emit(`nav.${menuType}-clicked`, ctx, evt));\r\n\t}\r\n\r\n\tif (ctx.badgeEvent != null) {\r\n\t\tconst domBadge = elem.find('.sk--badge')[0];\r\n\r\n\t\tevents.on(ctx.badgeEvent, data => {\r\n\t\t\tdomBadge.css('display', 'none');\r\n\t\t\tdomBadge.removeClass('sk--max');\r\n\r\n\t\t\tif (data === true) {\r\n\t\t\t\tdomBadge.css('display', 'block');\r\n\t\t\t\tdomBadge.addClass('sk--empty');\r\n\t\t\t} else if (Number.isInteger(data)) {\r\n\t\t\t\tif (data < 1) { return; }\r\n\r\n\t\t\t\tdomBadge.css('display', 'block');\r\n\r\n\t\t\t\tdomBadge.css('display', 'block');\r\n\t\t\t\tdomBadge._.innerHTML = Math.min(data, 99);\r\n\r\n\t\t\t\tif (data > 99) {\r\n\t\t\t\t\tdomBadge.addClass('sk--max');\r\n\t\t\t\t\tdomBadge._.innerHTML += '+';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}, true);\r\n\t}\r\n\r\n\tevents.on('_location.path-change', highlightRoute);\r\n\r\n\tfunction highlightRoute(path) {\r\n\t\tconst highlighted = pathMatchesRoute(path, ctx.url, ctx.routeMatcher);\r\n\t\telem.toggleClass('highlight', highlighted);\r\n\t}\r\n\r\n\tfunction shouldWeMega(children) {\r\n\t\tconst noOrphanNodes = children.every(n => isArray(n.children));\r\n\t\tconst totalNodes = countNodes(children);\r\n\t\treturn noOrphanNodes && totalNodes <= 30;\r\n\t}\r\n\r\n\tfunction countNodes(children) {\r\n\t\t// children must be an array\r\n\t\tif (!isArray(children)) { return 0; }\r\n\t\treturn children.reduce(function (total, child) {\r\n\t\t\t++total;\r\n\t\t\tif (isArray(child.children)) { total += child.children.length; }\r\n\t\t\treturn total;\r\n\t\t}, 0);\r\n\t}\r\n};\r\n","import * as dom from './easy-dom';\r\nimport * as events from './event-bus';\r\nimport * as store from './store';\r\nimport * as keyPress from './key-press-helpers';\r\n\r\n/**\r\n * @module Sidekick.ComponentCommon\r\n * @memberOf Sidekick\r\n */\r\n\r\n/**\r\n * Sets up common <code>on</code> handlers for a menu item\r\n * @function cmptMenuItem\r\n * @instance\r\n * @param  {Element} domCmpt\r\n * @param  {Element} domHandle\r\n * @param  {Element} mItem\r\n */\r\nexport function cmptMenuItem(domCmpt, domHandle, domMenuList, domMenuItem) {\r\n\tdomMenuItem.find('[role=menuitem]').forEach(domMenuItemLink => {\r\n\t\tdomMenuItemLink.on('focus', evt => {\r\n\t\t\tdomMenuItemLink.attr('aria-selected', true);\r\n\t\t});\r\n\r\n\t\tdomMenuItemLink.on('blur', evt => {\r\n\t\t\tdomMenuItemLink.attr('aria-selected', false);\r\n\t\t});\r\n\t});\r\n\r\n\tdomMenuItem.on('keydown', evt => {\r\n\t\tlet prevDef = false;\r\n\r\n\t\tswitch(true) {\r\n\t\t\tcase keyPress.isTab(evt):\r\n\t\t\t\tbreak;\r\n\t\t\tcase keyPress.isLeft(evt):\r\n\t\t\tcase keyPress.isRight(evt):\r\n\t\t\t\tbreak;\r\n\t\t\tcase keyPress.isUp(evt):\r\n\t\t\tcase keyPress.isDown(evt):\r\n\t\t\t\tconst menuItemElems = Array.prototype.slice.call(domMenuList._.children);\r\n\t\t\t\tconst menuItemIdx = menuItemElems.indexOf(domMenuItem._);\r\n\t\t\t\tif (menuItemIdx === (keyPress.isUp(evt) ? 0 : menuItemElems.length - 1)) {\r\n\t\t\t\t\tprevDef = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tconst nextIdx = menuItemIdx + (keyPress.isUp(evt) ? -1 : 1);\r\n\t\t\t\tconst nextElem = menuItemElems[nextIdx].querySelector('[role=menuitem]');\r\n\t\t\t\tnextElem.focus();\r\n\t\t\t\tevt.stopPropagation(); // override up/down handling at the menu level\r\n\t\t\t\tprevDef = true;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\tif (prevDef) {\r\n\t\t\tevt.preventDefault();\r\n\t\t}\r\n\t});\r\n}\r\n\r\n/**\r\n * Sets up common <code>on</code> handlers for a menu\r\n * @function cmptMenu\r\n * @instance\r\n * @param  {Element} domCmpt\r\n * @param  {Element} domHandle\r\n * @param  {Element} domMenu\r\n */\r\nexport function cmptMenu(domCmpt, domHandle, domMenu) {\r\n\tfunction onClick(evt) {\r\n\t\tconst isOpen = domHandle.hasClass('ss-menu-open');\r\n\t\tevents.emit(`sk-menu-${isOpen ? 'close' : 'open'}`, domCmpt, evt);\r\n\t}\r\n\r\n\tdomCmpt.on('click', function (evt) {\r\n\t\tif (!domCmpt.hasClass('sk-no-click')) { evt.stopPropagation(); }\r\n\t});\r\n\tdomHandle.on('click', onClick);\r\n\tdomHandle.on('keydown', (evt) => {\r\n\t\tlet prevDef = false;\r\n\t\tswitch (true) {\r\n\t\t\tcase keyPress.isEnter(evt):\r\n\t\t\tcase keyPress.isSpace(evt):\r\n\t\t\tcase keyPress.isDown(evt):\r\n\t\t\tcase keyPress.isUp(evt):\r\n\t\t\t\tonClick(evt);\r\n\t\t\t\tprevDef = true;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\tif (prevDef) {\r\n\t\t\tevt.preventDefault();\r\n\t\t}\r\n\t});\r\n\tdomMenu.attr('tabindex', '-1');\r\n\tdomMenu.on('keydown', (evt) => {\r\n\t\tlet prevDef = false;\r\n\t\tswitch (true) {\r\n\t\t\tcase keyPress.isDown(evt):\r\n\t\t\tcase keyPress.isUp(evt):\r\n\t\t\t\tdomMenu\r\n\t\t\t\t\t.find('[role=menuitem]')\r\n\t\t\t\t\t.forEach((mItem, idx, menuItems) => {\r\n\t\t\t\t\t\tconst focusIdx = keyPress.isUp(evt) ? menuItems.length - 1 : 0;\r\n\t\t\t\t\t\tconst focusOrBlur = idx === focusIdx ? 'focus' : 'blur';\r\n\t\t\t\t\t\tmItem._[focusOrBlur]();\r\n\t\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase keyPress.isEscape(evt):\r\n\t\t\t\tevents.emit('sk-menu-close', domCmpt);\r\n\t\t\t\tdomHandle._.focus();\r\n\t\t\t\tprevDef = true;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\tif (prevDef) {\r\n\t\t\tevt.preventDefault();\r\n\t\t}\r\n\t});\r\n\tdom.element(window).on('blur', function () {\r\n\t\tif (document.activeElement != null && document.activeElement.tagName === 'IFRAME') {\r\n\t\t\tevents.emit('sk-menu-close', domCmpt);\r\n\t\t}\r\n\t});\r\n\tdom.element(document).on('click', () => events.emit('sk-menu-close', domCmpt));\r\n\r\n\t// handle open events\r\n\tevents.on('sk-menu-open', function (cmpt, evt) {\r\n\t\tif (cmpt !== domCmpt) {\r\n\t\t\t// if this was an open event for another menu, close me\r\n\t\t\tevents.emit('sk-menu-close', domCmpt);\r\n\t\t} else {\r\n\t\t\t// this was an open event for me, open me\r\n\t\t\tdomHandle.addClass('ss-menu-open');\r\n\t\t\tdomHandle.attr('aria-pressed', 'true');\r\n\t\t\tdomMenu.addClass('ss-menu-open');\r\n\t\t\tdomMenu.attr('aria-hidden', 'false');\r\n\r\n\t\t\tif (keyPress.isDown(evt) || keyPress.isUp(evt)) {\r\n\t\t\t\t// focus the appropriate menu item (the first item by default, or the\r\n\t\t\t\t// last item if the 'up' keyCode was emitted)\r\n\t\t\t\tdomMenu\r\n\t\t\t\t\t.find('[role=menuitem]')\r\n\t\t\t\t\t.forEach((mItem, idx, menuItems) => {\r\n\t\t\t\t\t\tconst focusIdx = keyPress.isUp(evt) ? menuItems.length - 1 : 0;\r\n\t\t\t\t\t\tconst willFocus = idx === focusIdx;\r\n\t\t\t\t\t\tmItem._[willFocus ? 'focus' : 'blur']();\r\n\t\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tdomMenu._.focus();\r\n\t\t}\r\n\t});\r\n\r\n\t// handle close events\r\n\tevents.on('sk-menu-close', function (cmpt, external = true) {\r\n\t\t// if this close event was for another menu, ignore\r\n\t\tif (cmpt !== domCmpt) { return; }\r\n\t\t// close the menu\r\n\t\tdomHandle.removeClass('ss-menu-open');\r\n\t\tdomHandle.attr('aria-pressed', 'false');\r\n\t\tdomMenu.removeClass('ss-menu-open');\r\n\t\tdomMenu.attr('aria-hidden', 'true');\r\n\r\n\t\tconst menuItems = domMenu.find('[role=menuitem]');\r\n\t\tmenuItems.map(mItem => mItem.attr('aria-selected', false));\r\n\t});\r\n}\r\n\r\n/**\r\n * handle the clear button functionality for an sk-input element\r\n * @function cmptInputClear\r\n * @instance\r\n * @param {Element} domInput\r\n * @param {Element} domClearBtn\r\n * @param {Boolean} clearOnEscape - Adds an event handler to run when you press escape\r\n */\r\nexport function cmptInputClear(domInput, domClearBtn, clearOnEscape) {\r\n\t// toggle sk-hidden based on the content\r\n\tconst toggleClear = () => {\r\n\t\tdomClearBtn.toggleClass('sk-hidden', !domInput._.value.length);\r\n\t};\r\n\r\n\tdomInput.on('input', toggleClear);\r\n\tdomClearBtn.on('click', clear);\r\n\tif (clearOnEscape) {\r\n\t\tdomInput.on('keydown', clearOnEscapeCall);\r\n\t}\r\n\r\n\ttoggleClear();\r\n\r\n\tfunction clear() {\r\n\t\tdomInput._.value = '';\r\n\t\tdomInput._.focus();\r\n\t\ttoggleClear();\r\n\t}\r\n\r\n\tfunction clearOnEscapeCall(evt) {\r\n\t\t// bail out if this was not the ESCAPE key\r\n\t\tif (!keyPress.isEscape(evt)) { return; }\r\n\r\n\t\tclear();\r\n\t}\r\n}\r\n\r\nexport const queryStringObject = function () {\r\n\tconst raw = window.location.search;\r\n\tif (raw.length === 0) { return {}; }\r\n\tconst rawArr = raw.slice(1).split('&');\r\n\treturn rawArr.reduce(function (o, qs) {\r\n\t\tconst [key, value] = qs.split('=');\r\n\t\to[decodeURIComponent(key)] = decodeURIComponent(value);\r\n\t\treturn o;\r\n\t}, {});\r\n};\r\n\r\n///////\r\n// calculating and distribute the top bar extra width\r\n// to dynamic width elements\r\n//\r\nvar activityIndicatorWidth = 0;\r\nvar impersonationMode = false;\r\nconst staticElems = {};\r\nconst dynamicElems = {};\r\nconst staticWidthElemNames = ['app-switcher', 'search', 'help', 'notifications'];\r\nconst impStaticWidthElemNames = ['app-switcher', 'search'];\r\nconst dynamicWidthElemNames = ['user-info', 'org-switcher'];\r\nconst impDynamicWidthElemNames = ['impersonated-user', 'org-switcher'];\r\n\r\n/**\r\n * cmptDynamicWidth - registers a header component that should be dynamic\r\n * width and occupy as much space (max-width) as possible\r\n *\r\n * @param {EasyDomElement} elem - the element that should be dynamic\r\n * @param {String} text - the dynamic text content to use for measurements\r\n * @param {Number} adjustment - the px amount to add to measurement to compensate for padding\r\n */\r\nexport const cmptDynamicWidth = function (name, elem, text, adjustment = 0, font = 'normal 15px') {\r\n\tconst firstRegistration = dynamicElems[name] == null;\r\n\tdynamicElems[name] = {elem, text, adjustment, font};\r\n\r\n\t// if this elem is the user-info component and this is the first\r\n\t// time we see it being registered. start watching for role data\r\n\tif (name === 'user-info' && firstRegistration) { watchForRoles(); }\r\n\r\n\t// update our size calculations\r\n\tadjustDynamicWidthElements();\r\n};\r\n\r\n// re-calculate the measurements because adjustments have been made\r\nfunction adjustDynamicWidthElements() {\r\n\t// decide what elements could be on the screen based on if we are impersonating\r\n\tconst _staticWidthElemNames = (impersonationMode ? impStaticWidthElemNames : staticWidthElemNames);\r\n\tconst _dynamicWidthElemNames = (impersonationMode ? impDynamicWidthElemNames : dynamicWidthElemNames);\r\n\r\n\t// calculate the total width of all static elements on the screen\r\n\t// give the header an extra 43 pixels for impersonation mode to accommodate the X\r\n\tconst _totalStaticWidth = _staticWidthElemNames.reduce(function (total, elName) {\r\n\t\tconst elWidth = staticElems[elName] && parseFloat(staticElems[elName].css('width'));\r\n\t\treturn total + (elWidth || 0);\r\n\t}, (impersonationMode ? 48 : 5));\r\n\r\n\t// figure out what dyamic elements are on screen currently\r\n\tconst _dynamicWidthElems = _dynamicWidthElemNames\r\n\t\t.filter(elName => dynamicElems[elName] != null)\r\n\t\t.map(elName => dynamicElems[elName])\r\n\t\t.map(e => Object.assign({}, e, {width: measureText(e.text, e.font)}));\r\n\r\n\t// calculate the total width of all dymanic elements based on their text width\r\n\tconst _totalDynamicWidth = _dynamicWidthElems.reduce((t, e) => t + (e.width + e.adjustment), 0);\r\n\r\n\t// apply the corrent percent width calculation for each dynamic element\r\n\t_dynamicWidthElems.forEach(function (e) {\r\n\t\tconst _staticWidth = _totalStaticWidth + activityIndicatorWidth;\r\n\t\tconst widthPercent = Math.floor(((e.width + e.adjustment)/_totalDynamicWidth) * 100);\r\n\t\tconst itemPxReductionAmt = _staticWidth * (widthPercent / 100);\r\n\t\te.elem.css('max-width', `calc(${widthPercent}% - ${itemPxReductionAmt}px)`);\r\n\t});\r\n}\r\n\r\nconst drawCtx = document.createElement('canvas').getContext('2d');\r\n// measure how many px this text will take up\r\nfunction measureText(text, font = 'normal 15px') {\r\n\tconst fontFamily = `'Open Sans','Helvetica Neue',Helvetica,Arial,sans-serif`;\r\n\tdrawCtx.font = `${font} ${fontFamily}`;\r\n\treturn drawCtx.measureText(text).width;\r\n}\r\n\r\n// if we switch to or from impersonation mode, we should recalculate header space\r\nevents.on('_header.impersonation', function (impMode) {\r\n\timpersonationMode = impMode;\r\n\tadjustDynamicWidthElements();\r\n});\r\n\r\n// the activity-indicator doesn't initially take up space, but it requires\r\n// space when it is shown. hook into the visible events and re-adjust if\r\n// if shows up on the scene.\r\nevents.on(`_activity-indicator-initialized`, function (elem) {\r\n\tevents.on(`activity-indicator.visible`, function (visible) {\r\n\t\tif (visible) {\r\n\t\t\tactivityIndicatorWidth = parseFloat(elem.css('width')) + parseFloat(elem.css('margin-right'));\r\n\t\t} else {\r\n\t\t\tactivityIndicatorWidth = 0;\r\n\t\t}\r\n\t\tadjustDynamicWidthElements();\r\n\t}, true);\r\n}, true);\r\n\r\n// if roles are filled, we need to make sure the role name is not longer\r\n// than the user's name, if it is, we need to use it for calculations instead\r\nfunction watchForRoles() {\r\n\tstore.onValue('roles', function (data) {\r\n\t\tconst roleName = data.roles.find(r => r.id === data.currentRole).name;\r\n\t\tconst userInfo = dynamicElems['user-info'];\r\n\t\tconst userNameWidth = measureText(userInfo.text, userInfo.font);\r\n\t\tconst roleFont = '600 13px';\r\n\t\tconst roleWidth = measureText(roleName, roleFont);\r\n\r\n\t\tif (roleWidth > userNameWidth) {\r\n\t\t\tuserInfo.text = roleName;\r\n\t\t\tuserInfo.font = roleFont;\r\n\t\t}\r\n\r\n\t\tadjustDynamicWidthElements();\r\n\t});\r\n}\r\n\r\n// listen to other header elements and readjust when they show up\r\nstaticWidthElemNames.forEach(function (name) {\r\n\tevents.on(`_${name}-initialized`, elem => addStaticWidthElem(name, elem), true);\r\n});\r\n\r\nfunction addStaticWidthElem(name, elem) {\r\n\tstaticElems[name] = elem;\r\n\tadjustDynamicWidthElements();\r\n}\r\n","import * as dom from '../../util/easy-dom';\r\nimport {cmptMenu} from '../../util/cmpt-common-features';\r\nimport * as store from '../../util/store';\r\nimport * as events from '../../util/event-bus';\r\n\r\n/**\r\n * Displays notifications\r\n * @class Sidekick.Notifications\r\n * @memberOf Sidekick\r\n * @param {EasyDom} elem - Container {@link EasyDom} element\r\n * @param {Object} attrs\r\n * @param {Object} ctx\r\n * @param {Function} i18n - translation function\r\n * @emits notification.delete\r\n * @emits notification.mark-as-read\r\n * @listens store notifications\r\n * @example Array of notifications\r\n * title: Notification Title\r\n * content: Notification Content\r\n * unread: Optional. Shows the unread dot\r\n * timestamp: Optional. Shows a timestamp\r\n * {\r\n\ttitle: 'this is notification 1',\r\n\tcontent: 'You got notified...',\r\n\tunread: true\r\n}, {\r\n\ttitle: 'this is notification 2',\r\n\tcontent: 'You got notified... again!',\r\n\ttimestamp: 'TODAY'\r\n}\r\n */\r\nexport default function (elem, attrs, ctx, i18n) {\r\n\tconst notificationsEmpty = dom.parse(`<li class=\"menulist-item notifications-empty\"><div>${i18n('You have no notifications')}</div></li>`);\r\n\r\n\t/////\r\n\t// find dom elements that we care about\r\n\t//\r\n\tconst domNotiCont = elem.find('.menulist')[0];\r\n\tconst domNotiMenu = elem.find('.menu')[0];\r\n\tconst domNotiBell = elem.find('.control')[0];\r\n\tconst domMenuCloseIcon = elem.find('.ss-ctrl-clear')[0];\r\n\tconst domUnreadBadge = domNotiBell.find('.sk--unread')[0];\r\n\r\n\t/////\r\n\t// handle iniital state and data changes\r\n\t//\r\n\r\n\t// if url is present just make the button a link\r\n\tif (ctx.url != null) {\r\n\t\tdomNotiBell.attr('target', ctx.target);\r\n\t\tevents.on('notifications.unread-count', setUnreadBadge, true);\r\n\t\treturn;\r\n\t}\r\n\r\n\tstore.onValue('notifications', updateNotificationList);\r\n\r\n\t/////\r\n\t// listen for events and take action\r\n\t//\r\n\tcmptMenu(elem, domNotiBell, domNotiMenu);\r\n\tdomMenuCloseIcon.on('click', () => events.emit('sk-menu-close', elem));\r\n\tevents.on('sk-menu-close', function (e) {\r\n\t\tif (e !== elem) { return; }\r\n\t\tdomNotiCont.find('=a').forEach(a => a.attr('tabindex', '-1'));\r\n\t\tdomNotiCont.find('=button').forEach(b => b.attr('tabindex', '-1'));\r\n\t});\r\n\tevents.on('sk-menu-open', function (e) {\r\n\t\tif (e !== elem) { return; }\r\n\t\tdomNotiCont.find('=a').forEach(a => a.attr('tabindex', '0'));\r\n\t\tdomNotiCont.find('=button').forEach(b => b.attr('tabindex', '0'));\r\n\t});\r\n\r\n\t/////\r\n\t// update function for when notification list changes\r\n\t//\r\n\t/**\r\n\t * Updates the display with the new notifications being passed in.\r\n\t * @param  {Array} nArr - New context object with new notifications.\r\n\t */\r\n\tfunction updateNotificationList(newCtx) {\r\n\r\n\t\t// maintain backward compatability with ctx as an array\r\n\t\tif (Object.prototype.toString.call(newCtx) === '[object Array]') {\r\n\t\t\tnewCtx = {items: newCtx};\r\n\t\t}\r\n\r\n\t\t// update our context object\r\n\t\tif (ctx.items !== newCtx.items) { ctx = newCtx; }\r\n\r\n\t\t// update the unread count\r\n\t\tupdateUnread();\r\n\r\n\t\t// no items to display\r\n\t\tif (ctx.items.length === 0) { domNotiCont.children(notificationsEmpty); return; }\r\n\r\n\t\t// process the list of items to display\r\n\t\tdomNotiCont.children(ctx.items.map(item => {\r\n\t\t\tconst el = dom.parse(`\r\n\t\t\t\t<li class=\"menulist-item ${item.unread ? 'unread' : ''}\">\r\n\t\t\t\t\t\t<h4 class=\"subject\">\r\n\t\t\t\t\t\t\t${item.unread ? '<a class=\"mark-read\" href=\"#\" aria-label=\"mark as read\"></a>' : ''}\r\n\t\t\t\t\t\t\t${item.title}\r\n\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t<div>${item.content}</div>\r\n\t\t\t\t\t\t${item.timestamp ? `<small>${item.timestamp}</small>` : ''}\r\n\t\t\t\t\t\t<button type=\"button\" class=\"remove fa-li-close\" aria-label=\"remove notification\"></button>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</li>\r\n\t\t\t`);\r\n\r\n\t\t\tel.find('.remove')[0].on('click', evt => {\r\n\t\t\t\tevt.preventDefault();\r\n\t\t\t\tevt.stopPropagation();\r\n\t\t\t\tevents.emit('notification.delete', item);\r\n\t\t\t});\r\n\r\n\t\t\tif (item.unread) {\r\n\t\t\t\tel.find('.mark-read')[0].on('click', function (evt) {\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tevt.stopPropagation();\r\n\t\t\t\t\tevents.emit('notification.mark-as-read', item);\r\n\t\t\t\t\tupdateUnread();\r\n\t\t\t\t});\r\n\t\t\t\tel.on('click', function (evt) {\r\n\t\t\t\t\tevt.stopPropagation();\r\n\t\t\t\t\tevents.emit('notification.mark-as-read', item);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tel.on('click', function (evt) {\r\n\t\t\t\tevt.stopPropagation();\r\n\t\t\t\tevents.emit('notification.action', item);\r\n\t\t\t});\r\n\r\n\t\t\treturn el;\r\n\t\t}));\r\n\r\n\t\tif (!domNotiMenu.hasClass('ss-menu-open')) {\r\n\t\t\tdomNotiCont.find('=a').forEach(a => a.attr('tabindex', '-1'));\r\n\t\t\tdomNotiCont.find('=button').forEach(b => b.attr('tabindex', '-1'));\r\n\t\t}\r\n\t}\r\n\r\n\tfunction updateUnread() {\r\n\t\tlet unread = ctx.items.filter(n => n.unread === true).length;\r\n\t\tsetUnreadBadge(unread);\r\n\t}\r\n\r\n\tfunction setUnreadBadge(unread) {\r\n\t\telem.toggleClass('has-unread', unread > 0);\r\n\t\tdomUnreadBadge.css('display', 'none');\r\n\t\tdomUnreadBadge.removeClass('sk--max');\r\n\t\tif (unread > 0) {\r\n\t\t\tif (unread > 99) {\r\n\t\t\t\tdomUnreadBadge.addClass('sk--max');\r\n\t\t\t\tunread = 99;\r\n\t\t\t}\r\n\t\t\tdomUnreadBadge._.innerHTML = unread;\r\n\t\t\tdomUnreadBadge.css('display', 'block');\r\n\t\t}\r\n\t}\r\n};\r\n","import * as dom from '../../util/easy-dom';\r\nimport * as events from '../../util/event-bus';\r\nimport * as keyPress from '../../util/key-press-helpers';\r\nimport {pathMatchesRoute} from '../../util/route-helpers';\r\n\r\nexport default function (elem, attrs, ctx, i18n) {\r\n\tconst {subLevel} = attrs;\r\n\r\n\tconst menuGroup = elem.find('.menu-group')[0];\r\n\telem.addClass(`sub-level-${subLevel}`);\r\n\r\n\tconst subMenus = [];\r\n\tconst menuItems = ctx.map(function(item, idx) {\r\n\t\t// backward compatability with item.route value\r\n\t\titem.url = item.url || item.route || null;\r\n\r\n\t\tconst href = item.url || '#';\r\n\t\tconst target = item.url && item.target ? ` target=\"${item.target}\"` : '';\r\n\r\n\t\tconst kids = item.children;\r\n\t\tconst hasKids = !!(kids && kids.length);\r\n\t\tconst el = dom.parse(`\r\n\t\t\t<li class=\"sub-menu-item\">\r\n\t\t\t\t<a class=\"sub-menu-item-container\" title=\"${item.title}\" href=\"${href}\"${target} role=\"menu-item\">\r\n\t\t\t\t\t<span>${item.title}</span>\r\n\t\t\t\t\t${hasKids ? '<i class=\"sk--more-items fa fa-angle-right\"></i>' : ''}\r\n\t\t\t\t</a>\r\n\t\t\t</li>\r\n\t\t`);\r\n\t\tvar subMenu;\r\n\r\n\t\tif (hasKids) {\r\n\t\t\tsubMenu = dom.parse(`<div sk-nav-item-submenu sub-level=\"${parseInt(subLevel, 10) + 1}\" tabindex=\"-1\"></div>`);\r\n\t\t\tsubMenu._.context = kids;\r\n\t\t\tsubMenus.push(subMenu);\r\n\t\t\t// el.append(subMenu);\r\n\t\t\tsubMenu.on('keydown', (evt) => {\r\n\t\t\t\tswitch(true) {\r\n\t\t\t\tcase keyPress.isEscape(evt):\r\n\t\t\t\t\tsubMenu.removeClass('sk-submenu-active');\r\n\t\t\t\t\tel.removeClass('sk-submenu-active');\r\n\t\t\t\t\tconst [link] = el.find('a');\r\n\t\t\t\t\tif (link != null) {\r\n\t\t\t\t\t\tlink._.focus();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tevt.stopPropagation();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tel.addClass('sk--menu-action');\r\n\t\t}\r\n\r\n\t\t// add menuName value if present\r\n\t\tif (typeof item.menuName === 'string') {\r\n\t\t\tel.data('menu-name', item.menuName);\r\n\t\t}\r\n\r\n\t\tel.find('.sub-menu-item-container')[0].on('click', function(evt) {\r\n\t\t\tif (!hasKids) { events.emit('nav.menu-item-clicked', item, evt); }\r\n\t\t\tif (hasKids) { evt.preventDefault(); }\r\n\r\n\t\t\telem.find('.sk-submenu-active').forEach(function (m) {\r\n\t\t\t\tif (m !== el && m !== subMenu) { m.removeClass('sk-submenu-active'); }\r\n\t\t\t});\r\n\r\n\t\t\tif (hasKids) {\r\n\t\t\t\tsubMenu.toggleClass('sk-submenu-active');\r\n\t\t\t\tsubMenu._.focus();\r\n\t\t\t\tel.toggleClass('sk-submenu-active');\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn el;\r\n\t});\r\n\tmenuGroup.children(menuItems);\r\n\telem.append(subMenus);\r\n\r\n\tevents.on('_location.path-change', highlightRoute);\r\n\tfunction highlightRoute(path) {\r\n\t\tif (path == null) { return; }\r\n\r\n\t\tmenuItems.forEach(function (el, idx) {\r\n\t\t\tconst ictx = ctx[idx];\r\n\t\t\tconst highlighted = pathMatchesRoute(path, ictx.url, ictx.routeMatcher);\r\n\t\t\tel.toggleClass('highlight', highlighted);\r\n\t\t});\r\n\t}\r\n};\r\n","import {cmptMenu, cmptMenuItem, cmptDynamicWidth} from '../../util/cmpt-common-features';\r\nimport * as dom from '../../util/easy-dom';\r\nimport * as store from '../../util/store';\r\nimport * as events from '../../util/event-bus';\r\n\r\n/**\r\n * User info component.\r\n * @class Sidekick.UserInfo\r\n * @memberOf Sidekick\r\n * @param {EasyDom} elem - Container {@link EasyDom} element\r\n * @param {Object} attrs\r\n * @param {Object} ctx - user data object\r\n * @param {Boolean} [ctx.firstName] - First Name to show\r\n * @param {Boolean} [ctx.lastName] - Last Name to show\r\n * @param {Boolean} [ctx.showAcctSettings=true] - Show/hide the Account Settings button\r\n * @param {Boolean} [ctx.showSignOut=true] - Show/hide the Signout button\r\n * @param {Function} i18n - translation function\r\n * @emits header.user-info.role - Role to switch to\r\n * @emits header.user-info.account-settings\r\n * @emits session.logout\r\n * @listens roles - Accepts a collection of roles\r\n * @example\r\n * currentRole: ID of the current role that is in the roles array\r\n * roles: List of roles pertaining to the app\r\n * {\r\n \tcurrentRole: 1,\r\n \troles: [{\r\n\t\t'id': 1,\r\n\t\t'name': 'Admin'\r\n\t}]\r\n}\r\n */\r\nexport default function(elem, attrs, ctx, i18n) {\r\n\t// button display controls\r\n\tlet showAcctSettings = ctx.showAcctSettings !== false;\r\n\tlet showSignOut = ctx.showSignOut !== false;\r\n\r\n\t/////\r\n\t// find dom elements that we care about\r\n\t//\r\n\tconst [domButton] = elem.find('.sk--control');\r\n\tconst [domUserName] = domButton.find('.sk--user-name');\r\n\tconst [domRoleName] = domButton.find('.sk--current-role');\r\n\tconst [domMenu] = elem.find('.sk--menu');\r\n\tconst [domSettings] = elem.find('.sk--settings');\r\n\tconst [domLogout] = elem.find('.sk--logout');\r\n\tconst [domRoles] = elem.find('.sk--roles');\r\n\tconst [domBlocks] = elem.find('.sk--blocks');\r\n\tconst [domFilter] = elem.find('.sk--filter');\r\n\tconst [domFilterInput] = elem.find('.sk--roles-filter');\r\n\tconst [domFlUserAccountHeader] = elem.find('.sk--fl-account-header');\r\n\r\n\t/////\r\n\t// handle iniital state and data changes\r\n\t//\r\n\r\n\tstore.onValue('roles', updateRoleData);\r\n\tstore.onValueOnce('idm-data', function ({user} = {}) {\r\n\t\t// if this use is an SSO user (not a frontline account) we need to hide\r\n\t\t// the settings link that normally takes them to the IDM settings page\r\n\t\tif (!user.isFrontlineUser) {\r\n\t\t\tdomSettings.parent().css('display', 'none');\r\n\t\t\tdomFlUserAccountHeader.css('display', 'none');\r\n\t\t}\r\n\t});\r\n\r\n\t/////\r\n\t// listen for events and take action\r\n\t//\r\n\tcmptDynamicWidth('user-info', elem, domUserName._.innerText, 45);\r\n\tcmptMenu(elem, domButton, domMenu);\r\n\tevents.on('sk-menu-open', function(el) {\r\n\t\tif (el !== elem) { return; }\r\n\t\tdomUserName.removeClass('fa-angle-down-after').addClass('fa-angle-up-after');\r\n\t});\r\n\tevents.on('sk-menu-close', function(el) {\r\n\t\tif (el !== elem) { return; }\r\n\t\tdomUserName.addClass('fa-angle-down-after').removeClass('fa-angle-up-after');\r\n\t\tclearFilter();\r\n\t});\r\n\r\n\tdomFilterInput.on('keyup', function(evt) {\r\n\t\tevt.stopPropagation();\r\n\t\tevt.preventDefault();\r\n\t\t[ ...domRoles._.childNodes ].forEach(item => {\r\n\t\t\tif (!item.innerText.toLowerCase().includes(evt.currentTarget.value.toLowerCase())) {\r\n\t\t\t\titem.classList.add('hide');\r\n\t\t\t} else {\r\n\t\t\t\titem.classList.remove('hide');\r\n\t\t\t}\r\n\t\t\treturn item;\r\n\t\t});\r\n\t});\r\n\r\n\t// hide blocks container if neither button is present\r\n\tif (showAcctSettings === false && showSignOut === false) {\r\n\t\tdomBlocks.css('display', 'none');\r\n\t} else {\r\n\t\tif (showAcctSettings) {\r\n\t\t\tdomSettings.on('click', function(evt) {\r\n\t\t\t\tevt.stopPropagation();\r\n\t\t\t\tevt.preventDefault();\r\n\t\t\t\tevents.emit('header.user-info.account-settings');\r\n\t\t\t\tevents.emit('sk-menu-close', elem);\r\n\t\t\t});\r\n\r\n\t\t\t// bind common keydown handlers to menu item\r\n\t\t\tcmptMenuItem(elem, domButton, domBlocks, dom.element(domSettings._.parentNode));\r\n\t\t} else {\r\n\t\t\tdomSettings.parent().css('display', 'none');\r\n\t\t}\r\n\r\n\t\tif (showSignOut) {\r\n\t\t\tdomLogout.on('click', function(evt) {\r\n\t\t\t\tevt.stopPropagation();\r\n\t\t\t\tevt.preventDefault();\r\n\t\t\t\tevents.emit('session.logout');\r\n\t\t\t\tevents.emit('sk-menu-close', elem);\r\n\t\t\t});\r\n\r\n\t\t\t// bind common keydown handlers to menu item\r\n\t\t\tcmptMenuItem(elem, domButton, domBlocks, dom.element(domLogout._.parentNode));\r\n\t\t} else {\r\n\t\t\tdomLogout.parent().css('display', 'none');\r\n\t\t}\r\n\t}\r\n\r\n\t/////\r\n\t// helper functions\r\n\t//\r\n\t/**\r\n\t * Updates the display with the new data being passed in.\r\n\t * @param  {Object} data - New roles\r\n\t */\r\n\r\n\tfunction clearFilter() {\r\n\t\tdomFilterInput._.value= ''; // clear filter\r\n\t\t[ ...domRoles._.childNodes ].forEach(item => {\r\n\t\t\titem.classList.remove('hide');\r\n\t\t\treturn item;\r\n\t\t});\r\n\t}\r\n\r\n\tfunction updateRoleData(data) {\r\n\t\t// validate data structure\r\n\t\tif (data.currentRole == null) { return; }\r\n\t\tif (data.roles == null) { return; }\r\n\t\tif (data.roles.length === 0) { return; }\r\n\t\tif (data.roles.filter(r => r.id == null || r.name == null).length) { return; }\r\n\r\n\t\tconst { currentRole, roles } = data;\r\n\t\tconst currentRoleName = roles.find(r => r.id === currentRole).name;\r\n\r\n\t\tdomRoleName._.innerHTML = currentRoleName || '';\r\n\r\n\t\tif (currentRoleName != null) {\r\n\t\t\tdomButton.attr('aria-label', `${ctx.firstName} ${ctx.lastName} - ${currentRoleName}`);\r\n\t\t}\r\n\r\n\t\tif (roles == null || roles.length === 0) {\r\n\t\t\tdomRoles.css('display', 'none');\r\n\t\t\tdomRoles.children();\r\n\t\t\tdomRoleName.css('display', 'none');\r\n\t\t\tdomRoleName.children();\r\n\t\t} else if (roles.length === 1) {\r\n\t\t\tdomRoleName.css('display', 'block');\r\n\t\t\tdomRoles.css('display', 'none');\r\n\t\t\tdomRoles.children();\r\n\t\t} else {\r\n\t\t\tdomRoles.css('display', 'block');\r\n\t\t\tdomRoleName.css('display', 'block');\r\n\t\t\t// show roles filter check\r\n\t\t\tif (roles.length > 20) {\r\n\t\t\t\tdomFilter.css('display', 'block');\r\n\t\t\t}\r\n\t\t\t// process the list of roles to display\r\n\t\t\tdomRoles.children(roles.map(role => {\r\n\t\t\t\tconst isActive = role.id === currentRole;\r\n\r\n\t\t\t\tconst ariaCurrent = isActive.toString();\r\n\t\t\t\tconst linkClasses = isActive ? 'fa-li-checkmark-after active' : '';\r\n\r\n\t\t\t\tconst el = dom.parse(`\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<a role=\"menuitem\" aria-current=\"${ariaCurrent}\" aria-selected=\"false\" class=\"active-state-link ${linkClasses}\" href=\"#\">${role.name}</a>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t`);\r\n\r\n\t\t\t\tif (role.id !== currentRole) {\r\n\t\t\t\t\tel.on('click', evt => {\r\n\t\t\t\t\t\tevt.stopPropagation();\r\n\t\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\t\tevents.emit('header.user-info.role', role);\r\n\t\t\t\t\t\tevents.emit('sk-menu-close', elem);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// bind common keydown handlers to menu item\r\n\t\t\t\tcmptMenuItem(elem, domButton, domRoles, el);\r\n\r\n\t\t\t\treturn el;\r\n\t\t\t}));\r\n\t\t}\r\n\t}\r\n};\r\n","import * as dom from '../../util/easy-dom';\r\nimport * as store from '../../util/store';\r\nimport {cmptMenu, cmptMenuItem} from '../../util/cmpt-common-features';\r\nimport * as events from '../../util/event-bus';\r\n\r\n/**\r\n * Displays articles, and helper blocks\r\n * @class Sidekick.Help\r\n * @memberOf Sidekick\r\n * @param {EasyDom} elem - Container {@link EasyDom} element\r\n * @param {Object} attrs\r\n * @param {Object} ctx\r\n * @param {Function} i18n - translation function\r\n * @emits header.help.article.click - Thrown when an article is clicked that doesn't have a url\r\n * @emits header.help.block.click - Thrown when an block is clicked that doesn't have a url\r\n * @example\r\n * articles: List of articles pertaining to the app\r\n * blocks: List of other links to different sections of the app.\r\n * title: Text to show the user\r\n * icon: Icon to show the user\r\n * url: Optional. If passed article/block will open a new window to that url. If omitted then\r\n * \theader.help.article.click/header.help.block.click will be thrown and the item will be the article/block. Extra\r\n * \tparams can optionally be added to the item when building the nav menu and they will be included back to you when the\r\n * \tnav item is clicked.\r\n * {\r\n\t'articles': [{\r\n\t\t'title': 'Getting Started with Frontline Central',\r\n\t\t'url': '/getting_started',\r\n\t\t'icon': 'file-text'\r\n\t}],\r\n\t'blocks': [{\r\n\t\t'title': 'Learn more about Frontline Central',\r\n\t\t'url': 'http://help1.frontlinek12.com/?b_id=13067',\r\n\t\t'icon': 'learning_center_logo'\r\n\t}]\r\n}\r\n */\r\nexport default function(elem, attrs, ctx, i18n) {\r\n\t/////\r\n\t// find dom elements that we care about\r\n\t//\r\n\tconst [domButton] = elem.find('.control');\r\n\tconst [domMenu] = elem.find('.menu');\r\n\tconst [domBlocks] = elem.find('.blocks');\r\n\tconst [domArticles] = elem.find('.articles');\r\n\r\n\t// initialize with default values\r\n\tlet urlTemplateVars = getUrlTemplateVars();\r\n\r\n\t/////\r\n\t// handle initial state and data changes\r\n\t//\r\n\tupdateHelpData(ctx);\r\n\tstore.onValue('help', updateHelpData);\r\n\r\n\tstore.onValue('idm-data', idmData => {\r\n\t\turlTemplateVars = getUrlTemplateVars(idmData);\r\n\t\tupdateHelpData(ctx);\r\n\t});\r\n\r\n\t/////\r\n\t// listen for events and take action\r\n\t//\r\n\tcmptMenu(elem, domButton, domMenu);\r\n\r\n\t/////\r\n\t// helper functions\r\n\t//\r\n\t/**\r\n\t * Updates the display with the new data being passed in.\r\n\t * @param  {Object} newCtx - New context object with the new data.\r\n\t */\r\n\tfunction updateHelpData(newCtx) {\r\n\t\t// update our context object\r\n\t\tif (ctx !== newCtx) { ctx = newCtx; }\r\n\r\n\t\t// articles\r\n\t\tvar articles = ctx.articles;\r\n\t\tif (articles == null || articles.length === 0) {\r\n\t\t\t// no articles to display\r\n\t\t\tdomArticles.css('display', 'none');\r\n\t\t} else {\r\n\t\t\tdomArticles.css('display', 'block');\r\n\t\t\t// process the list of articles to display\r\n\t\t\t// max 3 articles\r\n\t\t\tdomArticles.children(articles.slice(0, 3).map(article => {\r\n\t\t\t\tlet el;\r\n\r\n\t\t\t\tif (article.url == null || article.url.length === 0) {\r\n\t\t\t\t\tel = dom.parse(`<li><a class=\"${article.icon}\" href=\"#\">${article.title}</a></li>`);\r\n\r\n\t\t\t\t\tel.on('click', evt => {\r\n\t\t\t\t\t\tevt.stopPropagation();\r\n\t\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\t\tevents.emit('header.help.article.click', article);\r\n\t\t\t\t\t\tevents.emit('sk-menu-close', elem);\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// perform string replacement on the URL\r\n\t\t\t\t\tconst interpolatedUrl = Object.keys(urlTemplateVars)\r\n\t\t\t\t\t\t.reduce((url, key) => url.replace(`{${key}}`, urlTemplateVars[key]), article.url);\r\n\r\n\t\t\t\t\tel = dom.parse(`<li><a role=\"menuitem\" aria-selected=\"false\" class=\"${article.icon}\" href=\"${interpolatedUrl}\" target=\"_blank\">${article.title}</a></li>`);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// bind common keydown handlers to menu item\r\n\t\t\t\tcmptMenuItem(elem, domButton, domArticles, el);\r\n\r\n\t\t\t\treturn el;\r\n\t\t\t}));\r\n\t\t}\r\n\r\n\t\t// blocks\r\n\t\tvar blocks = ctx.blocks;\r\n\t\tif (blocks == null || blocks.length === 0) {\r\n\t\t\tdomBlocks.css('display', 'none');\r\n\t\t} else {\r\n\t\t\tdomBlocks.css('display', 'block');\r\n\t\t\t// process the list of blocks to display\r\n\t\t\tdomBlocks.children(blocks.map(block => {\r\n\t\t\t\tlet el;\r\n\r\n\t\t\t\tif (block.url == null || block.url.length === 0) {\r\n\t\t\t\t\tel = dom.parse(`<li><a role=\"menuitem\" aria-selected=\"false\" class=\"${block.icon}\" href=\"#\">${block.title}</a></li>`);\r\n\r\n\t\t\t\t\tel.on('click', evt => {\r\n\t\t\t\t\t\tevt.stopPropagation();\r\n\t\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\t\tevents.emit('header.help.block.click', block);\r\n\t\t\t\t\t\tevents.emit('sk-menu-close', elem);\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tel = dom.parse(`<li><a role=\"menuitem\" aria-selected=\"false\" class=\"${block.icon}\" href=\"${block.url}\" target=\"_blank\">${block.title}</a></li>`);\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\t// bind common keydown handlers to menu item\r\n\t\t\t\tcmptMenuItem(elem, domButton, domBlocks, el);\r\n\r\n\t\t\t\treturn el;\r\n\t\t\t}));\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Extract values for URL \"template\" string from IDM data. Use default values if the data is not provided.\r\n\t * @param  {Object} [idmData] - IDM data object\r\n\t * @param  {Object} {idmData.userContext} IDM user context object\r\n\t * @param  {Object} {idmData.product} IDM product object\r\n\t */\r\n\tfunction getUrlTemplateVars({ identities, userContext, product } = {}) {\r\n\t\t// these names must match the placeholders values in the URL, which we control\r\n\t\tconst idTypes = product && product.AssociatedRoles.map(x => x.Type) || [];\r\n\t\tconst idRecord = Array.isArray(identities) && identities.find(id => idTypes.includes(id.Type));\r\n\t\tconst userKey = idRecord && idRecord.Id || '';\r\n\t\tconst orgId = userContext && userContext.OrganizationId || '';\r\n\r\n\t\treturn {userKey, orgId};\r\n\t}\r\n};\r\n","import * as dom from '../../util/easy-dom';\r\nimport * as events from '../../util/event-bus';\r\nimport {cmptInputClear} from '../../util/cmpt-common-features';\r\nimport * as keyPress from '../../util/key-press-helpers';\r\n\r\n/**\r\n * Performs a search. Listens for results.\r\n * @class Sidekick.Search\r\n * @memberOf Sidekick\r\n * @param {EasyDom} elem - Container {@link EasyDom} element\r\n * @param {Object} attrs\r\n * @param {Object} ctx\r\n * @param {Number} [ctx.limit=20] - Count of items to show before view all appears\r\n * @param {String[]} [ctx.searchTypes=type-ahead] - An array of options of how to search. Defaults to type-ahead.\r\n *        'type-ahead' Type ahead search\r\n *        'search-on-enter' Search when pressing enter\r\n * @param {String} [ctx.placeHolderText=Search] - Default text put in the search box\r\n * @param {Function} i18n - translation function\r\n * @emits header.search - Fired when a search is done. Passes the search value\r\n * @emits header.search.item-clicked - Fired when a search result is clicked\r\n * @listens header.search.results - Array of HTML to display in the result list.\r\n */\r\nexport default function(elem, attrs, ctx, i18n) {\r\n\tconst listEmpty = dom.parse(`\r\n\t\t<ul id=\"sk-search-results\" class=\"sk--menulist\" role=\"listbox\" aria-live=\"polite\" aria-labelledby=\"sk-search-results-title\">\r\n\t\t\t<li class=\"sk-list-empty\" role=\"option\" tabindex=\"0\">${i18n('No Results Found')}</li>\r\n\t\t</ul>\r\n\t`);\r\n\tconst limit = ctx.limit || 20;\r\n\r\n\t/////\r\n\t// find dom elements that we care about\r\n\t//\r\n\tconst [domSearchText] = elem.find('.search');\r\n\tconst [domClearBtn] = elem.find('.ss-ctrl-clear');\r\n\tconst [domMenu] = elem.find('.sk--menu');\r\n\tconst [domResultsContainer] = elem.find('.sk--search-content');\r\n\tconst [domLoader] = elem.find('.sk--loader');\r\n\r\n\t/////\r\n\t// handle iniital state and data changes\r\n\t//\r\n\tdomSearchText.attr('placeholder', ctx.placeHolderText || i18n('Search'));\r\n\tdomSearchText.attr('aria-label', ctx.placeHolderText || i18n('Search'));\r\n\tevents.on('header.search.results', updateResults);\r\n\r\n\t/////\r\n\t// listen for events and take action\r\n\t//\r\n\telem.on('click', evt => evt.stopPropagation());\r\n\tdom.element(document).on('click', reset);\r\n\tevents.on('header.search.reset', reset);\r\n\tevents.on('sk-menu-open', menuEl => {\r\n\t\tif (menuEl !== elem) { reset(); }\r\n\t});\r\n\tdom.element(window).on('blur', function () {\r\n\t\tif (document.activeElement != null && document.activeElement.tagName === 'IFRAME') { reset(); }\r\n\t});\r\n\r\n\tcmptInputClear(domSearchText, domClearBtn, true);\r\n\tdomClearBtn.on('click', reset);\r\n\tdomSearchText.on('keydown', closeOnEscape);\r\n\tdomSearchText.on('focus', selectInputText);\r\n\r\n\t// hook up searching options\r\n\tif (typeof ctx.searchTypes === 'string') {\r\n\t\tctx.searchTypes = [ctx.searchTypes];\r\n\t} else if (ctx.searchTypes == null || ctx.searchTypes.length === 0) {\r\n\t\tctx.searchTypes = ['type-ahead'];\r\n\t}\r\n\tif (ctx.searchTypes.includes('search-on-enter')) {\r\n\t\tdomSearchText.on('keydown', searchOnEnter);\r\n\t}\r\n\tif (ctx.searchTypes.includes('type-ahead')) {\r\n\t\t// if they are doing search-on-enter as well, let that take priority\r\n\t\tif (!ctx.searchTypes.includes('search-on-enter')) {\r\n\t\t\tdomSearchText.on('keydown', typeAheadOnEnter);\r\n\t\t}\r\n\t\tdomSearchText.attr('aria-expanded', 'false');\r\n\t\tdomSearchText.attr('aria-autocomplete', 'list');\r\n\t\tdomSearchText.attr('aria-owns', 'sk-search-results');\r\n\t\tdomSearchText.on('input', search);\r\n\t\tdomSearchText.on('click', () => {\r\n\t\t\tevents.emit('sk-menu-open', elem);\r\n\t\t\tsearch();\r\n\t\t});\r\n\t\telem.on('keydown', focusInputOnEscape);\r\n\t\telem.on('keydown', selectResultOnArrow);\r\n\t}\r\n\r\n\t/////\r\n\t// update function for when help list changes\r\n\t//\r\n\r\n\t/**\r\n\t * Resets button and menu state.\r\n\t */\r\n\tfunction reset() { dom.rAF(search); }\r\n\r\n\t/**\r\n\t * Restore focus to search box, selecting the value if populated\r\n\t */\r\n\tfunction selectInputText({target}) {\r\n\t\tif (target.value === '') { return; }\r\n\t\ttarget.setSelectionRange(0, target.value.length);\r\n\t}\r\n\r\n\t/**\r\n\t * Restore focus to search box, selecting the value if populated\r\n\t */\r\n\tfunction focusInputOnEscape(evt) {\r\n\t\t// bail out if this was not the ESCAPE key\r\n\t\tif (!keyPress.isEscape(evt)) { return; }\r\n\t\tif (document.activeElement === domSearchText._) { return; }\r\n\t\tdomSearchText._.focus();\r\n\t}\r\n\r\n\t/**\r\n\t * Closes the menu when escape is pressed\r\n\t */\r\n\tfunction closeOnEscape(evt) {\r\n\t\t// bail out if this was not the ESCAPE key\r\n\t\tif (!keyPress.isEscape(evt)) { return; }\r\n\t\treset();\r\n\t}\r\n\r\n\t/**\r\n\t * Submit the search value to request type-ahead results\r\n\t */\r\n\tfunction typeAheadOnEnter(evt) {\r\n\t\t// bail out if this was not the ENTER key\r\n\t\tif (!keyPress.isEnter(evt)) { return; }\r\n\t\tevents.emit('header.search.enter-pressed', domSearchText._.value);\r\n\t}\r\n\r\n\t/**\r\n\t * Changes focus to a typeahead search result\r\n\t */\r\n\tfunction selectResultOnArrow(evt) {\r\n\t\t// bail out if this was not the UP or DOWN key\r\n\t\tif (!keyPress.isUp(evt) && !keyPress.isDown(evt)) { return; }\r\n\r\n\t\tconst optionElems = domResultsContainer\r\n\t\t\t.find('[role=option]')\r\n\t\t\t.map(o => o._);\r\n\t\tif (optionElems.length === 0) { return; }\r\n\r\n\t\tevt.preventDefault();\r\n\r\n\t\tif (domSearchText.hasFocus()) {\r\n\t\t\t// select the first (down) or last (up) result\r\n\t\t\tconst idx = keyPress.isUp(evt) ? optionElems.length - 1 : 0;\r\n\t\t\toptionElems[idx].focus();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst focusedOptionIdx = optionElems.indexOf(document.activeElement);\r\n\r\n\t\t// bail out if the currently focused element is not a search result\r\n\t\tif (focusedOptionIdx === -1) { return; }\r\n\r\n\t\t// restore focus to search box when moving beyond first or last result\r\n\t\tif (focusedOptionIdx === 0 && keyPress.isUp(evt)) { return domSearchText._.focus(); }\r\n\t\tif (focusedOptionIdx === optionElems.length - 1 && keyPress.isDown(evt)) { return domSearchText._.focus(); }\r\n\r\n\t\tconst nextIdx = keyPress.isUp(evt) ? focusedOptionIdx - 1 : focusedOptionIdx + 1;\r\n\t\toptionElems[nextIdx].focus();\r\n\t}\r\n\r\n\t/**\r\n\t * Makes a search only when enter is pressed.\r\n\t */\r\n\tfunction searchOnEnter(evt) {\r\n\t\t// bail out if this was not the ENTER key\r\n\t\tif (!keyPress.isEnter(evt)) { return; }\r\n\r\n\t\tdomResultsContainer.empty();\r\n\r\n\t\tconst searchLength = domSearchText._.value.length;\r\n\t\tdomClearBtn.css('display', searchLength > 0 ? 'block' : 'none');\r\n\t\tif (searchLength > 0) {\r\n\t\t\tevents.emit('header.search', domSearchText._.value);\r\n\t\t\tdomSearchText._.value = '';\r\n\t\t\tdomClearBtn.addClass('sk-hidden');\r\n\t\t}\r\n\r\n\t\t// unfocus the search box, also fixes IE10 weirdness\r\n\t\tif (document.activeElement) { document.activeElement.blur(); }\r\n\t}\r\n\r\n\t/**\r\n\t * Makes a search.\r\n\t * @emits header.search - Passes the search value\r\n\t */\r\n\tfunction search() {\r\n\t\tdomResultsContainer.empty();\r\n\r\n\t\tif (!domSearchText.hasFocus()) {\r\n\t\t\tdomMenu.removeClass('ss-menu-open');\r\n\t\t\tdomSearchText.attr('aria-expanded', 'false');\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar searchLength = domSearchText._.value.length;\r\n\t\tif (searchLength > 0) {\r\n\t\t\tdomMenu.addClass('ss-menu-open');\r\n\t\t\tdomSearchText.attr('aria-expanded', 'true');\r\n\t\t\tdomLoader.css('display', 'block');\r\n\t\t\tevents.emit('header.search', domSearchText._.value);\r\n\t\t} else {\r\n\t\t\tdomMenu.removeClass('ss-menu-open');\r\n\t\t\tdomSearchText.attr('aria-expanded', 'false');\r\n\t\t\tevents.emit('header.search.no-query');\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Updates the result list.\r\n\t * @param  {Array} results - Accepts an array of HTML to display in the result list.\r\n\t * @listens header.search.results - Array of HTML to display in the result list.\r\n\t */\r\n\tfunction updateResults(results) {\r\n\t\tdomLoader.css('display', 'none');\r\n\t\tif (!domSearchText.hasFocus()) { return; }\r\n\r\n\t\tconst resultsIsArray = results instanceof Array;\r\n\r\n\t\tif (results == null || (resultsIsArray && results.length === 0)) {\r\n\t\t\tdomResultsContainer.children(listEmpty);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (typeof results === 'string') {\r\n\t\t\telem.addClass('sk--hide-instruction');\r\n\t\t\tdomResultsContainer.children(dom.parse(results));\r\n\t\t\tdomMenu.addClass('ss-menu-open');\r\n\t\t} else {\r\n\t\t\t// process the list of blocks to display\r\n\t\t\tconst resultsList = dom.parse(`<ul id=\"sk-search-results\" class=\"sk--menulist\" role=\"listbox\" aria-live=\"polite\" aria-labelledby=\"sk-search-results-title\"></ul>`);\r\n\t\t\tresultsList.children(results.slice(0, limit).map(function (res, idx, lst) {\r\n\t\t\t\tconst domRes = dom.parse(res);\r\n\t\t\t\tdomRes.attr('role', 'option');\r\n\t\t\t\tdomRes.attr('tabindex', '0');\r\n\r\n\t\t\t\tconst searchResult = dom.parse(`<li role=\"presentation\"></li>`);\r\n\t\t\t\tsearchResult.append(domRes);\r\n\r\n\t\t\t\tsearchResult.on('click', function (evt) {\r\n\t\t\t\t\tevt.stopPropagation();\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tdomMenu.removeClass('ss-menu-open');\r\n\t\t\t\t\tevents.emit('header.search.item-clicked', idx);\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn searchResult;\r\n\t\t\t}));\r\n\r\n\t\t\tdomResultsContainer.children(resultsList);\r\n\t\t}\r\n\t}\r\n};\r\n","/**\r\n * SuperSuit Loader\r\n * @class Sidekick.Loader\r\n * @memberOf Sidekick\r\n * @param {EasyDom} elem - Container {@link EasyDom} element\r\n * @param {Object} attrs\r\n * @param {String} attrs.statusText - text to show above the finger loader\r\n * @param {Null} attrs.fill - undefined if not in \"fill\" mode, not undefined if in fill mode\r\n * @param {Null} ctx - not used\r\n * @param {Function} i18n - translation function\r\n * @listens loader.show - show/hide the loader\r\n */\r\nexport default function (elem, attrs, ctx, i18n) {\r\n\t/////\r\n\t// handle iniital state and data changes\r\n\t//\r\n\tif (attrs.fill !== undefined) { elem.addClass('sk-fill-container'); }\r\n};\r\n","import * as dom from '../../util/easy-dom';\r\nimport {cmptMenu, cmptMenuItem, cmptInputClear, cmptDynamicWidth} from '../../util/cmpt-common-features';\r\nimport * as store from '../../util/store';\r\nimport * as events from '../../util/event-bus';\r\n\r\n\r\n/**\r\n * Displays allowed organizations\r\n * @class Sidekick.OrganizationSwitcher\r\n * @memberOf Sidekick\r\n * @param {EasyDom} elem - Container {@link EasyDom} element\r\n * @param {Object} attrs\r\n * @param {Object} ctx - org switcher context object\r\n * @param {Function} i18n - translation function\r\n * @emits header.org-switcher.change - Passes selected organization\r\n */\r\nexport default function(elem, attrs, ctx, i18n) {\r\n\tconst limit = 10;\r\n\tconst listEmpty = dom.parse('<li class=\"sk-list-empty\">No Organizations Found</li>');\r\n\r\n\t/////\r\n\t// find dom elements that we care about\r\n\t//\r\n\tconst [domBtn] = elem.find('.control');\r\n\tconst [domBtnContent] = domBtn.find('.content');\r\n\tconst [domOrgCont] = elem.find('.menu');\r\n\tconst [domOrgList] = elem.find('.menulist');\r\n\tconst [domSearchCont] = elem.find('.search');\r\n\tconst [domSearchText] = elem.find('.search-org');\r\n\tconst [domClearBtn] = elem.find('.ss-ctrl-clear');\r\n\r\n\t/////\r\n\t// wait to handle this initial state until the current org is specified\r\n\t//\r\n\tstore.onValue('current-org', function (org) {\r\n\t\tctx.orgs\r\n\t\t\t.filter(o => o.id.toString() === org.id.toString())\r\n\t\t\t.filter(o => o.name.startsWith('IDM ADMIN:'))\r\n\t\t\t.forEach(o => o.name = org.name);\r\n\r\n\t\trender();\r\n\t});\r\n\trender();\r\n\r\n\t/////\r\n\t// listen for events and take action\r\n\t//\r\n\tcmptMenu(elem, domBtn, domOrgCont);\r\n\tcmptInputClear(domSearchText, domClearBtn);\r\n\tdomSearchText.on('input', render);\r\n\tdomClearBtn.on('click', render);\r\n\r\n\t/////\r\n\t// helper functions\r\n\t//\r\n\r\n\t/**\r\n\t * Filters orgs\r\n\t */\r\n\tfunction searchOrgs(org) {\r\n\t\tconst filter = domSearchText._.value;\r\n\t\t// no search filter\r\n\t\tif (!filter.length) { return true; }\r\n\t\t// serach filter\r\n\t\treturn org.name.toLowerCase().indexOf(filter.toLowerCase()) !== -1;\r\n\t}\r\n\r\n\t/**\r\n\t * Processes the access data to populate the list\r\n\t */\r\n\tfunction render() {\r\n\t\tconst {orgs, currentOrg} = ctx;\r\n\r\n\t\t// no access, don't show, we are done\r\n\t\tif (currentOrg == null || orgs.length === 0) {\r\n\t\t\telem.css('display', 'none');\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\telem.css('display', 'inline-block');\r\n\r\n\t\t// render out our current org name in the header\r\n\t\tconst orgName = orgs.find(o => o.id === currentOrg).name;\r\n\t\tdomBtn.attr('aria-label', `${orgName} - ${i18n('Switch Organizations')}`);\r\n\t\tdomBtnContent._.innerHTML = orgName;\r\n\t\tdomBtnContent.attr('title', orgName);\r\n\t\tcmptDynamicWidth('org-switcher', elem, orgName, 30);\r\n\r\n\t\tif (orgs.length === 1) {\r\n\t\t\telem.addClass('sk-no-click');\r\n\t\t\tdomBtn.attr('tabindex', '-1');\r\n\t\t\tdomBtn.attr('disabled', 'disabled');\r\n\t\t\tdomBtn.attr('aria-disabled', 'true');\r\n\t\t\tdomBtnContent.removeClass('fa-angle-down-after');\r\n\t\t\tdomOrgCont.css('display', 'none');\r\n\t\t\t// no need to continue, we only have 1 org. No picker is needed.\r\n\t\t\treturn;\r\n\t\t} else {\r\n\t\t\telem.removeClass('sk-no-click');\r\n\t\t\tdomBtn.attr('tabindex', '0');\r\n\t\t\tdomBtn.attr('disabled', null);\r\n\t\t\tdomBtn.attr('aria-disabled', 'false');\r\n\t\t\tdomBtnContent.addClass('fa-angle-down-after');\r\n\t\t\tdomSearchCont.css('display', orgs.length > limit ? 'block' : 'none');\r\n\t\t}\r\n\r\n\t\t// Sort by name\r\n\t\torgs.sort((a, b) => {\r\n\t\t\treturn a.name.localeCompare(b.name);\r\n\t\t});\r\n\r\n\t\tconst searchResultsOrgList = orgs.filter(searchOrgs);\r\n\t\tif (searchResultsOrgList.length > 0) {\r\n\t\t\tdomOrgList.children(searchResultsOrgList.map(org => {\r\n\t\t\t\tconst isActive = org.id === currentOrg;\r\n\r\n\t\t\t\tconst ariaCurrent = isActive.toString();\r\n\t\t\t\tconst liClassName = isActive ? 'active' : '';\r\n\t\t\t\tconst linkClassName = isActive ? 'fa-li-checkmark-after active' : '';\r\n\r\n\t\t\t\tconst href = org.url || '#';\r\n\t\t\t\tconst target = (org.url && org.target ? ` target=\"${org.target}\"` : '');\r\n\r\n\t\t\t\tconst el = dom.parse(`\r\n\t\t\t\t\t<li class=\"${liClassName}\">\r\n\t\t\t\t\t\t<a role=\"menuitem\" aria-current=\"${ariaCurrent}\" aria-selected=\"false\" class=\"active-state-link ${linkClassName}\" href=\"${href}\"${target}>${org.name}</a>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t`);\r\n\r\n\t\t\t\tel.on('click', evt => {\r\n\t\t\t\t\tif (!org.url) {\r\n\t\t\t\t\t\tevt.stopPropagation();\r\n\t\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\t\tevents.emit('header.org-switcher.change', org);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tevents.emit('sk-menu-close', elem);\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// bind common keydown handlers to menu item\r\n\t\t\t\tcmptMenuItem(elem, domBtn, domOrgList, el);\r\n\r\n\t\t\t\treturn el;\r\n\t\t\t}));\r\n\t\t} else {\r\n\t\t\tdomOrgList.children(listEmpty);\r\n\t\t}\r\n\t}\r\n};\r\n","import * as dom from '../../util/easy-dom';\r\nimport {cmptMenu, cmptMenuItem} from '../../util/cmpt-common-features';\r\nimport * as events from '../../util/event-bus';\r\n\r\n/**\r\n * Displays allowed organizations\r\n * @class Sidekick.ApplicationSwitcher\r\n * @memberOf Sidekick\r\n * @param {EasyDom} elem - Container {@link EasyDom} element\r\n * @param {Object} attrs\r\n * @param {Object} ctx - app switcher data object\r\n * @param {Function} i18n - translation function\r\n * @emits header.app-switcher.change - Passes selected product id\r\n */\r\nexport default function(elem, attrs, ctx, i18n) {\r\n\t/////\r\n\t// find dom elements that we care about\r\n\t//\r\n\tconst [domBtn] = elem.find('.app-title');\r\n\tconst [domBtnContent] = domBtn.find('.sk--content');\r\n\tconst [domAppCont] = elem.find('.sk--menu');\r\n\tconst [domAppList] = elem.find('.sk--menulist');\r\n\r\n\t/////\r\n\t// listen for events and take action\r\n\t//\r\n\tcmptMenu(elem, domBtn, domAppCont);\r\n\r\n\t/**\r\n\t * Processes the access data to populate the list\r\n\t * @param  {Object} app\r\n\t */\r\n\tconst {currentApp, apps} = ctx;\r\n\tconst currApp = apps.find(a => a.id === currentApp);\r\n\tconst appName = currApp == null ? '' : currApp.name;\r\n\r\n\tdomBtn.attr('aria-label', `${appName} - ${i18n('Switch Apps')}`);\r\n\tdomBtnContent.attr('title', appName);\r\n\tdomBtnContent._.innerHTML = appName;\r\n\r\n\t// Disable skip link when impersonating\r\n\tevents.on('_header.impersonation', isImpersonating => {\r\n\t\tconst [domSkipLink] = elem.find('.sk--skip-nav-link');\r\n\t\tif (domSkipLink == null) { return; }\r\n\t\tdomSkipLink.css('display', (isImpersonating ? 'none' : null));\r\n\t}, { greedy: true });\r\n\r\n\t// hide menu on only 1 app\r\n\tif (apps.length < 2) {\r\n\t\telem.addClass('sk-no-click');\r\n\t\tdomBtn.attr('tabindex', '-1');\r\n\t\tdomBtn.attr('disabled', 'disabled');\r\n\t\tdomBtn.attr('aria-disabled', 'true');\r\n\t\tdomBtnContent.removeClass('fa-angle-down-after');\r\n\t} else {\r\n\t\telem.removeClass('sk-no-click');\r\n\t\tdomBtn.attr('tabindex', '0');\r\n\t\tdomBtn.attr('disabled', null);\r\n\t\tdomBtn.attr('aria-disabled', 'false');\r\n\t\tdomBtnContent.addClass('fa-angle-down-after');\r\n\r\n\t\t// Sort by name\r\n\t\tapps.sort((a, b) => a.name.localeCompare(b.name));\r\n\r\n\t\tdomAppList.children(apps.map(app => {\r\n\t\t\tconst isActive = app.id === currentApp;\r\n\t\t\tconst hasLegacyName = app.legacyName != null && app.legacyName.length;\r\n\r\n\t\t\tconst formerly = hasLegacyName ? ` <i class=\"sk--formerly\">formerly ${app.legacyName}</i>` : '';\r\n\r\n\t\t\tconst ariaCurrent = isActive.toString();\r\n\t\t\tconst liClassName = isActive ? 'active' : '';\r\n\t\t\tconst nameClassName = isActive ? 'fa-li-checkmark-after' : '';\r\n\r\n\t\t\tconst href = app.url || '#';\r\n\t\t\tconst target = app.url && app.target ? ` target=\"${app.target}\"` : '';\r\n\r\n\t\t\tconst el = dom.parse(`\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<a role=\"menuitem\" aria-current=\"${ariaCurrent}\" aria-selected=\"false\" class=\"active-state-link ${liClassName}\" href=\"${href}\"${target}><span class=\"sk--name ${nameClassName}\">${app.name}</span>${formerly}</a>\r\n\t\t\t\t</li>\r\n\t\t\t`);\r\n\r\n\t\t\tif (isActive) { el.addClass('active'); }\r\n\t\t\tif (hasLegacyName) { el.addClass('sk--has-legacy'); }\r\n\r\n\t\t\tel.on('click', evt => {\r\n\t\t\t\tif (!app.url) {\r\n\t\t\t\t\tevt.stopPropagation();\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tevents.emit('header.app-switcher.change', app);\r\n\t\t\t\t}\r\n\t\t\t\tevents.emit('sk-menu-close', elem);\r\n\t\t\t});\r\n\r\n\t\t\t// bind common keydown handlers to menu item\r\n\t\t\tcmptMenuItem(elem, domBtn, domAppList, el);\r\n\r\n\t\t\treturn el;\r\n\t\t}));\r\n\t}\r\n\r\n};\r\n","import * as dom from '../../util/easy-dom'; // eslint-disable-line no-unused-vars\r\n\r\nexport default function(elem, attrs, ctx, i18n) {\r\n\t// position: bottom, top, left, right\r\n\tconst position = attrs.position || 'bottom';\r\n\tconst flipSide = {left: 'right', right: 'left', top: 'bottom', bottom: 'top'};\r\n\tconst distance = defaultToPx(attrs.distance) || '-3px';\r\n\tlet hoverTimeout = null;\r\n\r\n\tshiftTheArrow(attrs.arrowShift);\r\n\toffsetTheTip(attrs.tipShift);\r\n\r\n\telem.addClass(`sk-tip-pos-${position}`);\r\n\telem.css({\r\n\t\t[`margin-${flipSide[position]}`]: distance\r\n\t});\r\n\r\n\telem.parent().addClass('sk-tooltip-container');\r\n\r\n\t// add a 1 second delay before the tooltip shows up\r\n\telem.parent().on('mouseenter', (event) => {\r\n\t\thoverTimeout = setTimeout(() => {\r\n\t\t\telem.parent().addClass('sk--hover');\r\n\t\t}, 1000);\r\n\t});\r\n\telem.parent().on('mouseleave', (event) => {\r\n\t\tclearTimeout(hoverTimeout);\r\n\t\thoverTimeout = null;\r\n\t\telem.parent().removeClass('sk--hover');\r\n\t});\r\n\r\n\t/////\r\n\t// helper functions\r\n\t//\r\n\tfunction shiftTheArrow(arrowShift) {\r\n\t\tif (arrowShift == null) { return; }\r\n\t\tconst arrowEl = elem.find('.sk-tip-chevron')[0];\r\n\t\tarrowShift = defaultToPx(arrowShift);\r\n\t\tconst direction = (['left', 'right'].includes(position) ? 'Y' : 'X');\r\n\r\n\t\tarrowEl.css({\r\n\t\t\ttransform: `translate${direction}(${arrowShift}) rotate(45deg)`\r\n\t\t});\r\n\t}\r\n\r\n\tfunction offsetTheTip(tipShift) {\r\n\t\tconst bounds = elem.parent()._.getBoundingClientRect();\r\n\t\tconst direction = (['left', 'right'].includes(position) ? 'Y' : 'X');\r\n\t\tconst defaultShift = (direction === 'Y' ? '50%' : '5px');\r\n\t\tconst leftOrRight = (window.innerWidth - bounds.right < bounds.left ? 'right' : 'left');\r\n\t\tconst propShift = (direction === 'Y' ? 'top' : leftOrRight);\r\n\r\n\t\ttipShift = defaultToPx(tipShift) || defaultShift;\r\n\t\telem.css({\r\n\t\t\t[propShift]: tipShift\r\n\t\t});\r\n\t\tif (direction === 'X') {\r\n\t\t\telem.find('.sk-tip-chevron')[0].css({\r\n\t\t\t\t[propShift]: '18px'\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tfunction defaultToPx(val) {\r\n\t\tif (typeof val !== 'string' && typeof val !== 'number') { return; }\r\n\t\tif (parseInt(val, 10).toString().length === val.toString().length) {\r\n\t\t\tval += 'px';\r\n\t\t}\r\n\t\treturn val;\r\n\t}\r\n};\r\n","import * as dom from '../../util/easy-dom';\r\nimport * as events from '../../util/event-bus';\r\nimport {cmptInputClear, queryStringObject} from '../../util/cmpt-common-features';\r\n\r\nexport default function (elem, attrs, ctx, i18n) {\r\n\r\n\tvar {access, productId, orgId} = ctx;\r\n\r\n\tconst qsData = queryStringObject();\r\n\tif (qsData.orgId != null) { orgId = qsData.orgId; }\r\n\tif (qsData.productId != null) { productId = qsData.productId; }\r\n\tconst productIdUpper = productId.toUpperCase();\r\n\r\n\t/////\r\n\t// get handle on elements we need\r\n\t//\r\n\tconst domSearchInput = elem.find('.search')[0];\r\n\tconst domSearchClearBtn = elem.find('.ss-ctrl-clear')[0];\r\n\tconst domOrgList = elem.find('.sk--org-app-list')[0];\r\n\tconst domAppFilter = elem.find('.sk--filtered-app-name')[0];\r\n\tvar orgListAccessRecords = [];\r\n\tvar filteredByTitle = '';\r\n\r\n\tif (orgId != null) {\r\n\t\t// if the orgId is provided, limit using it\r\n\t\torgListAccessRecords = access.filter(a => a.OrganizationId === orgId);\r\n\t}\r\n\r\n\t// if we still don't have any records\r\n\tif (orgListAccessRecords.length === 0) {\r\n\t\t// get access records based on the current app\r\n\t\torgListAccessRecords = access.filter(a => a.ProductId.toUpperCase() === productIdUpper);\r\n\t\tif (orgListAccessRecords.length) {\r\n\t\t\tfilteredByTitle = orgListAccessRecords[0].ProductName;\r\n\t\t}\r\n\t}\r\n\r\n\t// if we still don't have any records\r\n\tif (orgListAccessRecords.length === 0) {\r\n\t\t// show all orgs we have access to\r\n\t\torgListAccessRecords = access;\r\n\t}\r\n\r\n\t// de-duplicate the records to just unique orgs\r\n\torgListAccessRecords = deDupOrgAccess(orgListAccessRecords);\r\n\r\n\t// if we are left with just 1, pick it\r\n\tif (orgListAccessRecords.length === 1) {\r\n\t\tdom.rAF(function () {\r\n\t\t\tevents.emit('_pick-org.org-id-selected', orgListAccessRecords[0].OrganizationId);\r\n\t\t});\r\n\t\treturn;\r\n\t}\r\n\r\n\tif (filteredByTitle.length) {\r\n\t\tdomAppFilter._.innerHTML = filteredByTitle;\r\n\t\tdomAppFilter.removeClass('sk-hidden');\r\n\t} else {\r\n\t\telem.addClass('sk--orgs-not-filtered');\r\n\t}\r\n\r\n\torgListAccessRecords.sort(function (a, b) {\r\n\t\tconst aName = a.OrganizationName.toLowerCase();\r\n\t\tconst bName = b.OrganizationName.toLowerCase();\r\n\t\tif (aName > bName) { return 1; }\r\n\t\tif (aName < bName) { return -1; }\r\n\t\treturn 0;\r\n\t});\r\n\r\n\tdomOrgList.children(orgListAccessRecords.map(function (a) {\r\n\t\tconst item = dom.parse(`\r\n\t\t\t<li>\r\n\t\t\t\t<a href=\"#\" data-org-id=\"${a.OrganizationId}\">\r\n\t\t\t\t\t${a.OrganizationName}\r\n\t\t\t\t</a>\r\n\t\t\t</li>\r\n\t\t`);\r\n\r\n\t\titem.on('click', function (evt) {\r\n\t\t\tevt.preventDefault();\r\n\t\t\tevents.emit('_pick-org.org-id-selected', a.OrganizationId);\r\n\t\t});\r\n\r\n\t\treturn item;\r\n\t}));\r\n\r\n\t/////\r\n\t// listen and react to events\r\n\t//\r\n\tcmptInputClear(domSearchInput, domSearchClearBtn);\r\n\r\n\t/////\r\n\t// helper functions\r\n\t//\r\n\tfunction deDupOrgAccess(accessRecords) {\r\n\t\treturn accessRecords.filter(function (v, i, a) {\r\n\t\t\tconst idx = a.findIndex(av => av.OrganizationId === v.OrganizationId);\r\n\t\t\treturn idx === i;\r\n\t\t});\r\n\t}\r\n};\r\n","import * as dom from '../../util/easy-dom';\r\nimport * as events from '../../util/event-bus';\r\nimport {queryStringObject} from '../../util/cmpt-common-features';\r\n\r\nexport default function (elem, attrs, ctx, i18n) {\r\n\tvar { access, productId } = ctx;\r\n\r\n\tconst qsData = queryStringObject();\r\n\tif (qsData.productId != null) { productId = qsData.productId; }\r\n\tconst productIdUpper = productId.toUpperCase();\r\n\r\n\t/////\r\n\t// get handle on elements we need\r\n\t//\r\n\tconst domPickOrg = elem.parent().find('.sk-pick-org')[0];\r\n\tconst domAppList = elem.find('.sk--org-app-list')[0];\r\n\tconst domOrgFilter = elem.find('.sk--filtered-org-name')[0];\r\n\r\n\t/////\r\n\t// listen and react to events\r\n\t//\r\n\tevents.on('_pick-org.org-id-selected', function (orgId) {\r\n\t\tif (orgId == null) { return; }\r\n\r\n\t\tconst selectedOrgPA = ctx.access.find(({OrganizationId} = {}) => OrganizationId != null && OrganizationId.toString() === orgId.toString());\r\n\r\n\t\tif (selectedOrgPA == null) { return; }\r\n\r\n\t\tdomOrgFilter._.innerHTML = selectedOrgPA.OrganizationName;\r\n\t\tdomPickOrg.css('display', 'none');\r\n\r\n\t\tconst weHaveAListToShow = setupAppList(orgId);\r\n\r\n\t\tif (weHaveAListToShow) {\r\n\t\t\tdom.rAF(function () {\r\n\t\t\t\telem.css('display', 'block');\r\n\t\t\t\tdom.rAF(() => elem.css('opacity', 1));\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\t/////\r\n\t// helper functions\r\n\t//\r\n\tfunction deDupAppAccess(accessRecords) {\r\n\t\treturn accessRecords.filter(function (v, i, a) {\r\n\t\t\tconst idx = a.findIndex(av => av.ProductId.toUpperCase() === v.ProductId.toUpperCase());\r\n\t\t\treturn idx === i;\r\n\t\t});\r\n\t}\r\n\r\n\tfunction setupAppList(orgId) {\r\n\t\tvar appListAccessRecords = access.filter(function (a) {\r\n\t\t\treturn a.OrganizationId.toString() === orgId.toString() &&\r\n\t\t\t\ta.ProductId.toUpperCase() === productIdUpper;\r\n\t\t});\r\n\r\n\t\tif (appListAccessRecords.length === 0) {\r\n\t\t\tappListAccessRecords = access.filter(\r\n\t\t\t\ta => a.OrganizationId.toString() === orgId.toString()\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\t// de-duplicate the records to just unique orgs\r\n\t\tappListAccessRecords = deDupAppAccess(appListAccessRecords);\r\n\r\n\t\t// if we are left with just 1, pick it\r\n\t\tif (appListAccessRecords.length === 1) {\r\n\t\t\tdom.rAF(function () {\r\n\t\t\t\tevents.emit('_pick-app.product-id-selected', appListAccessRecords[0].ProductId);\r\n\t\t\t});\r\n\t\t\treturn false; // don't show this screen\r\n\t\t}\r\n\r\n\t\tappListAccessRecords.sort(function (a, b) {\r\n\t\t\tconst aName = a.ProductName.toLowerCase();\r\n\t\t\tconst bName = b.ProductName.toLowerCase();\r\n\t\t\tif (aName > bName) { return 1; }\r\n\t\t\tif (aName < bName) { return -1; }\r\n\t\t\treturn 0;\r\n\t\t});\r\n\r\n\t\tdomAppList.children(appListAccessRecords.map(function (a) {\r\n\t\t\tconst formerlyText = (\r\n\t\t\t\ttypeof a.ProductLegacyName === 'string' && a.ProductLegacyName.length\r\n\t\t\t\t? `<small>formerly ${a.ProductLegacyName}</small>`\r\n\t\t\t\t: ''\r\n\t\t\t);\r\n\t\t\tconst item = dom.parse(`\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<a href=\"#\" data-app-id=\"${a.ProductId}\">\r\n\t\t\t\t\t\t<span>${a.ProductName}</span>${formerlyText}\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</li>\r\n\t\t\t`);\r\n\r\n\t\t\titem.on('click', function(evt) {\r\n\t\t\t\tevt.preventDefault();\r\n\t\t\t\tevents.emit('_pick-app.product-id-selected', a.ProductId);\r\n\t\t\t});\r\n\r\n\t\t\treturn item;\r\n\t\t}));\r\n\r\n\t\treturn true; // show the screen\r\n\t}\r\n};\r\n","import * as dom from '../../util/easy-dom'; // eslint-disable-line no-unused-vars\r\nimport {cmptDynamicWidth} from '../../util/cmpt-common-features';\r\n\r\nexport default function (elem, attrs, ctx) {\r\n\tconst domUserName = elem.find('.sk--user-name')[0];\r\n\tcmptDynamicWidth('impersonated-user', elem, domUserName._.innerText, 30, 'bold 18px');\r\n};\r\n","import * as events from '../../util/event-bus';\r\n\r\n/**\r\n * Container class\r\n * @class Sidekick.ActivityIndicator\r\n * @memberOf Sidekick\r\n * @param {EasyDom} elem - Container {@link EasyDom} element\r\n * @param {Object} attrs\r\n * @param {Object} ctx\r\n * @param {String} ctx.url - URL that clicking this should go to if passed in\r\n * @param {Function} i18n\r\n * @emits activity-indicator.clicked - Indicates the activity indicator has been clicked if URL not specified\r\n * @listens activity-indicator.visible - true/false - show hide the indicator\r\n */\r\nexport default function(elem, attrs, ctx, i18n) {\r\n\r\n\t/////\r\n\t// init styles\r\n\t//\r\n\telem.addClass('sk-hidden');\r\n\r\n\t/////\r\n\t// dom elements we require access to\r\n\t//\r\n\tconst domLink = elem.find('a')[0];\r\n\r\n\t/////\r\n\t// listen for events and take action\r\n\t//\r\n\tevents.on('activity-indicator.visible', show => elem.toggleClass('sk-hidden', !show));\r\n\r\n\t/////\r\n\t//\r\n\t//\r\n\tctx.url = ctx.url || '#';\r\n\r\n\tif (ctx.url === '#') {\r\n\t\tdomLink.on('click', evt => {\r\n\t\t\tevt.stopPropagation();\r\n\t\t\tevt.preventDefault();\r\n\t\t\tevents.emit('activity-indicator.clicked');\r\n\t\t});\r\n\t}\r\n};\r\n","/* globals ambient */\r\nimport * as dom from '../../util/easy-dom';\r\nimport * as events from '../../util/event-bus';\r\nimport {pathMatchesRoute} from '../../util/route-helpers';\r\n\r\nexport default function (elem, attrs, ctx, i18n) {\r\n\t// height values for different measurements\r\n\tconst [titleHeight, itemHeight] = [54, 30];\r\n\tconst [bottomPad, headerHeight] = [30, 60];\r\n\tconst singleColumnHeight = ctx.reduce(function (total, titleNode) {\r\n\t\treturn total + titleHeight + (itemHeight * titleNode.children.length);\r\n\t}, headerHeight + bottomPad);\r\n\tvar singleColumnMode = true;\r\n\r\n\tconst menuContainer = elem.find('.mega')[0];\r\n\tconst menuItems = ctx.map(function(item, idx) {\r\n\t\t// backward compatability with item.route value\r\n\t\titem.url = item.url || item.route || null;\r\n\r\n\t\tconst el = dom.parse(`<ul class=\"menu-group\" role=\"menu\"><li class=\"group-title\">${item.title}</li></ul>`);\r\n\r\n\t\t// add menuName value if present\r\n\t\tif (typeof item.menuName === 'string') {\r\n\t\t\tel.data('menu-name', item.menuName);\r\n\t\t}\r\n\r\n\t\tel.append(item.children.map(function (child, cidx) {\r\n\t\t\t// backward compatability with item.route value\r\n\t\t\tchild.url = child.url || child.route || null;\r\n\r\n\t\t\tconst href = child.url || '#';\r\n\t\t\tconst target = child.url && child.target ? ` target=\"${child.target}\"` : '';\r\n\t\t\tconst childEl = dom.parse(`\r\n\t\t\t\t<li class=\"sub-menu-item sk--child-${idx}-${cidx}\">\r\n\t\t\t\t\t<a class=\"sub-menu-item-container\" title=\"${child.title}\" href=\"${href}\"${target} role=\"menu-item\">\r\n\t\t\t\t\t\t<span>${child.title}</span>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</li>\r\n\t\t\t`);\r\n\r\n\t\t\t// add menuName value if present\r\n\t\t\tif (typeof child.menuName === 'string') {\r\n\t\t\t\tchildEl.data('menu-name', child.menuName);\r\n\t\t\t}\r\n\r\n\t\t\tchildEl.find('.sub-menu-item-container')[0].on('click', function(evt) {\r\n\t\t\t\tevents.emit('nav.menu-item-clicked', child, evt);\r\n\t\t\t});\r\n\r\n\t\t\treturn childEl;\r\n\t\t}));\r\n\r\n\t\treturn el;\r\n\t});\r\n\tmenuContainer.children(menuItems);\r\n\r\n\tambient.on('update', 'sk-adjust-menu-columns', (type, cls, v) => adjustColumns(v.height));\r\n\tadjustColumns(ambient.getPluginValue('height'));\r\n\tevents.on('_location.path-change', highlightRoute);\r\n\r\n\tfunction adjustColumns(height) {\r\n\t\t// store the current state\r\n\t\tconst currentlySingleCol = singleColumnMode;\r\n\t\t// check the new state\r\n\t\tsingleColumnMode = height >= singleColumnHeight;\r\n\t\t// only involve the DOM if there's a change needed\r\n\t\tif (currentlySingleCol !== singleColumnMode) {\r\n\t\t\telem.toggleClass('sk--two-column', !singleColumnMode);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction highlightRoute(path) {\r\n\t\tif (path == null) { return; }\r\n\t\tctx.forEach(function (item, idx) {\r\n\t\t\titem.children.forEach(function (child, cidx) {\r\n\t\t\t\tconst highlighted = pathMatchesRoute(path, child.url, child.routeMatcher);\r\n\t\t\t\telem.find(`.sk--child-${idx}-${cidx}`)[0].toggleClass('highlight', highlighted);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n};\r\n","import * as store from '../../util/store';\r\nimport * as events from '../../util/event-bus';\r\n\r\n/**\r\n * Launches a modal window with a countdown until sessions times out.\r\n * @class Sidekick.SessionTimeout\r\n * @memberOf Sidekick\r\n * @param {EasyDom} elem - Container {@link EasyDom} element\r\n * @param {Object} attrs\r\n * @param {Object} ctx\r\n * @param {Function} i18n - translation function\r\n * @emits session.logout - Thrown when the logout button is clicked\r\n * @emits session.extend - Thrown when the stay signed in button is clicked\r\n * @listens session-timeout.clear - Clears the countdown and hides the modal\r\n * @example\r\n * timer: seconds to countdown\r\n * {\r\n\t'timer': 180\r\n}\r\n */\r\nexport default function(elem, attrs, ctx, i18n) {\r\n\r\n\tlet timerInterval;\r\n\r\n\t/////\r\n\t// find dom elements that we care about\r\n\t//\r\n\tconst domLogout = elem.find('.sk--logout')[0];\r\n\tconst domExtendBtn = elem.find('.sk--extend')[0];\r\n\tconst domTimer = elem.find('.sk--timer')[0];\r\n\tconst domSignedOut = elem.find('.sk--signed-out')[0];\r\n\tconst domSignInLink = elem.find('.sk--sign-in-link')[0];\r\n\r\n\t/////\r\n\t// handle initial state and data changes\r\n\t//\r\n\tstore.onValue('session-timeout', load);\r\n\tevents.on('session-timeout.clear', clear);\r\n\r\n\t/////\r\n\t// listen for events and take action\r\n\t//\r\n\tdomSignInLink.on('click', evt => {\r\n\t\tevt.stopPropagation();\r\n\t\tevt.preventDefault();\r\n\r\n\t\t// reload the page on the current url so we come back to what we were doing.\r\n\t\twindow.location.reload();\r\n\t});\r\n\tdomLogout.on('click', evt => {\r\n\t\tevt.stopPropagation();\r\n\t\tevt.preventDefault();\r\n\r\n\t\tclearInterval(timerInterval);\r\n\r\n\t\tevents.emit('session.logout');\r\n\t\tevents.emit('sk-menu-close', elem);\r\n\t});\r\n\tdomExtendBtn.on('click', evt => {\r\n\t\tevt.stopPropagation();\r\n\t\tevt.preventDefault();\r\n\r\n\t\tclear();\r\n\r\n\t\tevents.emit('session.extend');\r\n\t\tevents.emit('sk-menu-close', elem);\r\n\t});\r\n\r\n\t/////\r\n\t// helper functions\r\n\t//\r\n\r\n\t// timer defaults to 3 minutes\r\n\tfunction load({timer = 180} = {}) {\r\n\t\tlet countdown = timer;\r\n\r\n\t\t// show the main component (which starts out hidden)\r\n\t\telem.addClass('show');\r\n\r\n\t\tif (timer <= 0) {\r\n\t\t\tshowSignedOutScreen();\r\n\t\t\treturn; // they are already signed out... we be done\r\n\t\t}\r\n\r\n\t\t// fill the countdown timer and show it\r\n\t\tdomTimer._.innerHTML = format(Math.max(countdown, 0));\r\n\r\n\t\t// schedule updates to our countdown timer\r\n\t\tclearInterval(timerInterval);\r\n\t\ttimerInterval = setInterval(() => {\r\n\t\t\t// update timer display\r\n\t\t\tdomTimer._.innerHTML = format(Math.max(--countdown, 0));\r\n\r\n\t\t\tif (countdown <= 0) {\r\n\t\t\t\tclearInterval(timerInterval);\r\n\t\t\t\tshowSignedOutScreen();\r\n\t\t\t}\r\n\t\t}, 1000);\r\n\t}\r\n\r\n\tfunction showSignedOutScreen() {\r\n\t\tdomSignedOut.addClass('show');\r\n\t\tevents.emit('sk-menu-close', elem);\r\n\t}\r\n\r\n\tfunction format(val) {\r\n\t\tvar seconds = val;\r\n\t\tvar minutes = Math.floor(seconds / 60);\r\n\t\tseconds -= minutes * 60;\r\n\r\n\t\tif (seconds < 10) {\r\n\t\t\tseconds = '0' + seconds;\r\n\t\t}\r\n\t\treturn minutes + ':' + seconds;\r\n\t}\r\n\r\n\tfunction clear() {\r\n\t\tclearInterval(timerInterval);\r\n\t\tdomSignedOut.removeClass('show');\r\n\t\telem.removeClass('show');\r\n\t}\r\n};\r\n","import * as dom from '../../util/easy-dom'; // eslint-disable-line no-unused-vars\r\nimport * as events from '../../util/event-bus';\r\n\r\n/**\r\n * Lodas a generic error page\r\n * @class Sidekick.SiteErrors\r\n * @memberOf Sidekick\r\n * @param {EasyDom} elem - Container {@link EasyDom} element\r\n * @param {Object} attrs\r\n * @param {Object} ctx\r\n * @param {Function} i18n - translation function\r\n * @emits session.logout - Thrown when the logout button is clicked\r\n * @listens site-errors -\r\n */\r\nexport default function (elem, attrs, ctx, i18n) {\r\n\r\n\t/////\r\n\t// find dom elements that we care about\r\n\t//\r\n\tconst domSignInLink = elem.find('.sk--sign-in-link')[0];\r\n\r\n\t/////\r\n\t// listen for events and take action\r\n\t//\r\n\tevents.on('site-errors', () => {\r\n\t\telem.addClass('show');\r\n\t});\r\n\tevents.on('site-errors.clear', () => {\r\n\t\telem.removeClass('show');\r\n\t});\r\n\r\n\tdomSignInLink.on('click', evt => {\r\n\t\tevt.stopPropagation();\r\n\t\tevt.preventDefault();\r\n\r\n\t\t// reload the page on the current url so we come back to what we were doing.\r\n\t\twindow.location.reload();\r\n\t});\r\n};\r\n","export default function (elem, attrs, ctx, i18n) {\r\n\tconst {mainElement} = ctx;\r\n\tconst [domSkipLink] = elem.find('.sk--skip-nav-link');\r\n\r\n\tif (domSkipLink == null) { return; }\r\n\r\n\tdomSkipLink.on('focus', () => {\r\n\t\telem.addClass('sk-skip-nav-focused');\r\n\t});\r\n\r\n\tdomSkipLink.on('blur', () => {\r\n\t\telem.removeClass('sk-skip-nav-focused');\r\n\t});\r\n\r\n\tdomSkipLink.on('click', onClick);\r\n\r\n\tfunction onClick(evt) {\r\n\t\tevt.preventDefault();\r\n\r\n\t\tlet targetElement;\r\n\r\n\t\tif (mainElement instanceof Element) {\r\n\t\t\ttargetElement = mainElement;\r\n\t\t} else {\r\n\t\t\ttargetElement = document.querySelector('main, [role=main]');\r\n\t\t\tif (targetElement == null) {\r\n\t\t\t\ttargetElement = ctx.appElement;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (targetElement.tabIndex === -1 && targetElement.getAttribute('tabindex') == null) {\r\n\t\t\ttargetElement.setAttribute('tabindex', '-1');\r\n\t\t}\r\n\r\n\t\ttargetElement.focus();\r\n\t}\r\n};\r\n","/**\r\n * Ajax Calls\r\n * @module Sidekick.Ajax\r\n * @memberOf Sidekick\r\n */\r\n\r\n/**\r\n * Makes a call\r\n * @function do\r\n * @instance\r\n * @param  {String}   method\r\n * @param  {String}   url\r\n * @param  {Object}   post\r\n * @param  {Function} callback\r\n * @param  {Array}   headers\r\n * @param  {Number}   timeout\r\n * @param  {Boolean}   withCredentials\r\n * @param  {Object}   responseType\r\n * @param  {Array}   eventHandlers\r\n * @param  {Array}   uploadEventHandlers\r\n */\r\nexport function doCall(method, url, post, callback, headers, timeout, withCredentials, responseType, eventHandlers, uploadEventHandlers) {\r\n\tvar h, i, xhr = new window.XMLHttpRequest();\r\n\r\n\txhr.open(method, url, true);\r\n\r\n\tfor (i = 0; i < headers.length; i++) {\r\n\t\tvar header = headers[i];\r\n\t\tif (header.value != null) {\r\n\t\t\txhr.setRequestHeader(header.key, header.value);\r\n\t\t}\r\n\t}\r\n\r\n\txhr.onload = function requestLoaded() {\r\n\t\tvar statusText = xhr.statusText || '';\r\n\r\n\t\t// responseText is the old-school way of retrieving response (supported by IE9)\r\n\t\t// response/responseType properties were introduced in XHR Level2 spec (supported by IE10)\r\n\t\tvar response = ('response' in xhr) ? xhr.response : xhr.responseText;\r\n\r\n\t\t// normalize IE9 bug (http://bugs.jquery.com/ticket/1450)\r\n\t\tvar status = xhr.status === 1223 ? 204 : xhr.status;\r\n\r\n\t\t// fix status code when it is 0 (0 status is undocumented).\r\n\t\t// Occurs when accessing file resources or on Android 4.1 stock browser\r\n\t\t// while retrieving files from application cache.\r\n\t\t// if (status === 0) {\r\n\t\t// \tstatus = response ? 200 : urlResolve(url).protocol == 'file' ? 404 : 0;\r\n\t\t// }\r\n\r\n\t\tcompleteRequest(callback,\r\n\t\t\tstatus,\r\n\t\t\tresponse,\r\n\t\t\txhr.getAllResponseHeaders(),\r\n\t\t\tstatusText);\r\n\t};\r\n\r\n\tvar requestError = function() {\r\n\t\t// The response is always empty\r\n\t\t// See https://xhr.spec.whatwg.org/#request-error-steps and https://fetch.spec.whatwg.org/#concept-network-error\r\n\t\tcompleteRequest(callback, -1, null, null, '');\r\n\t};\r\n\r\n\txhr.onerror = requestError;\r\n\txhr.onabort = requestError;\r\n\r\n\tif (eventHandlers != null) {\r\n\t\tfor (i = 0; i < eventHandlers.length; i++) {\r\n\t\t\th = eventHandlers[i];\r\n\t\t\txhr.addEventListener(h.key, h.value);\r\n\t\t}\r\n\t}\r\n\r\n\tif (uploadEventHandlers != null) {\r\n\t\tfor (i = 0; i < uploadEventHandlers.length; i++) {\r\n\t\t\th = uploadEventHandlers[i];\r\n\t\t\txhr.upload.addEventListener(h.key, h.value);\r\n\t\t}\r\n\t}\r\n\r\n\tif (withCredentials) {\r\n\t\txhr.withCredentials = true;\r\n\t}\r\n\r\n\tif (responseType) {\r\n\t\ttry {\r\n\t\t\txhr.responseType = responseType;\r\n\t\t} catch (e) {\r\n\t\t\t// WebKit added support for the json responseType value on 09/03/2013\r\n\t\t\t// https://bugs.webkit.org/show_bug.cgi?id=73648. Versions of Safari prior to 7 are\r\n\t\t\t// known to throw when setting the value \"json\" as the response type. Other older\r\n\t\t\t// browsers implementing the responseType\r\n\t\t\t//\r\n\t\t\t// The json response type can be ignored if not supported, because JSON payloads are\r\n\t\t\t// parsed on the client-side regardless.\r\n\t\t\tif (responseType !== 'json') {\r\n\t\t\t\tthrow e;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\txhr.send(post == null ? null : post);\r\n}\r\n\r\nfunction completeRequest(callback, status, response, headersString, statusText) {\r\n\tcallback(status, response, headersString, statusText);\r\n}\r\n","import {doCall} from './ajax';\r\nimport * as store from './store';\r\nimport * as events from './event-bus';\r\nimport * as dom from './easy-dom';\r\nimport * as env from './env';\r\nimport {deprecatedAttr} from './deprecated';\r\n\r\nconst idmDataKeys = ['productId', 'access', 'user', 'session', 'roles'];\r\n\r\n// shorthand for these long attributes that are used often\r\nconst _oid = 'OrganizationId';\r\nconst _pid = 'ProductId';\r\n\r\nexport const processIdmData = function (idmData, {users, targetOrgId} = {}) {\r\n\t// ensure our orgId is always a string so that we can correctly do comparisons\r\n\tif (typeof targetOrgId === 'number') {\r\n\t\ttargetOrgId = targetOrgId.toString();\r\n\t}\r\n\r\n\tconst dataKeys = Object.keys(idmData);\r\n\tconst missingIdmMeta = users == null;\r\n\tconst missingIdmData = idmDataKeys.reduce(function (prev, key) {\r\n\t\treturn prev || !dataKeys.includes(key);\r\n\t}, false);\r\n\r\n\t// if we are waiting on data, don't process yet\r\n\tif (missingIdmData || missingIdmMeta) { return; }\r\n\r\n\tconst flInternalProducts = store.get('fl-internal-product-ids') || [];\r\n\tconst isInternalProduct = flInternalProducts.includes(idmData.productId.toLowerCase());\r\n\tconst productIdUpper = idmData.productId.toUpperCase();\r\n\tconst filteredAccessRecords = idmData.access\r\n\t\t.filter(filterDupProductAndOrgRecords)\r\n\t\t.filter(a => a[_pid].toUpperCase() === productIdUpper)\r\n\t\t.filter(a => !flInternalProducts.includes(a[_pid].toLowerCase()));\r\n\r\n\tconst state = idmData.session && idmData.session.State || {};\r\n\r\n\t// ensure our orgId is always a string so that we can correctly do comparisons\r\n\tif (typeof state.currentOrg === 'number') {\r\n\t\tstate.currentOrg = state.currentOrg.toString();\r\n\t}\r\n\r\n\tconst currentOrg = (targetOrgId || state.currentOrg || null);\r\n\tconst isIdmAdmin = idmData.roles.map(r => r.toLowerCase()).includes('idmadministrator');\r\n\r\n\t// if the user is NOT an IDM Administrator and they are trying to access an internal screen\r\n\t// redirect them to the /select screen so they can pick something they are allowed to see\r\n\tif (!isIdmAdmin && isInternalProduct) {\r\n\t\tconst {idGatewayUrl} = store.get('idm');\r\n\t\tconst envName = env.environmentFromIdmGatewayUrl(idGatewayUrl);\r\n\t\twindow.location.href = `${env[envName].ssBaseUrl}/select/`;\r\n\t}\r\n\r\n\t// if the user is an IdmAdministrator and they are accessing an org they don't\r\n\t// have access to, or an internal product, create a fake access record for them\r\n\tif (isIdmAdmin && productIdUpper && (currentOrg != null || isInternalProduct)) {\r\n\t\tconst targetProductAccessRecord = (\r\n\t\t\tisInternalProduct\r\n\t\t\t\t? null\r\n\t\t\t\t: filteredAccessRecords.find(a => currentOrg === a[_oid])\r\n\t\t);\r\n\r\n\t\tif (targetProductAccessRecord == null) {\r\n\r\n\t\t\tconst DefaultSignInUrl = idmData.product && idmData.product.DefaultSignInUrl || '';\r\n\t\t\tconst OrgNavigationUrlTemplate = idmData.product && idmData.product.OrgNavigationUrlTemplate || '';\r\n\t\t\tconst Url = DefaultSignInUrl;\r\n\t\t\tconst ProductName = idmData.product && idmData.product.Name || '';\r\n\t\t\tconst ProductLegacyName = idmData.product && idmData.product.LegacyName || null;\r\n\r\n\t\t\tconst fakeProductAccess = {\r\n\t\t\t\tFlId: users.Id.toString(),\r\n\t\t\t\tDisabled: false,\r\n\t\t\t\tOrganizationId: (isInternalProduct ? null : currentOrg),\r\n\t\t\t\tOrganizationName: (isInternalProduct ? '' : `IDM ADMIN: ${currentOrg}`),\r\n\t\t\t\tProductId: idmData.productId,\r\n\t\t\t\tProductName, ProductLegacyName,\r\n\t\t\t\tDefaultSignInUrl, OrgNavigationUrlTemplate, Url,\r\n\t\t\t\tUserKey: null,\r\n\t\t\t\tFake: true,\r\n\t\t\t\tInternal: isInternalProduct\r\n\t\t\t};\r\n\r\n\t\t\tfilteredAccessRecords.push(fakeProductAccess);\r\n\t\t\tidmData.access.push(fakeProductAccess);\r\n\t\t}\r\n\t}\r\n\r\n\t// this account has no access at all\r\n\tif (idmData.access.length === 0) {\r\n\t\t/* eslint-disable no-console */\r\n\t\tif (console && console.log) {\r\n\t\t\tconsole.log('NO ACCESS RECORDS');\r\n\t\t}\r\n\t\t/* eslint-enable no-console */\r\n\t\tevents.emit('idm.no-access', idmData.user);\r\n\t\treturn;\r\n\r\n\t// couldn't find an access record for the current product\r\n\t} else if (filteredAccessRecords.length === 0) {\r\n\t\treturn startAppOrgPicker(idmData);\r\n\r\n\t\t// if we have just one product access record that matches this app\r\n\t} else if (filteredAccessRecords.length === 1) {\r\n\t\tidmData.userContext = Object.assign({}, filteredAccessRecords[0]);\r\n\r\n\t\t// if we have more than one product access records that match this app\r\n\t} else if (filteredAccessRecords.length > 1) {\r\n\r\n\t\t// we are targeting a specific org\r\n\t\tif (currentOrg != null) {\r\n\t\t\t// try to find a legit product access record for the requested org\r\n\t\t\tconst currentOrgProductAccess = filteredAccessRecords\r\n\t\t\t\t.find(a => currentOrg.toString() === a[_oid]);\r\n\r\n\t\t\t// if we couldn't find a real access record and we are not an idmAdmin\r\n\t\t\tif (currentOrgProductAccess == null) {\r\n\t\t\t\t// we have access to this app, but not for the org we are targeting\r\n\t\t\t\t// we are also not an idmAdmin\r\n\t\t\t\treturn startAppOrgPicker(idmData);\r\n\t\t\t} else {\r\n\t\t\t\tidmData.userContext = Object.assign({}, currentOrgProductAccess);\r\n\t\t\t}\r\n\r\n\t\t// we are not targeting a specific org\r\n\t\t} else {\r\n\t\t\t// have the user pick the org they want to access\r\n\t\t\treturn startAppOrgPicker(idmData);\r\n\t\t}\r\n\t}\r\n\r\n\t// if we have a user context and OrganizationUsers, aggregate the identities\r\n\t// that are within this organization context\r\n\tif (idmData.userContext != null && users.OrganizationUsers != null) {\r\n\t\tconst {OrganizationId} = idmData.userContext;\r\n\t\tidmData.identities = users.OrganizationUsers.reduce(function (acc, ou) {\r\n\t\t\tif (ou.OrganizationId === OrganizationId) {\r\n\t\t\t\tacc = acc.concat(ou.Identities);\r\n\t\t\t}\r\n\t\t\treturn acc;\r\n\t\t}, [].concat(users.Identities || []));\r\n\t}\r\n\r\n\tif (idmData.userContext != null) {\r\n\t\t// common deprecation attrs\r\n\t\tconst obj = idmData.userContext;\r\n\t\tconst objLoc = 'STORE(idm-data).userContext';\r\n\r\n\t\tdeprecatedAttr({\r\n\t\t\tattr: 'FlId',\r\n\t\t\tnewLoc: 'STORE(idm-data).user.profileId',\r\n\t\t\tobj, objLoc\r\n\t\t}, idmData.user.profileId.toString());\r\n\r\n\t\tdeprecatedAttr({ attr: 'Description', obj, objLoc }, null);\r\n\r\n\t\tdeprecatedAttr({ attr: 'UserKey', obj, objLoc }, function () {\r\n\t\t\tconst idTypes = idmData.product.AssociatedRoles.map(x => x.Type);\r\n\t\t\tconst identities = idmData.identities.filter(id => idTypes.includes(id.Type));\r\n\t\t\treturn (identities[0] && identities[0].Id || null);\r\n\t\t});\r\n\r\n\t\tconst deprecatedAccessAttrs = {\r\n\t\t\t'LegacyName': 'ProductLegacyName',\r\n\t\t\t'DefaultSignInUrl': 'Url',\r\n\t\t\t'OrgNavigationUrlTemplate': 'Url'\r\n\t\t};\r\n\t\tObject.keys(deprecatedAccessAttrs).forEach(function (attr) {\r\n\t\t\tconst newAttr = deprecatedAccessAttrs[attr];\r\n\t\t\tdeprecatedAttr({\r\n\t\t\t\tattr, obj, objLoc,\r\n\t\t\t\tnewLoc: `STORE(idm-data).userContext.${newAttr}`\r\n\t\t\t}, () => idmData.userContext[newAttr]);\r\n\t\t});\r\n\t}\r\n\r\n\tstore.set('idm-data', idmData);\r\n\r\n\tconst domWin = dom.element(window);\r\n\tconst idmAdminOverrideOfOrg = currentOrg !== state.currentOrg;\r\n\tconst currentOrgIsNotTheOrgSelected = currentOrg !== idmData.userContext[_oid];\r\n\r\n\tif (idmAdminOverrideOfOrg || currentOrgIsNotTheOrgSelected) {\r\n\t\tupdateCurrentOrgInSharedState();\r\n\t}\r\n\tdomWin.on('focus', updateCurrentOrgInSharedState);\r\n\r\n\tevents.on('_nav.expand-arrow', prefLeftNavExpanded => {\r\n\t\tsetPrefLeftNavExpanded(prefLeftNavExpanded);\r\n\t});\r\n};\r\n\r\nfunction startAppOrgPicker(idmData, appOrgOverrides = {}) {\r\n\tstore.set('pick-org-app-data', Object.assign({}, idmData, appOrgOverrides));\r\n\tstore.set('idm-data', Object.assign(idmData, {userContext: {}}));\r\n}\r\n\r\nexport const fillUiFromIdmData = function (idmData) {\r\n\tconst productIdUpper = idmData.productId.toUpperCase();\r\n\t// idmData\r\n\tstore.set('org-switcher-data', buildOrgSwitcherData(idmData));\r\n\tstore.set('app-switcher-data', buildAppSwitcherData(idmData));\r\n\tstore.set('user-data', idmData.user);\r\n\r\n\tevents.on('header.org-switcher.change', function (org) {\r\n\t\tconst orgId = org.id;\r\n\t\tconst accessRecord = idmData.access\r\n\t\t\t.find(a => a[_pid].toUpperCase() === productIdUpper && a[_oid] === orgId);\r\n\r\n\t\tsetCurrentOrgInSharedState(orgId, function () {\r\n\t\t\tif (accessRecord == null) {\r\n\t\t\t\treturn startAppOrgPicker(idmData, {orgId});\r\n\t\t\t} else {\r\n\t\t\t\twindow.location.href = accessRecord.Url;\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n};\r\n\r\n// shorthand get\r\nexport const get = function (url, cb, headers = []) {\r\n\t// if the user's session has expired, bail out!\r\n\tif (sessionHasExpired()) { return; }\r\n\tdoCall('GET', url, null, createResponseHandler(cb), [{\r\n\t\tkey: 'Authorization',\r\n\t\tvalue: `Bearer ${getBearerToken()}`\r\n\t}, {\r\n\t\tkey: 'Accept',\r\n\t\tvalue: '*/*'\r\n\t}].concat(headers));\r\n};\r\n\r\n// shorthand post\r\nexport const post = function (url, data, cb = function () {}, headers = []) {\r\n\t// if the user's session has expired, bail out!\r\n\tif (sessionHasExpired()) { return; }\r\n\tdoCall('POST', url, JSON.stringify(data), createResponseHandler(cb), [{\r\n\t\tkey: 'Authorization',\r\n\t\tvalue: `Bearer ${getBearerToken()}`\r\n\t}, {\r\n\t\tkey: 'Content-Type',\r\n\t\tvalue: 'application/json'\r\n\t}].concat(headers));\r\n};\r\n\r\n// shorthand put\r\nexport const put = function (url, data, cb, headers = []) {\r\n\t// if the user's session has expired, bail out!\r\n\tif (sessionHasExpired()) { return; }\r\n\tdoCall('PUT', url, JSON.stringify(data), createResponseHandler(cb), [{\r\n\t\tkey: 'Authorization',\r\n\t\tvalue: `Bearer ${getBearerToken()}`\r\n\t}, {\r\n\t\tkey: 'Accept',\r\n\t\tvalue: '*/*'\r\n\t}].concat(headers));\r\n};\r\n\r\n// shorthand patch\r\nexport const patch = function (url, data, cb, headers = []) {\r\n\t// if the user's session has expired, bail out!\r\n\tif (sessionHasExpired()) { return; }\r\n\tdoCall('PATCH', url, JSON.stringify(data), createResponseHandler(cb), [{\r\n\t\tkey: 'Authorization',\r\n\t\tvalue: `Bearer ${getBearerToken()}`\r\n\t}, {\r\n\t\tkey: 'Accept',\r\n\t\tvalue: '*/*'\r\n\t}].concat(headers));\r\n};\r\n\r\n// shorthand delete\r\nexport const del = function (url, cb = function () {}, headers = []) {\r\n\t// if the user's session has expired, bail out!\r\n\tif (sessionHasExpired()) { return; }\r\n\r\n\tdoCall('DELETE', url, null, createResponseHandler(cb), [{\r\n\t\tkey: 'Authorization',\r\n\t\tvalue: `Bearer ${getBearerToken()}`\r\n\t}, {\r\n\t\tkey: 'Content-Type',\r\n\t\tvalue: 'application/json'\r\n\t}].concat(headers));\r\n};\r\n\r\nexport const setCurrentOrgInSharedState = function (currentOrg, cb) {\r\n\tconst {idGatewayUrl} = store.get('idm');\r\n\tpost(`${idGatewayUrl}/sessions/state`, {currentOrg}, cb);\r\n};\r\n\r\nfunction createResponseHandler(cb = () => {}) {\r\n\treturn function (statusCode, responseText, headersStr, statusText) {\r\n\t\t// handle error state\r\n\t\tif (400 <= statusCode && statusCode <= 500) { throw Error(statusText); }\r\n\t\tif (responseText && responseText.length) {\r\n\t\t\tcb(JSON.parse(responseText));\r\n\t\t} else {\r\n\t\t\tcb();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction sessionHasExpired() {\r\n\t// if we could not get the token, assume the user's session has expired\r\n\tif (getBearerToken() == null) {\r\n\t\t// side effect!!!!!\r\n\t\tstore.set('session-timeout', {timer: 0});\r\n\t\treturn true;\r\n\t}\r\n\r\n\treturn false;\r\n}\r\n\r\n// remove extra access records that share the same OrgId and ProductId\r\n// these are found in users that have multiple \"roles\" for a product\r\nfunction filterDupProductAndOrgRecords (val, idx, arr) {\r\n\treturn arr.findIndex(a => a[_oid] === val[_oid] && a[_pid] === val[_pid]) === idx;\r\n}\r\n\r\nfunction buildOrgSwitcherData(idmData) {\r\n\tconst {userContext} = idmData;\r\n\r\n\tif (userContext[_oid] == null || userContext.Internal === true) {\r\n\t\treturn { currentOrg: '', orgs: [] };\r\n\t}\r\n\r\n\treturn {\r\n\t\tcurrentOrg: idmData.userContext[_oid].toString(),\r\n\t\torgs: idmData.access\r\n\t\t\t.filter(a => !a.Disabled) // remove disabled\r\n\t\t\t.map(a => a[_oid]) // make an array of primitives\r\n\t\t\t.filter((v, i, a) => a.indexOf(v) === i) // so we can remove dupes\r\n\t\t\t.map(oId => { // then rebuild with id and name\r\n\t\t\t\tconst {\r\n\t\t\t\t\tOrganizationId,\r\n\t\t\t\t\tOrganizationName\r\n\t\t\t\t} = idmData.access.find(a => a[_oid] === oId);\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\tid: OrganizationId.toString(),\r\n\t\t\t\t\tname: OrganizationName\r\n\t\t\t\t};\r\n\t\t\t})\r\n\t};\r\n}\r\n\r\nfunction buildAppSwitcherData(idmData) {\r\n\tconst {userContext} = idmData;\r\n\r\n\t// if this is an internal app, setup the app switcher\r\n\tif (userContext.Internal === true) {\r\n\t\treturn {\r\n\t\t\tcurrentApp: userContext.ProductId,\r\n\t\t\tapps: [{\r\n\t\t\t\tid: userContext.ProductId,\r\n\t\t\t\tname: userContext.ProductName\r\n\t\t\t}]\r\n\t\t};\r\n\t}\r\n\r\n\tif (userContext[_oid] == null) {\r\n\t\treturn { currentApp: '', apps: [] };\r\n\t}\r\n\r\n\tconst currentOrgId = idmData.userContext[_oid].toString();\r\n\treturn {\r\n\t\tcurrentApp: idmData.userContext[_pid].toUpperCase(),\r\n\t\tapps: idmData.access\r\n\t\t\t.filter(a => !a.Disabled) // remove disabled\r\n\t\t\t.filter(a => a[_oid].toString() === currentOrgId)\r\n\t\t\t.filter(function(a, idx, arr) {\r\n\t\t\t\treturn arr.findIndex(a2 => a2[_pid].toUpperCase() === a[_pid].toUpperCase()) === idx;\r\n\t\t\t})\r\n\t\t\t.map(a => { // then rebuild with id and name\r\n\t\t\t\tconst { ProductId, ProductName } = a;\r\n\t\t\t\tvar url = a.Url;\r\n\t\t\t\treturn { id: ProductId.toUpperCase(), name: ProductName, url, legacyName: a.ProductLegacyName };\r\n\t\t\t})\r\n\t};\r\n}\r\n\r\nfunction updateCurrentOrgInSharedState() {\r\n\tconst idmData = store.get('idm-data');\r\n\tsetCurrentOrgInSharedState(idmData.userContext[_oid]);\r\n}\r\n\r\nfunction getBearerToken() {\r\n\tconst idmCfg = store.get('idm');\r\n\t// handle old accessToken prop and provide deprecation message\r\n\tif (idmCfg.accessToken == null && typeof idmCfg.getAccessToken === 'function') {\r\n\t\treturn idmCfg.getAccessToken();\r\n\t} else {\r\n\t\t/* eslint-disable no-console */\r\n\t\tif (console && console.error) {\r\n\t\t\tconsole.error('DEPRECATED! sidekick.store: idm.accessToken is deprecated, please provide a getAccessToken function that returns the current, valid, idm access token');\r\n\t\t}\r\n\t\t/* eslint-enable no-console */\r\n\t\treturn idmCfg.accessToken;\r\n\t}\r\n}\r\n\r\nfunction setPrefLeftNavExpanded(prefLeftNavExpanded, cb) {\r\n\tconst {idGatewayUrl} = store.get('idm');\r\n\tpost(`${idGatewayUrl}/sessions/state`, {prefLeftNavExpanded}, cb);\r\n}\r\n","import * as env from '../../util/env';\r\nimport * as events from '../../util/event-bus';\r\nimport { get, post } from '../../util/idm-helpers';\r\nimport * as store from '../../util/store';\r\n\r\n/**\r\n * Container class\r\n * @class Sidekick.Announcements\r\n * @memberOf Sidekick\r\n * @param {EasyDom} elem - Container {@link EasyDom} element\r\n * @param {Object} attrs\r\n * @param {Object} ctx (idm-data)\r\n * @param {Function} i18n\r\n */\r\nexport default function(elem, attrs, ctx, i18n) {\r\n\t/////\r\n\t// dom elements we require access to\r\n\t//\r\n\tconst domCloseButton = elem.find('.close')[0];\r\n\tconst domAnchor = elem.find('.sk-announcements-anchor')[0];\r\n\tconst domTitle = elem.find('.sk-announcements-title')[0];\r\n\tconst domContent = elem.find('.sk-announcements-content')[0];\r\n\tconst domContainer = elem.find('.sk-announcements-container')[0];\r\n\r\n\tconst fortyEightHours = 172800000;\r\n\t/////\r\n\t// get announcements endpoints\r\n\t//\r\n\tconst idm = store.get('idm');\r\n\tconst envName = env.environmentFromIdmGatewayUrl(idm.idGatewayUrl);\r\n\tconst { announcementsBaseUrl } = env[envName];\r\n\r\n\tconst announcementsControllerUrl = `${announcementsBaseUrl}/api/v1/announcements`;\r\n\tconst currentAnnouncementEndpoint = `${announcementsControllerUrl}/current?userId=${ctx.user.profileId}`;\r\n\r\n\tlet announcementId;\r\n\r\n\t// Only check for announcements if enabled\r\n\tevents.once('feature-flags-ready-cc', flagsSvc => {\r\n\t\tflagsSvc.checkState('sk_platform_enable_announcements').then(enabled => {\r\n\t\t\tif (enabled) {\r\n\t\t\t\tget(currentAnnouncementEndpoint, function (result) {\r\n\t\t\t\t\tif (result && result.data && result.data.length) {\r\n\t\t\t\t\t\tlet { id, startShowingIn = 0, stopShowingIn = 0, title, content, moreInfoLink } = result.data[0];\r\n\r\n\t\t\t\t\t\tannouncementId = id;\r\n\r\n\t\t\t\t\t\tif (startShowingIn > fortyEightHours || stopShowingIn <= 0 || title.length <= 0) { return; }\r\n\r\n\t\t\t\t\t\tif (stopShowingIn > fortyEightHours) {\r\n\t\t\t\t\t\t\tstopShowingIn = fortyEightHours;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tif (moreInfoLink) {\r\n\t\t\t\t\t\t\t\tdomAnchor.attr('href', moreInfoLink);\r\n\t\t\t\t\t\t\t\tdomAnchor.removeClass('sk-hidden');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tdomTitle._.textContent = title;\r\n\t\t\t\t\t\t\tdomContent._.textContent = content;\r\n\t\t\t\t\t\t\tdomContainer.removeClass('sk-hidden');\r\n\t\t\t\t\t\t}, startShowingIn);\r\n\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tdomContainer.addClass('sk-hidden');\r\n\t\t\t\t\t\t}, stopShowingIn);\r\n\t\t\t\t\t}\r\n\t\t\t\t}, [{\r\n\t\t\t\t\tkey: 'Cache-Control',\r\n\t\t\t\t\tvalue: 'no-cache'\r\n\t\t\t\t}, {\r\n\t\t\t\t\tkey: 'Pragma',\r\n\t\t\t\t\tvalue: 'no-cache'\r\n\t\t\t\t}]);\r\n\t\t\t}\r\n\t\t});\r\n\t}, { greedy: true });\r\n\r\n\t/////\r\n\t// listen for events and take action\r\n\t//\r\n\tdomCloseButton.on('click', () => {\r\n\t\tif (announcementId) {\r\n\t\t\tconst ackAnnouncementEndpoint = `${announcementsControllerUrl}/${announcementId}/ack?userId=${ctx.user.profileId}`;\r\n\t\t\tpost(ackAnnouncementEndpoint);\r\n\t\t\tdomContainer.addClass('sk-hidden');\r\n\t\t}\r\n\t});\r\n};\r\n\r\n\r\n","function detect() {\n  if (typeof navigator !== 'undefined') {\n    return parseUserAgent(navigator.userAgent);\n  }\n\n  return getNodeVersion();\n}\n\nfunction detectOS(userAgentString) {\n  var rules = getOperatingSystemRules();\n  var detected = rules.filter(function (os) {\n    return os.rule && os.rule.test(userAgentString);\n  })[0];\n\n  return detected ? detected.name : null;\n}\n\nfunction getNodeVersion() {\n  var isNode = typeof process !== 'undefined' && process.version;\n  return isNode && {\n    name: 'node',\n    version: process.version.slice(1),\n    os: process.platform\n  };\n}\n\nfunction parseUserAgent(userAgentString) {\n  var browsers = getBrowserRules();\n  if (!userAgentString) {\n    return null;\n  }\n\n  var detected = browsers.map(function(browser) {\n    var match = browser.rule.exec(userAgentString);\n    var version = match && match[1].split(/[._]/).slice(0,3);\n\n    if (version && version.length < 3) {\n      version = version.concat(version.length == 1 ? [0, 0] : [0]);\n    }\n\n    return match && {\n      name: browser.name,\n      version: version.join('.')\n    };\n  }).filter(Boolean)[0] || null;\n\n  if (detected) {\n    detected.os = detectOS(userAgentString);\n  }\n\n  if (/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/i.test(userAgentString)) {\n    detected = detected || {};\n    detected.bot = true;\n  }\n\n  return detected;\n}\n\nfunction getBrowserRules() {\n  return buildRules([\n    [ 'aol', /AOLShield\\/([0-9\\._]+)/ ],\n    [ 'edge', /Edge\\/([0-9\\._]+)/ ],\n    [ 'yandexbrowser', /YaBrowser\\/([0-9\\._]+)/ ],\n    [ 'vivaldi', /Vivaldi\\/([0-9\\.]+)/ ],\n    [ 'kakaotalk', /KAKAOTALK\\s([0-9\\.]+)/ ],\n    [ 'samsung', /SamsungBrowser\\/([0-9\\.]+)/ ],\n    [ 'chrome', /(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/ ],\n    [ 'phantomjs', /PhantomJS\\/([0-9\\.]+)(:?\\s|$)/ ],\n    [ 'crios', /CriOS\\/([0-9\\.]+)(:?\\s|$)/ ],\n    [ 'firefox', /Firefox\\/([0-9\\.]+)(?:\\s|$)/ ],\n    [ 'fxios', /FxiOS\\/([0-9\\.]+)/ ],\n    [ 'opera', /Opera\\/([0-9\\.]+)(?:\\s|$)/ ],\n    [ 'opera', /OPR\\/([0-9\\.]+)(:?\\s|$)$/ ],\n    [ 'ie', /Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/ ],\n    [ 'ie', /MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/ ],\n    [ 'ie', /MSIE\\s(7\\.0)/ ],\n    [ 'bb10', /BB10;\\sTouch.*Version\\/([0-9\\.]+)/ ],\n    [ 'android', /Android\\s([0-9\\.]+)/ ],\n    [ 'ios', /Version\\/([0-9\\._]+).*Mobile.*Safari.*/ ],\n    [ 'safari', /Version\\/([0-9\\._]+).*Safari/ ],\n    [ 'facebook', /FBAV\\/([0-9\\.]+)/],\n    [ 'instagram', /Instagram\\s([0-9\\.]+)/],\n    [ 'ios-webview', /AppleWebKit\\/([0-9\\.]+).*Mobile/]\n  ]);\n}\n\nfunction getOperatingSystemRules() {\n  return buildRules([\n    [ 'iOS', /iP(hone|od|ad)/ ],\n    [ 'Android OS', /Android/ ],\n    [ 'BlackBerry OS', /BlackBerry|BB10/ ],\n    [ 'Windows Mobile', /IEMobile/ ],\n    [ 'Amazon OS', /Kindle/ ],\n    [ 'Windows 3.11', /Win16/ ],\n    [ 'Windows 95', /(Windows 95)|(Win95)|(Windows_95)/ ],\n    [ 'Windows 98', /(Windows 98)|(Win98)/ ],\n    [ 'Windows 2000', /(Windows NT 5.0)|(Windows 2000)/ ],\n    [ 'Windows XP', /(Windows NT 5.1)|(Windows XP)/ ],\n    [ 'Windows Server 2003', /(Windows NT 5.2)/ ],\n    [ 'Windows Vista', /(Windows NT 6.0)/ ],\n    [ 'Windows 7', /(Windows NT 6.1)/ ],\n    [ 'Windows 8', /(Windows NT 6.2)/ ],\n    [ 'Windows 8.1', /(Windows NT 6.3)/ ],\n    [ 'Windows 10', /(Windows NT 10.0)/ ],\n    [ 'Windows ME', /Windows ME/ ],\n    [ 'Open BSD', /OpenBSD/ ],\n    [ 'Sun OS', /SunOS/ ],\n    [ 'Linux', /(Linux)|(X11)/ ],\n    [ 'Mac OS', /(Mac_PowerPC)|(Macintosh)/ ],\n    [ 'QNX', /QNX/ ],\n    [ 'BeOS', /BeOS/ ],\n    [ 'OS/2', /OS\\/2/ ],\n    [ 'Search Bot', /(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\\/Teoma)|(ia_archiver)/ ]\n  ]);\n}\n\nfunction buildRules(ruleTuples) {\n  return ruleTuples.map(function(tuple) {\n    return {\n      name: tuple[0],\n      rule: tuple[1]\n    };\n  });\n}\n\nmodule.exports = {\n  detect: detect,\n  detectOS: detectOS,\n  getNodeVersion: getNodeVersion,\n  parseUserAgent: parseUserAgent\n};\n","import * as dom from '../../util/easy-dom';\r\nimport * as events from '../../util/event-bus';\r\nimport * as persist from '../../util/persistence';\r\nimport { glean } from '../../util/object-helpers';\r\nimport { detect } from 'detect-browser';\r\n\r\nconst _win = (0, eval)('this'); // eslint-disable-line\r\nconst _log = glean(_win, x => x.console.log.bind(x.console), () => {});\r\nconst supportedBrowsers = [\r\n    {name: 'chrome', version: 50},\r\n    {name: 'firefox', version: 40},\r\n    {name: 'safari', version: 11, os: 'mac os'},\r\n    {name: 'ie', version: 11},\r\n    {name: 'edge'},\r\n    {os: 'ios'}\r\n];\r\n\r\nexport default function (elem, attrs, ctx, i18n) {\r\n    const browser = detect();\r\n    const alreadyDismissed = persist.get('browser-warning-dismissed');\r\n    // console.log('alreadyDismissed =====> ', alreadyDismissed);\r\n    if (alreadyDismissed === true) { return; }\r\n    const name = glean(browser, x => x.name.toLowerCase());\r\n    // console.log('NAME =====>', name);\r\n    const os = glean(browser, x => x.os.toLowerCase());\r\n    // console.log('OS =====>', os);\r\n    const version = glean(browser, x => parseInt(x.version.split('.')[0], 10), 0);\r\n    // console.log('VERSION =====>', version);\r\n    const isSupported = supportedBrowsers.some(b => (\r\n        (!!name && (b.name || name) === name)\r\n        && (!!os && (b.os || os) === os)\r\n        && (!!version && (b.version || 0) <= version)\r\n    ));\r\n\r\n    if (isSupported) { return; }\r\n    _log('UNSUPPORTED BROWSER DETECTED', {\r\n        name, os, version,\r\n        userAgent: glean(_win, x => x.navigator.userAgent, 'UserAgent Not Found')\r\n    });\r\n\r\n    const domBody = dom.element(_win.document.body);\r\n    const [domDismissBtn] = elem.find('button');\r\n\r\n    domBody.addClass('sk-unsupported-browser');\r\n\r\n    const dismiss = () => {\r\n        persist.set('browser-warning-dismissed', true, { expires: null });\r\n        elem.css({ position: 'absolute', left: '0' });\r\n        dom.rAF(() => {\r\n            domBody.addClass('sk-unsupported-browser-dismissed');\r\n            setTimeout(() => elem.css({ display: 'none' }), 550);\r\n        });\r\n    };\r\n\r\n    events.on(\r\n        'nav.expanded-footprint',\r\n        state => elem.toggleClass('sk--nav-expanded-footprint', state)\r\n    );\r\n\r\n    domDismissBtn.on('click', dismiss);\r\n};\r\n","import * as tmpl from '../../.ðŸ’©/sidekick-templates';\r\nimport {toDashCase, toCamelCase} from '../util/string-helpers';\r\nimport * as dom from '../util/easy-dom';\r\nimport * as store from '../util/store';\r\nimport * as events from '../util/event-bus';\r\nimport {i18n} from '../util/translations';\r\n\r\nimport header from './sidekick-header/header';\r\nimport nav from './sidekick-nav/nav';\r\nimport navItem from './sidekick-nav-item/nav-item';\r\nimport notifications from './sidekick-notifications/notifications';\r\nimport navItemSubmenu from './sidekick-nav-item-submenu/nav-item-submenu';\r\nimport userInfo from './sidekick-user-info/user-info';\r\nimport help from './sidekick-help/help';\r\nimport search from './sidekick-search/search';\r\nimport loader from './sidekick-loader/loader';\r\nimport orgSwitcher from './sidekick-org-switcher/org-switcher';\r\nimport appSwitcher from './sidekick-app-switcher/app-switcher';\r\nimport contactOrg from './sidekick-contact-org/contact-org';\r\nimport tooltip from './sidekick-tooltip/tooltip';\r\nimport pickOrgApp from './sidekick-pick-org-app/pick-org-app';\r\nimport pickOrg from './sidekick-pick-org/pick-org';\r\nimport pickApp from './sidekick-pick-app/pick-app';\r\nimport impersonatedUser from './sidekick-impersonated-user/impersonated-user';\r\nimport activityIndicator from './sidekick-activity-indicator/activity-indicator';\r\nimport navItemMegaMenu from './sidekick-nav-item-mega-menu/nav-item-mega-menu';\r\nimport sessionTimeout from './sidekick-session-timeout/session-timeout';\r\nimport siteErrors from './sidekick-site-errors/site-errors';\r\nimport skipNav from './sidekick-skip-nav/skip-nav';\r\nimport announcements from './sidekick-announcements/announcements';\r\nimport unsupportedBrowserAlert from './sidekick-unsupported-browser-alert/unsupported-browser-alert';/*cmptInject*/\r\n\r\n/**\r\n * Loads the components\r\n * @module Sidekick.ComponentLoader\r\n * @memberOf Sidekick\r\n */\r\n\r\n/**\r\n * Sidekick component list\r\n * @private\r\n */\r\nconst cmpt = {\r\n\theader, nav, navItem, notifications, navItemSubmenu, userInfo,\r\n\thelp, search, loader, orgSwitcher, appSwitcher, contactOrg,\r\n\ttooltip, pickOrgApp, pickOrg, pickApp, impersonatedUser,\r\n\tactivityIndicator, navItemMegaMenu, sessionTimeout, siteErrors,\r\n\tskipNav, announcements, unsupportedBrowserAlert/*cmptInject*/\r\n};\r\nvar bootstrapAllInProgress = false;\r\nvar bootstrapComplete;\r\n\r\n/**\r\n * Loads all the components\r\n * @function bootstrapAll\r\n * @instance\r\n */\r\nexport default function bootstrapAll() {\r\n\tbootstrapAllInProgress = true;\r\n\tbootstrapComplete = true;\r\n\tObject.keys(cmpt).forEach(c => bootstrap(c));\r\n\tbootstrapAllInProgress = false;\r\n\tif (!bootstrapComplete) { setTimeout(bootstrapAll, 0); }\r\n}\r\n\r\nfunction bootstrap(moduleNameCamel) {\r\n\tconst moduleName = toDashCase(moduleNameCamel);\r\n\tvar elems = document.querySelectorAll(`[sk-${moduleName}]`);\r\n\r\n\tfor (let i = elems.length; i-- ;) {\r\n\t\tconst elem = dom.element(elems[i]);\r\n\r\n\t\t// bootstrapping this element could add more elements\r\n\t\t// that also need to be bootstrapped, so inform the bootstrapper\r\n\t\t// that we are not done yet\r\n\t\tbootstrapComplete = false;\r\n\r\n\t\t// add the cmpt class to the array to signify that it has\r\n\t\t// been bootstrapped and should be bootstrapped again\r\n\t\telem.addClass('sidekick').addClass(`sk-${moduleName}`);\r\n\t\telem.attr(`sk-${moduleName}`, null);\r\n\r\n\t\t/////\r\n\t\t// bootstrap the element\r\n\t\t//\r\n\r\n\t\t// parse attrs\r\n\t\tconst attrs = {};\r\n\t\tfor (let j = elem._.attributes.length; j-- ;) {\r\n\t\t\tconst attr = elem._.attributes[j];\r\n\t\t\tattrs[toCamelCase(attr.name)] = attr.value;\r\n\t\t}\r\n\r\n\t\tif (elem._.context != null) {\r\n\t\t\tinitElement(elem, attrs, elem._.context);\r\n\t\t} else if (attrs.contextStore) {\r\n\t\t\tstore.onValueOnce(attrs.contextStore, storeCtxElemInitializer(elem, attrs));\r\n\t\t} else {\r\n\t\t\tinitElement(elem, attrs, null);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction storeCtxElemInitializer(elem, attrs) {\r\n\t\treturn (data) => {\r\n\t\t\t// init the element with the new data\r\n\t\t\tinitElement(elem, attrs, data);\r\n\t\t\tif (!bootstrapAllInProgress) { bootstrapAll(); }\r\n\t\t};\r\n\t}\r\n\r\n\tfunction initElement(elem, attrs, ctx) {\r\n\t\t// clean out the existing element content\r\n\t\tconst el = elem._;\r\n\t\twhile (el.firstChild) { el.removeChild(el.firstChild); }\r\n\t\t// if we have a template for this component, mix with ctx and fill elem\r\n\t\tif (tmpl[moduleNameCamel]) {\r\n\t\t\tel.innerHTML = tmpl[moduleNameCamel](ctx, attrs, i18n);\r\n\t\t}\r\n\t\t// mark this element as initialized\r\n\t\t// uses rAF to allow css transitions on entering initialized state\r\n\t\tdom.rAF(() => elem.addClass(`sk-${moduleName}-initialized`));\r\n\r\n\t\t// run the component's controller method\r\n\t\tcmpt[moduleNameCamel](elem, attrs, ctx, i18n);\r\n\t\tdom.rAF(() => events.emit(`_${moduleName}-initialized`, elem, attrs, ctx));\r\n\t}\r\n}\r\n","import * as store from './store';\r\n\r\n/**\r\n * @module Sidekick.DomScanner\r\n * @memberOf Sidekick\r\n */\r\n\r\nlet titleInterval = null;\r\n\r\n/**\r\n * Scans the document title to append app name if not found.\r\n * @function title\r\n * @instance\r\n */\r\nexport function title() {\r\n\tstopTitle();\r\n\r\n\tstore.onValueOnce('app-switcher-data',() => {\r\n\t\ttitleInterval = setInterval(() => {\r\n\t\t\tif (store.get('app-switcher-data') == null) { return; }\r\n\r\n\t\t\tconst {currentApp, apps} = store.get('app-switcher-data');\r\n\t\t\tif (currentApp == null || apps == null || apps.length === 0) { return; }\r\n\r\n\t\t\tconst appName = apps.find(a => a.id === currentApp).name;\r\n\r\n\t\t\tif (document.title.endsWith(appName)) { return; }\r\n\r\n\t\t\tdocument.title = `${document.title} - ${appName}`;\r\n\t\t}, 500);\r\n\t});\r\n}\r\n\r\n/**\r\n * Stops scanning the title\r\n * @function stopTitle\r\n * @instance\r\n */\r\nexport function stopTitle() {\r\n\tif (titleInterval != null) {\r\n\t\tclearInterval(titleInterval);\r\n\t\ttitleInterval = null;\r\n\t}\r\n}\r\n","import * as events from './event-bus';\r\nimport * as env from './env';\r\nimport * as configcat from 'configcat-js';\r\nimport * as store from './store';\r\n\r\nlet configCatClient = null;\r\nlet user = null;\r\n\r\nconst envKeyMap = {\r\n\tdev: 'V_7XCIkq50CKzPmiM0YU_A/zGpBEFoGtUy_xXKOOMVQYg',\r\n\tqa: 'V_7XCIkq50CKzPmiM0YU_A/5xT5gM6S3kuTzzm8KggIrw',\r\n\tstage: 'V_7XCIkq50CKzPmiM0YU_A/6UvuIQghx0Se-FLvdJEQyw',\r\n\tprod: 'V_7XCIkq50CKzPmiM0YU_A/VSadpU-w2kSpvTsADlOK1Q'\r\n};\r\n\r\nexport function setupFeatureFlagsCC(idmData) {\r\n\tconst idm = store.get('idm');\r\n\tconst envName = env.environmentFromIdmGatewayUrl(idm.idGatewayUrl);\r\n\tconst envCCKey = envKeyMap[envName];\r\n\r\n\t// configcat setup based on https://www.configcat.com/docs/sdk-reference/js/\r\n\tuser = {\r\n\t\t'identifier': idm.flId, //TODO- replace employeeId with personId\r\n\t\t'custom' : {\r\n\t\t\t'orgId': idmData.userContext.OrganizationId\r\n\t\t}\r\n\t};\r\n\r\n\t// configcat somehow is missing `this` reference in sidekick, so bind it\r\n\tconst createClient = configcat.createClientWithManualPoll.bind(configcat);\r\n\tconfigCatClient = createClient(envCCKey);\r\n\r\n\tconfigCatClient.forceRefresh(() => {\r\n\t\tevents.emit('feature-flags-ready-cc', { checkState });\r\n\t});\r\n}\r\n\r\n/**\r\n * @param {*} featureKey - flag to check (key)\r\n * @param {*} featureValue - Optional, for comparing multivariate values\r\n * If key doesn't exist, configCatClient will return a promise that resolves to false as value of featureKey\r\n * @returns If key does exist, will return a promise that resolves to whether it matches featureValue\r\n */\r\nexport const checkState = (featureKey, featureValue = true) => {\r\n\treturn configCatClient.getValueAsync(featureKey, false, user)\r\n\t\t.then((value) => {\r\n\t\t\treturn value === featureValue;\r\n\t\t});\r\n};\r\n\r\n//TODO- get and patch functions?\r\n","var _typeof2=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e};function createCustomError(e){function n(e,n){Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.message=e,this.code=n}return n.prototype=new Error,n.prototype.name=e,n.prototype.constructor=n,n}var LDUnexpectedResponseError=createCustomError(\"LaunchDarklyUnexpectedResponseError\"),LDInvalidEnvironmentIdError=createCustomError(\"LaunchDarklyInvalidEnvironmentIdError\"),LDInvalidUserError=createCustomError(\"LaunchDarklyInvalidUserError\"),LDInvalidEventKeyError=createCustomError(\"LaunchDarklyInvalidEventKeyError\"),LDInvalidArgumentError=createCustomError(\"LaunchDarklyInvalidArgumentError\"),LDFlagFetchError=createCustomError(\"LaunchDarklyFlagFetchError\");function isHttpErrorRecoverable(e){return!(e>=400&&e<500)||400===e||408===e||429===e}for(var errors=Object.freeze({LDUnexpectedResponseError:LDUnexpectedResponseError,LDInvalidEnvironmentIdError:LDInvalidEnvironmentIdError,LDInvalidUserError:LDInvalidUserError,LDInvalidEventKeyError:LDInvalidEventKeyError,LDInvalidArgumentError:LDInvalidArgumentError,LDFlagFetchError:LDFlagFetchError,isHttpErrorRecoverable:isHttpErrorRecoverable}),fromByteArray_1=fromByteArray,lookup=[],revLookup=[],code=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;function tripletToBase64(e){return lookup[e>>18&63]+lookup[e>>12&63]+lookup[e>>6&63]+lookup[63&e]}function encodeChunk(e,n,t){for(var r,o=[],i=n;i<t;i+=3)r=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(255&e[i+2]),o.push(tripletToBase64(r));return o.join(\"\")}function fromByteArray(e){for(var n,t=e.length,r=t%3,o=[],i=0,a=t-r;i<a;i+=16383)o.push(encodeChunk(e,i,i+16383>a?a:i+16383));return 1===r?(n=e[t-1],o.push(lookup[n>>2]+lookup[n<<4&63]+\"==\")):2===r&&(n=(e[t-2]<<8)+e[t-1],o.push(lookup[n>>10]+lookup[n>>4&63]+lookup[n<<2&63]+\"=\")),o.join(\"\")}revLookup[\"-\".charCodeAt(0)]=62,revLookup[\"_\".charCodeAt(0)]=63;var _typeof=\"function\"==typeof Symbol&&\"symbol\"==_typeof2(Symbol.iterator)?function(e){return void 0===e?\"undefined\":_typeof2(e)}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":void 0===e?\"undefined\":_typeof2(e)},isArray=Array.isArray,keyList=Object.keys,hasProp=Object.prototype.hasOwnProperty,fastDeepEqual=function e(n,t){if(n===t)return!0;if(n&&t&&\"object\"==(void 0===n?\"undefined\":_typeof(n))&&\"object\"==(void 0===t?\"undefined\":_typeof(t))){var r,o,i,a=isArray(n),u=isArray(t);if(a&&u){if((o=n.length)!=t.length)return!1;for(r=o;0!=r--;)if(!e(n[r],t[r]))return!1;return!0}if(a!=u)return!1;var s=n instanceof Date,c=t instanceof Date;if(s!=c)return!1;if(s&&c)return n.getTime()==t.getTime();var l=n instanceof RegExp,d=t instanceof RegExp;if(l!=d)return!1;if(l&&d)return n.toString()==t.toString();var v=keyList(n);if((o=v.length)!==keyList(t).length)return!1;for(r=o;0!=r--;)if(!hasProp.call(t,v[r]))return!1;for(r=o;0!=r--;)if(!e(n[i=v[r]],t[i]))return!1;return!0}return n!=n&&t!=t},_extends=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},userAttrsToStringify=[\"key\",\"secondary\",\"ip\",\"country\",\"email\",\"firstName\",\"lastName\",\"avatar\",\"name\"];function btoa(e){var n=unescape(encodeURIComponent(e));return fromByteArray_1(stringToBytes(n))}function stringToBytes(e){for(var n=[],t=0;t<e.length;t++)n.push(e.charCodeAt(t));return n}function base64URLEncode(e){return btoa(e).replace(/=/g,\"\").replace(/\\+/g,\"-\").replace(/\\//g,\"_\")}function clone(e){return JSON.parse(JSON.stringify(e))}function deepEquals(e,n){return fastDeepEqual(e,n)}function onNextTick(e){setTimeout(e,0)}function wrapPromiseCallback(e,n){var t=e.then(function(e){return n&&setTimeout(function(){n(null,e)},0),e},function(e){if(!n)return Promise.reject(e);setTimeout(function(){n(e,null)},0)});return n?void 0:t}function transformValuesToVersionedValues(e){var n={};for(var t in e)e.hasOwnProperty(t)&&(n[t]={value:e[t],version:0});return n}function transformVersionedValuesToValues(e){var n={};for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t].value);return n}function chunkUserEventsForUrl(e,n){for(var t=n.slice(0),r=[],o=e,i=void 0;t.length>0;){for(i=[];o>0;){var a=t.shift();if(!a)break;(o-=base64URLEncode(JSON.stringify(a)).length)<0&&i.length>0?t.unshift(a):i.push(a)}o=e,r.push(i)}return r}function getLDUserAgentString(e){var n=e.version||\"2.10.2\";return e.userAgent+\"/\"+n}function getLDHeaders(e){return{\"X-LaunchDarkly-User-Agent\":getLDUserAgentString(e)}}function extend(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.reduce(function(e,n){return _extends({},e,n)},{})}function sanitizeUser(e){if(!e)return e;var n=void 0;for(var t in userAttrsToStringify){var r=userAttrsToStringify[t],o=e[r];void 0!==o&&\"string\"!=typeof o&&((n=n||Object.assign({},e))[r]=String(o))}return n||e}var utils=Object.freeze({btoa:btoa,base64URLEncode:base64URLEncode,clone:clone,deepEquals:deepEquals,onNextTick:onNextTick,wrapPromiseCallback:wrapPromiseCallback,transformValuesToVersionedValues:transformValuesToVersionedValues,transformVersionedValuesToValues:transformVersionedValuesToValues,chunkUserEventsForUrl:chunkUserEventsForUrl,getLDUserAgentString:getLDUserAgentString,getLDHeaders:getLDHeaders,extend:extend,sanitizeUser:sanitizeUser}),MAX_URL_LENGTH=2e3;function EventSender(e,n,t,r){var o=n+\"/events/bulk/\"+t,i=n+\"/a/\"+t+\".gif\",a={};function u(e){(new window.Image).src=e}function s(n,t){var a=r||u,s=JSON.stringify(n);return t?function n(t){var r=extend({\"Content-Type\":\"application/json\",\"X-LaunchDarkly-Event-Schema\":\"3\"},getLDHeaders(e));return e.httpRequest(\"POST\",o,r,s).promise.then(function(e){if(e)return e.status>=400&&isHttpErrorRecoverable(e.status)&&t?n(!1):function(e){var n={status:e.status},t=e.header(\"date\");if(t){var r=Date.parse(t);r&&(n.serverTime=r)}return n}(e)}).catch(function(){return t?n(!1):Promise.reject()})}(!0).catch(function(){}):(a(i+\"?d=\"+base64URLEncode(s)),Promise.resolve())}return a.sendEvents=function(t){if(!e.httpRequest)return Promise.resolve();var r,o=e.httpAllowsPost();r=o?[t]:chunkUserEventsForUrl(MAX_URL_LENGTH-n.length,t);for(var i=[],a=0;a<r.length;a++)i.push(s(r[a],o));return Promise.all(i)},a}function EventSummarizer(){var e={},n=0,t=0,r={};return e.summarizeEvent=function(e){if(\"feature\"===e.kind){var o=e.key+\":\"+(null!==e.variation&&void 0!==e.variation?e.variation:\"\")+\":\"+(null!==e.version&&void 0!==e.version?e.version:\"\"),i=r[o];i?i.count=i.count+1:r[o]={count:1,key:e.key,variation:e.variation,version:e.version,value:e.value,default:e.default},(0===n||e.creationDate<n)&&(n=e.creationDate),e.creationDate>t&&(t=e.creationDate)}},e.getSummary=function(){var e={},o=!0;for(var i in r){var a=r[i],u=e[a.key];u||(u={default:a.default,counters:[]},e[a.key]=u);var s={value:a.value,count:a.count};void 0!==a.variation&&null!==a.variation&&(s.variation=a.variation),a.version?s.version=a.version:s.unknown=!0,u.counters.push(s),o=!1}return o?null:{startDate:n,endDate:t,features:e}},e.clearSummary=function(){n=0,t=0,r={}},e}function UserFilter(e){var n={},t=e.allAttributesPrivate,r=e.privateAttributeNames||[],o={key:!0,custom:!0,anonymous:!0},i={key:!0,secondary:!0,ip:!0,country:!0,email:!0,firstName:!0,lastName:!0,avatar:!0,name:!0,anonymous:!0,custom:!0};return n.filterUser=function(e){if(!e)return null;var n=e.privateAttributeNames||[],a=function(e,i){return Object.keys(e).reduce(function(a,u){var s=a;return i(u)&&(function(e){return!o[e]&&(t||-1!==n.indexOf(e)||-1!==r.indexOf(e))}(u)?s[1][u]=!0:s[0][u]=e[u]),s},[{},{}])},u=a(e,function(e){return i[e]}),s=u[0],c=u[1];if(e.custom){var l=a(e.custom,function(){return!0});s.custom=l[0],c=extend({},c,l[1])}var d=Object.keys(c);return d.length&&(d.sort(),s.privateAttrs=d),s},n}var clientInitialized=function(){return\"LaunchDarkly client initialized\"},docLink=\" Please see https://docs.launchdarkly.com/docs/js-sdk-reference#section-initializing-the-client for instructions on SDK initialization.\",clientNotReady=function(){return\"LaunchDarkly client is not ready\"},eventWithoutUser=function(){return\"Be sure to call `identify` in the LaunchDarkly client: http://docs.launchdarkly.com/docs/running-an-ab-test#include-the-client-side-snippet\"},invalidKey=function(){return\"Event key must be a string\"},localStorageUnavailable=function(){return\"localStorage is unavailable\"},localStorageUnavailableForUserId=function(){return\"localStorage is unavailable, so anonymous user ID cannot be cached\"},networkError=function(e){return\"network error\"+(e?\" (\"+e+\")\":\"\")},unknownCustomEventKey=function(e){return'Custom event \"'+e+'\" does not exist'},environmentNotFound=function(){return\"environment not found.\"+docLink},environmentNotSpecified=function(){return\"No environment specified.\"+docLink},errorFetchingFlags=function(e){return\"Error fetching flag settings: \"+(e.message||e)},userNotSpecified=function(){return\"No user specified.\"+docLink},invalidUser=function(){return\"Invalid user specified.\"+docLink},bootstrapOldFormat=function(){return\"LaunchDarkly client was initialized with bootstrap data that did not include flag metadata. Events may not be sent correctly.\"+docLink},bootstrapInvalid=function(){return\"LaunchDarkly bootstrap data is not available because the back end could not read the flags.\"},deprecated=function(e,n){return'[LaunchDarkly] \"'+e+'\" is deprecated, please use \"'+n+'\"'},httpErrorMessage=function(e,n,t){return\"Received error \"+e+(401===e?\" (invalid SDK key)\":\"\")+\" for \"+n+\" - \"+(isHttpErrorRecoverable(e)?t:\"giving up permanently\")},httpUnavailable=function(){return\"Cannot make HTTP requests in this environment.\"+docLink},identifyDisabled=function(){return\"identify() has no effect here; it must be called on the main client instance\"},debugPolling=function(e){return\"polling for feature flags at \"+e},debugStreamPing=function(){return\"received ping message from stream\"},debugStreamPut=function(){return\"received streaming update for all flags\"},debugStreamPatch=function(e){return'received streaming update for flag \"'+e+'\"'},debugStreamPatchIgnored=function(e){return'received streaming update for flag \"'+e+'\" but ignored due to version check'},debugStreamDelete=function(e){return'received streaming deletion for flag \"'+e+'\"'},debugStreamDeleteIgnored=function(e){return'received streaming deletion for flag \"'+e+'\" but ignored due to version check'},debugEnqueueingEvent=function(e){return'enqueueing \"'+e+'\" event'},debugPostingEvents=function(e){return\"sending \"+e+\" events\"},messages=Object.freeze({clientInitialized:clientInitialized,clientNotReady:clientNotReady,eventWithoutUser:eventWithoutUser,invalidKey:invalidKey,localStorageUnavailable:localStorageUnavailable,localStorageUnavailableForUserId:localStorageUnavailableForUserId,networkError:networkError,unknownCustomEventKey:unknownCustomEventKey,environmentNotFound:environmentNotFound,environmentNotSpecified:environmentNotSpecified,errorFetchingFlags:errorFetchingFlags,userNotSpecified:userNotSpecified,invalidUser:invalidUser,bootstrapOldFormat:bootstrapOldFormat,bootstrapInvalid:bootstrapInvalid,deprecated:deprecated,httpErrorMessage:httpErrorMessage,httpUnavailable:httpUnavailable,identifyDisabled:identifyDisabled,debugPolling:debugPolling,debugStreamPing:debugStreamPing,debugStreamPut:debugStreamPut,debugStreamPatch:debugStreamPatch,debugStreamPatchIgnored:debugStreamPatchIgnored,debugStreamDelete:debugStreamDelete,debugStreamDeleteIgnored:debugStreamDeleteIgnored,debugEnqueueingEvent:debugEnqueueingEvent,debugPostingEvents:debugPostingEvents});function EventProcessor(e,n,t,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a={},u=i||EventSender(e,n.eventsUrl,t),s=EventSummarizer(),c=UserFilter(n),l=n.inlineUsersInEvents,d=n.samplingInterval,v=n.flushInterval,f=[],g=0,p=!1,m=void 0;function h(){return 0===d||0===Math.floor(Math.random()*d)}return a.enqueue=function(e){if(!p){var n,t=!1,r=!1;if(s.summarizeEvent(e),\"feature\"===e.kind?h()&&(t=!!e.trackEvents,r=!!(n=e).debugEventsUntilDate&&n.debugEventsUntilDate>g&&n.debugEventsUntilDate>(new Date).getTime()):t=h(),t&&f.push(function(e){var n=extend({},e);return l||\"identify\"===e.kind?n.user=c.filterUser(e.user):(n.userKey=e.user.key,delete n.user),\"feature\"===e.kind&&(delete n.trackEvents,delete n.debugEventsUntilDate),n}(e)),r){var o=extend({},e,{kind:\"debug\"});delete o.trackEvents,delete o.debugEventsUntilDate,delete o.variation,f.push(o)}}},a.flush=function(){if(p)return Promise.resolve();var e=f,n=s.getSummary();return s.clearSummary(),n&&(n.kind=\"summary\",e.push(n)),0===e.length?Promise.resolve():(f=[],r.debug(debugPostingEvents(e.length)),u.sendEvents(e).then(function(e){e&&(e.serverTime&&(g=e.serverTime),isHttpErrorRecoverable(e.status)||(p=!0),e.status>=400&&onNextTick(function(){o.maybeReportError(new LDUnexpectedResponseError(httpErrorMessage(e.status,\"event posting\",\"some events were dropped\")))}))}))},a.start=function(){m=setTimeout(function e(){a.flush(),m=setTimeout(e,v)},v)},a.stop=function(){clearTimeout(m)},a}function EventEmitter(e){var n={},t={};return n.on=function(e,n,r){t[e]=t[e]||[],t[e]=t[e].concat({handler:n,context:r})},n.off=function(e,n,r){if(t[e])for(var o=0;o<t[e].length;o++)t[e][o].handler===n&&t[e][o].context===r&&(t[e]=t[e].slice(0,o).concat(t[e].slice(o+1)))},n.emit=function(e){if(t[e])for(var n=0;n<t[e].length;n++)t[e][n].handler.apply(t[e][n].context,Array.prototype.slice.call(arguments,1))},n.getEvents=function(){return Object.keys(t)},n.getEventListenerCount=function(e){return t[e]?t[e].length:0},n.maybeReportError=function(n){n&&(t.error?this.emit(\"error\",n):(e||console).error(n.message))},n}function Store(e,n,t,r,o){var i={};function a(){var e=\"\",o=r.getUser();return o&&(e=t||btoa(JSON.stringify(o))),\"ld:\"+n+\":\"+e}return i.loadFlags=function(){return e.get(a()).then(function(e){if(null==e)return null;try{var n=JSON.parse(e);if(n){var t=n.$schema;void 0===t||t<1?n=transformValuesToVersionedValues(n):delete n.$schema}return n}catch(e){return i.clearFlags().then(function(){return Promise.reject(e)})}}).catch(function(e){return o.warn(localStorageUnavailable()),Promise.reject(e)})},i.saveFlags=function(n){var t=extend({},n,{$schema:1});return e.set(a(),JSON.stringify(t)).catch(function(e){return o.warn(localStorageUnavailable()),Promise.reject(e)})},i.clearFlags=function(){return e.clear(a()).catch(function(e){return o.warn(localStorageUnavailable()),Promise.reject(e)})},i}function Stream(e,n,t,r){var o=n.streamUrl,i={},a=o+\"/eval/\"+t,u=n.useReport,s=n.evaluationReasons,c=n.streamReconnectDelay,l=null,d=null,v=null,f=null;function g(){h(),p(c)}function p(e){d||(e?d=setTimeout(m,e):m())}function m(){var n=void 0,i=\"\",c={};if(e.eventSourceFactory){for(var d in null!=r&&(i=\"h=\"+r),u?e.eventSourceAllowsReport?(n=a,c.method=\"REPORT\",c.headers={\"Content-Type\":\"application/json\"},c.body=JSON.stringify(v)):(n=o+\"/ping/\"+t,i=\"\"):n=a+\"/\"+base64URLEncode(JSON.stringify(v)),s&&(i=i+(i?\"&\":\"\")+\"withReasons=true\"),n=n+(i?\"?\":\"\")+i,h(),l=e.eventSourceFactory(n,c),f)f.hasOwnProperty(d)&&l.addEventListener(d,f[d]);l.onerror=g}}function h(){l&&(l.close(),l=null)}return i.connect=function(e,n){v=e,f=n,p()},i.disconnect=function(){clearTimeout(d),d=null,h()},i.isConnected=function(){return l&&e.eventSourceIsActive&&e.eventSourceIsActive(l)},i}function promiseCoalescer(e){var n=void 0,t=void 0,r=void 0,o=void 0,i={addPromise:function(i,a){n=i,t&&t(),t=a,i.then(function(t){n===i&&(r(t),e&&e())},function(t){n===i&&(o(t),e&&e())})}};return i.resultPromise=new Promise(function(e,n){r=e,o=n}),i}var json=\"application/json\";function getResponseError(e){return 404===e.status?new LDInvalidEnvironmentIdError(environmentNotFound()):new LDFlagFetchError(errorFetchingFlags(e.statusText||String(e.status)))}function Requestor(e,n,t,r){var o=n.baseUrl,i=n.useReport,a=n.evaluationReasons,u=n.sendLDHeaders,s={},c={};function l(n,t){if(!e.httpRequest)return new Promise(function(e,n){n(new LDFlagFetchError(httpUnavailable()))});var r=t?\"REPORT\":\"GET\",o=u?getLDHeaders(e):{};t&&(o[\"Content-Type\"]=\"application/json\");var i=c[n];i||(i=promiseCoalescer(function(){delete c[n]}),c[n]=i);var a=e.httpRequest(r,n,o,t),s=a.promise.then(function(e){return 200===e.status&&e.header(\"content-type\")&&0===e.header(\"content-type\").lastIndexOf(json)?JSON.parse(e.body):Promise.reject(getResponseError(e))},function(e){return Promise.reject(new LDFlagFetchError(networkError(e)))});return i.addPromise(s,function(){a.cancel&&a.cancel()}),i.resultPromise}return s.fetchFlagSettings=function(e,n){var u=void 0,s=void 0,c=\"\",d=void 0;return i?(s=[o,\"/sdk/evalx/\",t,\"/user\"].join(\"\"),d=JSON.stringify(e)):(u=base64URLEncode(JSON.stringify(e)),s=[o,\"/sdk/evalx/\",t,\"/users/\",u].join(\"\")),n&&(c=\"h=\"+n),a&&(c=c+(c?\"&\":\"\")+\"withReasons=true\"),s=s+(c?\"?\":\"\")+c,r.debug(debugPolling(s)),l(s,d)},s.fetchGoals=function(){return l([o,\"/sdk/goals/\",t].join(\"\"),null)},s}function Identity(e,n){var t={},r=void 0;return t.setUser=function(e){(r=sanitizeUser(e))&&n&&n(clone(r))},t.getUser=function(){return r?clone(r):null},e&&t.setUser(e),t}function createCommonjsModule(e,n){return e(n={exports:{}},n.exports),n.exports}for(var rngBrowser=createCommonjsModule(function(e){var n=\"undefined\"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||\"undefined\"!=typeof msCrypto&&\"function\"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var t=new Uint8Array(16);e.exports=function(){return n(t),t}}else{var r=new Array(16);e.exports=function(){for(var e,n=0;n<16;n++)0==(3&n)&&(e=4294967296*Math.random()),r[n]=e>>>((3&n)<<3)&255;return r}}}),byteToHex=[],i$1=0;i$1<256;++i$1)byteToHex[i$1]=(i$1+256).toString(16).substr(1);function bytesToUuid(e,n){var t=n||0,r=byteToHex;return[r[e[t++]],r[e[t++]],r[e[t++]],r[e[t++]],\"-\",r[e[t++]],r[e[t++]],\"-\",r[e[t++]],r[e[t++]],\"-\",r[e[t++]],r[e[t++]],\"-\",r[e[t++]],r[e[t++]],r[e[t++]],r[e[t++]],r[e[t++]],r[e[t++]]].join(\"\")}var _nodeId,_clockseq,bytesToUuid_1=bytesToUuid,_lastMSecs=0,_lastNSecs=0;function v1(e,n,t){var r=n&&t||0,o=n||[],i=(e=e||{}).node||_nodeId,a=void 0!==e.clockseq?e.clockseq:_clockseq;if(null==i||null==a){var u=rngBrowser();null==i&&(i=_nodeId=[1|u[0],u[1],u[2],u[3],u[4],u[5]]),null==a&&(a=_clockseq=16383&(u[6]<<8|u[7]))}var s=void 0!==e.msecs?e.msecs:(new Date).getTime(),c=void 0!==e.nsecs?e.nsecs:_lastNSecs+1,l=s-_lastMSecs+(c-_lastNSecs)/1e4;if(l<0&&void 0===e.clockseq&&(a=a+1&16383),(l<0||s>_lastMSecs)&&void 0===e.nsecs&&(c=0),c>=1e4)throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");_lastMSecs=s,_lastNSecs=c,_clockseq=a;var d=(1e4*(268435455&(s+=122192928e5))+c)%4294967296;o[r++]=d>>>24&255,o[r++]=d>>>16&255,o[r++]=d>>>8&255,o[r++]=255&d;var v=s/4294967296*1e4&268435455;o[r++]=v>>>8&255,o[r++]=255&v,o[r++]=v>>>24&15|16,o[r++]=v>>>16&255,o[r++]=a>>>8|128,o[r++]=255&a;for(var f=0;f<6;++f)o[r+f]=i[f];return n||bytesToUuid_1(o)}var v1_1=v1,ldUserIdKey=\"ld:$anonUserId\";function UserValidator(e,n){var t={validateUser:function(t){if(!t)return Promise.reject(new LDInvalidUserError(userNotSpecified()));var r=clone(t);return null!==r.key&&void 0!==r.key?(r.key=r.key.toString(),Promise.resolve(r)):r.anonymous?(e?e.get(ldUserIdKey).catch(function(){return null}):Promise.resolve(null)).then(function(t){if(t)return r.key=t,r;var o=v1_1();return r.key=o,function(t){return e?e.set(ldUserIdKey,t).catch(function(){n.warn(localStorageUnavailableForUserId())}):Promise.resolve()}(o).then(function(){return r})}):Promise.reject(new LDInvalidUserError(invalidUser()))}};return t}function validate(e,n,t,r){var o=extend({},{baseUrl:\"https://app.launchdarkly.com\",streamUrl:\"https://clientstream.launchdarkly.com\",eventsUrl:\"https://events.launchdarkly.com\",sendEvents:!0,sendLDHeaders:!0,inlineUsersInEvents:!1,allowFrequentDuplicateEvents:!1,sendEventsOnlyForVariation:!1,useReport:!1,evaluationReasons:!1,flushInterval:2e3,samplingInterval:0,streamReconnectDelay:1e3,allAttributesPrivate:!1,privateAttributeNames:[]},t),i={all_attributes_private:\"allAttributesPrivate\",private_attribute_names:\"privateAttributeNames\"};function a(e){onNextTick(function(){n&&n.maybeReportError(new LDInvalidArgumentError(e))})}var u=extend({},e||{});return function(e){var n=u;Object.keys(i).forEach(function(e){if(void 0!==n[e]){var t=i[e];r.warn(deprecated(e,t)),void 0===n[t]&&(n[t]=n[e]),delete n[e]}})}(),u=function(e,n){var t=extend({},u);return Object.keys(n).forEach(function(e){void 0!==t[e]&&null!==t[e]||(t[e]=n[e])}),t}(0,o),(isNaN(u.flushInterval)||u.flushInterval<2e3)&&(u.flushInterval=2e3,a(\"Invalid flush interval configured. Must be an integer >= 2000 (milliseconds).\")),(isNaN(u.samplingInterval)||u.samplingInterval<0)&&(u.samplingInterval=0,a(\"Invalid sampling interval configured. Sampling interval must be an integer >= 0.\")),u}function createConsoleLogger(e){var n=0;e&&(n=\"none\"===e?100:[\"debug\",\"info\",\"warn\",\"error\"].indexOf(e));var t={};function r(e,t,r){e>=n&&t(r)}return t.debug=function(e){return r(0,console.log,e)},t.info=function(e){return r(1,console.info,e)},t.warn=function(e){return r(2,console.warn,e)},t.error=function(e){return r(3,console.error,e)},t}var _typeof$1=\"function\"==typeof Symbol&&\"symbol\"==_typeof2(Symbol.iterator)?function(e){return void 0===e?\"undefined\":_typeof2(e)}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":void 0===e?\"undefined\":_typeof2(e)},readyEvent=\"ready\",successEvent=\"initialized\",failedEvent=\"failed\",changeEvent=\"change\",internalChangeEvent=\"internal-change\";function initialize(e,n,t,r,o){var i=t&&t.logger?t.logger:o&&o.logger||createConsoleLogger(\"warn\"),a=EventEmitter(i),u=validate(t,a,o,i),s=u.hash,c=u.sendEvents,l=e,d=Stream(r,u,l,s),v=u.eventProcessor||EventProcessor(r,u,l,i,a),f=Requestor(r,u,l,i),g={},p={},m=void 0,h=void 0,y=u.streaming,E=void 0,b=!1,k=!1,w=!0,S=u.stateProvider,U=Identity(null,function(e){S||e&&P({kind:\"identify\",key:e.key,user:e,creationDate:(new Date).getTime()})}),D=UserValidator(r.localStorage,i),L=void 0;function P(e){l&&(S&&S.enqueueEvent&&S.enqueueEvent(e)||(e.user?(w=!1,!c||k||r.isDoNotTrack()||(i.debug(debugEnqueueingEvent(e.kind)),v.enqueue(e))):w&&(i.warn(eventWithoutUser()),w=!1)))}function I(e,n,t){var r=U.getUser(),o=new Date,i=n?n.value:null;if(!u.allowFrequentDuplicateEvents){var a=JSON.stringify(i)+(r&&r.key?r.key:\"\")+e,s=g[a];if(s&&o-s<3e5)return;g[a]=o}var c={kind:\"feature\",key:e,user:r,value:i,variation:n?n.variationIndex:null,default:t,creationDate:o.getTime(),reason:n?n.reason:null},l=p[e];l&&(c.version=l.flagVersion?l.flagVersion:l.version,c.trackEvents=l.trackEvents,c.debugEventsUntilDate=l.debugEventsUntilDate),P(c)}function R(e,n,t){var r=void 0;if(p&&p.hasOwnProperty(e)&&p[e]&&!p[e].deleted){var o=p[e];r=T(o),null!==o.value&&void 0!==o.value||(r.value=n)}else r={value:n,variationIndex:null,reason:{kind:\"ERROR\",errorKind:\"FLAG_NOT_FOUND\"}};return t&&I(e,r,n),r}function T(e){return{value:e.value,variationIndex:void 0===e.variation?null:e.variation,reason:e.reason||null}}function F(){h=!0,U.getUser()&&d.connect(U.getUser(),{ping:function(){i.debug(debugStreamPing()),f.fetchFlagSettings(U.getUser(),s,function(e,n){e&&a.maybeReportError(new LDFlagFetchError(errorFetchingFlags(e))),N(n)})},put:function(e){var n=JSON.parse(e.data);i.debug(debugStreamPut()),N(n)},patch:function(e){var n=JSON.parse(e.data),t=p[n.key];if(!t||!t.version||!n.version||t.version<n.version){i.debug(debugStreamPatch(n.key));var r={},o=extend({},n);delete o.key,p[n.key]=o;var a=T(o);r[n.key]=t?{previous:t.value,current:a}:{current:a},C(r)}else i.debug(debugStreamPatchIgnored(n.key))},delete:function(e){var n=JSON.parse(e.data);if(!p[n.key]||p[n.key].version<n.version){i.debug(debugStreamDelete(n.key));var t={};p[n.key]&&!p[n.key].deleted&&(t[n.key]={previous:p[n.key].value}),p[n.key]={version:n.version,deleted:!0},C(t)}else i.debug(debugStreamDeleteIgnored(n.key))}})}function x(){h&&(d.disconnect(),h=!1)}function N(e){var n={};if(!e)return Promise.resolve();for(var t in p)p.hasOwnProperty(t)&&p[t]&&(e[t]&&!deepEquals(e[t].value,p[t].value)?n[t]={previous:p[t].value,current:T(e[t])}:e[t]&&!e[t].deleted||(n[t]={previous:p[t].value}));for(var r in e)e.hasOwnProperty(r)&&e[r]&&(!p[r]||p[r].deleted)&&(n[r]={current:T(e[r])});return p=e,C(n).catch(function(){})}function C(e){var n=Object.keys(e);if(n.length>0){var t={};n.forEach(function(n){var r=e[n].current,o=r?r.value:void 0,i=e[n].previous;a.emit(changeEvent+\":\"+n,o,i),t[n]=r?{current:o,previous:i}:{previous:i}}),a.emit(changeEvent,t),a.emit(internalChangeEvent,p),u.sendEventsOnlyForVariation||S||n.forEach(function(n){I(n,e[n].current)})}return m&&L?L.saveFlags(p).catch(function(){return null}):Promise.resolve()}function O(){var e=y||E&&void 0===y;e&&!h?F():!e&&h&&x()}function A(e){return e===changeEvent||e.substr(0,changeEvent.length+1)===changeEvent+\":\"}r.localStorage&&(L=new Store(r.localStorage,l,s,U,i));var _=new Promise(function(e){var n=a.on(readyEvent,function(){a.off(readyEvent,n),e()})}),j=new Promise(function(e,n){var t=a.on(successEvent,function(){a.off(successEvent,t),e()}),r=a.on(failedEvent,function(e){a.off(failedEvent,r),n(e)})});if(\"string\"==typeof u.bootstrap&&\"LOCALSTORAGE\"===u.bootstrap.toUpperCase()&&(L?m=!0:i.warn(localStorageUnavailable())),S){var q=S.getInitialState();q?V(q):S.on(\"init\",V),S.on(\"update\",function(e){e.user&&U.setUser(e.user),e.flags&&N(e.flags)})}else(e?D.validateUser(n).then(function(e){return U.setUser(e),\"object\"===_typeof$1(u.bootstrap)?(p=function(e){var n=Object.keys(e),t=e.$flagsState;!t&&n.length&&i.warn(bootstrapOldFormat()),!1===e.$valid&&i.warn(bootstrapInvalid());var r={};return n.forEach(function(n){if(\"$flagsState\"!==n&&\"$valid\"!==n){var o={value:e[n]};t&&t[n]?o=extend(o,t[n]):o.version=0,r[n]=o}}),r}(u.bootstrap),z()):m?L.loadFlags().catch(function(){return null}).then(function(e){return null==e?(p={},f.fetchFlagSettings(U.getUser(),s).then(function(e){return N(e||{})}).then(z).catch(function(e){H(new LDFlagFetchError(errorFetchingFlags(e)))})):(p=e,onNextTick(z),f.fetchFlagSettings(U.getUser(),s).then(function(e){return N(e)}).catch(function(e){return a.maybeReportError(e)}))}):f.fetchFlagSettings(U.getUser(),s).then(function(e){p=e||{},z()}).catch(function(e){p={},H(e)})}):Promise.reject(new LDInvalidEnvironmentIdError(environmentNotSpecified()))).catch(function(e){return a.maybeReportError(e)});function V(e){l=e.environment,U.setUser(e.user),p=e.flags,onNextTick(z)}function z(){i.info(clientInitialized()),b=!0,O(),a.emit(readyEvent),a.emit(successEvent)}function H(e){a.maybeReportError(e),a.emit(failedEvent,e),a.emit(readyEvent)}return{client:{waitForInitialization:function(){return j},waitUntilReady:function(){return _},identify:function(e,n,t){return k?wrapPromiseCallback(Promise.resolve({}),t):S?(i.warn(identifyDisabled()),wrapPromiseCallback(Promise.resolve(transformVersionedValuesToValues(p)),t)):wrapPromiseCallback((m&&L?L.clearFlags():Promise.resolve()).then(function(){return D.validateUser(e)}).then(function(e){return U.setUser(e)}).then(function(){return f.fetchFlagSettings(U.getUser(),n)}).then(function(e){var n=transformVersionedValuesToValues(e);return e?N(e).then(function(){return n}):n}).then(function(e){return h&&F(),e}).catch(function(e){return a.maybeReportError(e),Promise.reject(e)}),t)},getUser:function(){return U.getUser()},variation:function(e,n){return R(e,n,!0).value},variationDetail:function(e,n){return R(e,n,!0)},track:function(e,n){\"string\"==typeof e?(r.customEventFilter&&!r.customEventFilter(e)&&i.warn(unknownCustomEventKey(e)),P({kind:\"custom\",key:e,data:n,user:U.getUser(),url:r.getCurrentUrl(),creationDate:(new Date).getTime()})):a.maybeReportError(new LDInvalidEventKeyError(unknownCustomEventKey(e)))},on:function(e,n,t){A(e)?(E=!0,b&&O(),a.on(e,n,t)):a.on.apply(a,arguments)},off:function(e){if(a.off.apply(a,arguments),A(e)){var n=!1;a.getEvents().forEach(function(e){A(e)&&a.getEventListenerCount(e)>0&&(n=!0)}),n||(E=!1,h&&void 0===y&&x())}},setStreaming:function(e){var n=null===e?void 0:e;n!==y&&(y=n,O())},flush:function(e){return wrapPromiseCallback(c?v.flush():Promise.resolve(),e)},allFlags:function(){var e={};if(!p)return e;for(var n in p)p.hasOwnProperty(n)&&(e[n]=R(n,null,!u.sendEventsOnlyForVariation).value);return e},close:function(e){if(k)return wrapPromiseCallback(Promise.resolve(),e);var n=function(){k=!0,p={}};return wrapPromiseCallback(Promise.resolve().then(function(){if(x(),c)return v.stop(),v.flush()}).then(n).catch(n),e)}},options:u,emitter:a,ident:U,logger:i,requestor:f,start:function(){c&&v.start()},enqueueEvent:P,getFlagsInternal:function(){return p},internalChangeEventName:internalChangeEvent}}var version=\"2.10.2\";function isSyncXhrSupported(){var e=window.navigator&&window.navigator.userAgent;if(e){var n=e.match(/Chrom(e|ium)\\/([0-9]+)\\./);if(n)return parseInt(n[2],10)<73}return!0}var emptyResult={promise:Promise.resolve({status:200,header:function(){return null},body:null})};function newHttpRequest(e,n,t,r,o){if(o&&!isSyncXhrSupported())return emptyResult;var i=new window.XMLHttpRequest;for(var a in i.open(e,n,!o),t||{})t.hasOwnProperty(a)&&i.setRequestHeader(a,t[a]);if(o)return i.send(r),emptyResult;var u=void 0;return{promise:new Promise(function(e,n){i.addEventListener(\"load\",function(){u||e({status:i.status,header:function(e){return i.getResponseHeader(e)},body:i.responseText})}),i.addEventListener(\"error\",function(){u||n(new Error)}),i.send(r)}),cancel:function(){u=!0,i.abort()}}}function makeBrowserPlatform(){var e={pageIsClosing:!1};window.XMLHttpRequest&&(e.httpRequest=function(n,t,r,o){return newHttpRequest(n,t,r,o,e.pageIsClosing)});var n=void 0;e.httpAllowsPost=function(){return void 0===n&&(n=!!window.XMLHttpRequest&&\"withCredentials\"in new window.XMLHttpRequest),n},e.getCurrentUrl=function(){return window.location.href},e.isDoNotTrack=function(){var e=void 0;return 1===(e=window.navigator&&void 0!==window.navigator.doNotTrack?window.navigator.doNotTrack:window.navigator&&void 0!==window.navigator.msDoNotTrack?window.navigator.msDoNotTrack:window.doNotTrack)||!0===e||\"1\"===e||\"yes\"===e};try{window.localStorage&&(e.localStorage={get:function(e){return new Promise(function(n){n(window.localStorage.getItem(e))})},set:function(e,n){return new Promise(function(t){window.localStorage.setItem(e,n),t()})},clear:function(e){return new Promise(function(n){window.localStorage.removeItem(e),n()})}})}catch(n){e.localStorage=null}if(window.EventSource){e.eventSourceFactory=function(e){var n={heartbeatTimeout:3e5,silentTimeout:3e5};return new window.EventSource(e,n)},e.eventSourceIsActive=function(e){return e.readyState===window.EventSource.OPEN||e.readyState===window.EventSource.CONNECTING}}return e.eventSourceAllowsReport=!1,e.userAgent=\"JSClient\",e}var matchOperatorsRe=/[|\\\\{}()[\\]^$+*?.]/g,escapeStringRegexp=function(e){if(\"string\"!=typeof e)throw new TypeError(\"Expected a string\");return e.replace(matchOperatorsRe,\"\\\\$&\")};function doesUrlMatch(e,n,t,r){var o=n.replace(t,\"\").replace(r,\"\"),i=void 0,a=void 0;switch(e.kind){case\"exact\":a=n,i=new RegExp(\"^\"+escapeStringRegexp(e.url)+\"/?$\");break;case\"canonical\":a=o,i=new RegExp(\"^\"+escapeStringRegexp(e.url)+\"/?$\");break;case\"substring\":a=o,i=new RegExp(\".*\"+escapeStringRegexp(e.substring)+\".*$\");break;case\"regex\":a=o,i=new RegExp(e.pattern);break;default:return!1}return i.test(a)}function findGoalsForClick(e,n){for(var t=[],r=0;r<n.length;r++)for(var o=e.target,i=n[r],a=i.selector,u=document.querySelectorAll(a);o&&u.length>0;){for(var s=0;s<u.length;s++)o===u[s]&&t.push(i);o=o.parentNode}return t}function GoalTracker(e,n){for(var t={},r=null,o=[],i=0;i<e.length;i++)for(var a=e[i],u=a.urls||[],s=0;s<u.length;s++)if(doesUrlMatch(u[s],window.location.href,window.location.search,window.location.hash)){\"pageview\"===a.kind?n(\"pageview\",a):(o.push(a),n(\"click_pageview\",a));break}return o.length>0&&(r=function(e){for(var t=findGoalsForClick(e,o),r=0;r<t.length;r++)n(\"click\",t[r])},document.addEventListener(\"click\",r)),t.dispose=function(){document.removeEventListener(\"click\",r)},t}var locationWatcherInterval=300;function GoalManager(e,n){var t=void 0,r=void 0,o={};function i(){r&&r.dispose(),t&&t.length&&(r=GoalTracker(t,a))}function a(n,t){var r={kind:n,key:t.key,data:null,url:window.location.href,user:e.ident.getUser(),creationDate:(new Date).getTime()};return\"click\"===n&&(r.selector=t.selector),e.enqueueEvent(r)}return o.goalKeyExists=function(e){if(!t)return!0;for(var n=0;n<t.length;n++)if(\"custom\"===t[n].kind&&t[n].key===e)return!0;return!1},e.requestor.fetchGoals().then(function(e){e&&e.length>0&&(r=GoalTracker(t=e,a),function(e,n){var t=window.location.href,r=void 0;function o(){(r=window.location.href)!==t&&(t=r,n())}!function e(n,t){n(),setTimeout(function(){e(n,t)},t)}(o,e),window.history&&window.history.pushState?window.addEventListener(\"popstate\",o):window.addEventListener(\"hashchange\",o)}(locationWatcherInterval,i)),n()}).catch(function(t){e.emitter.maybeReportError(new errors.LDUnexpectedResponseError((t&&t.message,t.message))),n()}),o}var goalsEvent=\"goalsReady\",extraDefaults={fetchGoals:!0};function initialize$1(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=makeBrowserPlatform(),o=initialize(e,n,t,r,extraDefaults),i=o.client,a=o.options,u=o.emitter,s=new Promise(function(e){var n=u.on(goalsEvent,function(){u.off(goalsEvent,n),e()})});if(i.waitUntilGoalsReady=function(){return s},a.fetchGoals){var c=GoalManager(o,function(){return u.emit(goalsEvent)});r.customEventFilter=c.goalKeyExists}else u.emit(goalsEvent);return\"complete\"!==document.readyState?window.addEventListener(\"load\",o.start):o.start(),window.addEventListener(\"beforeunload\",function(){r.pageIsClosing=!0,i.close()}),i}var createConsoleLogger$1=createConsoleLogger,version$1=version;function deprecatedInitialize(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return console&&console.warn&&console.warn(messages.deprecated(\"default export\",\"named LDClient export\")),initialize$1(e,n,t)}var index={initialize:deprecatedInitialize,version:version};export default index;export{initialize$1 as initialize,createConsoleLogger$1 as createConsoleLogger,version$1 as version};\n//# sourceMappingURL=ldclient.es.js.map\n","import * as events from './event-bus';\r\nimport * as env from './env';\r\nimport * as LDClient from 'ldclient-js';\r\nimport * as store from './store';\r\n\r\nlet ldclient = null;\r\n\r\nconst envKeyMap = {\r\n\tdev: '5b522a204892e62d90dad00b',\r\n\tqa: '5b5749ea6c774e2ec9e8ee20',\r\n\tstage: '5b36942fa6f97714d8295171',\r\n\tprod: '5b16ba9ceb049c319c453c93'\r\n};\r\n\r\nexport function setupFeatureFlags(idmData) {\r\n\tconst idm= store.get('idm');\r\n\tconst envName = env.environmentFromIdmGatewayUrl(idm.idGatewayUrl);\r\n\tconst envLDKey = envKeyMap[envName];\r\n\r\n\t// LaunchDarkly setup based on https://docs.launchdarkly.com/docs/js-sdk-reference\r\n\tconst user = {\r\n\t\t'key': idm.flId, //TODO- replace employeeId with personId\r\n\t\t'custom' : {\r\n\t\t\t'orgId': idmData.userContext.OrganizationId\r\n\t\t}\r\n\t};\r\n\tldclient= LDClient.initialize(envLDKey, user);\r\n\tldclient.on('ready', d => events.emit('feature-flags-ready', {checkState}));\r\n}\r\n\r\n/**\r\n * @param {*} featureKey - flag to check (key)\r\n * @param {*} featureValue - Optional, for comparing multivariate values\r\n * If key doesn't exist, ldclient will return false as value of featureKey\r\n * @returns If key does exist, will return whether it matches featureValue\r\n */\r\nexport const checkState = (featureKey, featureValue = true) => {\r\n\treturn (ldclient.variation(featureKey, false) === featureValue);\r\n};\r\n\r\n//TODO- get and patch functions?\r\n","/*!\n * @overview es6-promise - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE\n * @version   v4.2.8+1e68dce6\n */\n\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.ES6Promise = factory());\n}(this, (function () { 'use strict';\n\nfunction objectOrFunction(x) {\n  var type = typeof x;\n  return x !== null && (type === 'object' || type === 'function');\n}\n\nfunction isFunction(x) {\n  return typeof x === 'function';\n}\n\n\n\nvar _isArray = void 0;\nif (Array.isArray) {\n  _isArray = Array.isArray;\n} else {\n  _isArray = function (x) {\n    return Object.prototype.toString.call(x) === '[object Array]';\n  };\n}\n\nvar isArray = _isArray;\n\nvar len = 0;\nvar vertxNext = void 0;\nvar customSchedulerFn = void 0;\n\nvar asap = function asap(callback, arg) {\n  queue[len] = callback;\n  queue[len + 1] = arg;\n  len += 2;\n  if (len === 2) {\n    // If len is 2, that means that we need to schedule an async flush.\n    // If additional callbacks are queued before the queue is flushed, they\n    // will be processed by this flush that we are scheduling.\n    if (customSchedulerFn) {\n      customSchedulerFn(flush);\n    } else {\n      scheduleFlush();\n    }\n  }\n};\n\nfunction setScheduler(scheduleFn) {\n  customSchedulerFn = scheduleFn;\n}\n\nfunction setAsap(asapFn) {\n  asap = asapFn;\n}\n\nvar browserWindow = typeof window !== 'undefined' ? window : undefined;\nvar browserGlobal = browserWindow || {};\nvar BrowserMutationObserver = browserGlobal.MutationObserver || browserGlobal.WebKitMutationObserver;\nvar isNode = typeof self === 'undefined' && typeof process !== 'undefined' && {}.toString.call(process) === '[object process]';\n\n// test for web worker but not in IE10\nvar isWorker = typeof Uint8ClampedArray !== 'undefined' && typeof importScripts !== 'undefined' && typeof MessageChannel !== 'undefined';\n\n// node\nfunction useNextTick() {\n  // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n  // see https://github.com/cujojs/when/issues/410 for details\n  return function () {\n    return process.nextTick(flush);\n  };\n}\n\n// vertx\nfunction useVertxTimer() {\n  if (typeof vertxNext !== 'undefined') {\n    return function () {\n      vertxNext(flush);\n    };\n  }\n\n  return useSetTimeout();\n}\n\nfunction useMutationObserver() {\n  var iterations = 0;\n  var observer = new BrowserMutationObserver(flush);\n  var node = document.createTextNode('');\n  observer.observe(node, { characterData: true });\n\n  return function () {\n    node.data = iterations = ++iterations % 2;\n  };\n}\n\n// web worker\nfunction useMessageChannel() {\n  var channel = new MessageChannel();\n  channel.port1.onmessage = flush;\n  return function () {\n    return channel.port2.postMessage(0);\n  };\n}\n\nfunction useSetTimeout() {\n  // Store setTimeout reference so es6-promise will be unaffected by\n  // other code modifying setTimeout (like sinon.useFakeTimers())\n  var globalSetTimeout = setTimeout;\n  return function () {\n    return globalSetTimeout(flush, 1);\n  };\n}\n\nvar queue = new Array(1000);\nfunction flush() {\n  for (var i = 0; i < len; i += 2) {\n    var callback = queue[i];\n    var arg = queue[i + 1];\n\n    callback(arg);\n\n    queue[i] = undefined;\n    queue[i + 1] = undefined;\n  }\n\n  len = 0;\n}\n\nfunction attemptVertx() {\n  try {\n    var vertx = Function('return this')().require('vertx');\n    vertxNext = vertx.runOnLoop || vertx.runOnContext;\n    return useVertxTimer();\n  } catch (e) {\n    return useSetTimeout();\n  }\n}\n\nvar scheduleFlush = void 0;\n// Decide what async method to use to triggering processing of queued callbacks:\nif (isNode) {\n  scheduleFlush = useNextTick();\n} else if (BrowserMutationObserver) {\n  scheduleFlush = useMutationObserver();\n} else if (isWorker) {\n  scheduleFlush = useMessageChannel();\n} else if (browserWindow === undefined && typeof require === 'function') {\n  scheduleFlush = attemptVertx();\n} else {\n  scheduleFlush = useSetTimeout();\n}\n\nfunction then(onFulfillment, onRejection) {\n  var parent = this;\n\n  var child = new this.constructor(noop);\n\n  if (child[PROMISE_ID] === undefined) {\n    makePromise(child);\n  }\n\n  var _state = parent._state;\n\n\n  if (_state) {\n    var callback = arguments[_state - 1];\n    asap(function () {\n      return invokeCallback(_state, child, callback, parent._result);\n    });\n  } else {\n    subscribe(parent, child, onFulfillment, onRejection);\n  }\n\n  return child;\n}\n\n/**\n  `Promise.resolve` returns a promise that will become resolved with the\n  passed `value`. It is shorthand for the following:\n\n  ```javascript\n  let promise = new Promise(function(resolve, reject){\n    resolve(1);\n  });\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = Promise.resolve(1);\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  @method resolve\n  @static\n  @param {Any} value value that the returned promise will be resolved with\n  Useful for tooling.\n  @return {Promise} a promise that will become fulfilled with the given\n  `value`\n*/\nfunction resolve$1(object) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  if (object && typeof object === 'object' && object.constructor === Constructor) {\n    return object;\n  }\n\n  var promise = new Constructor(noop);\n  resolve(promise, object);\n  return promise;\n}\n\nvar PROMISE_ID = Math.random().toString(36).substring(2);\n\nfunction noop() {}\n\nvar PENDING = void 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\n\nfunction selfFulfillment() {\n  return new TypeError(\"You cannot resolve a promise with itself\");\n}\n\nfunction cannotReturnOwn() {\n  return new TypeError('A promises callback cannot return that same promise.');\n}\n\nfunction tryThen(then$$1, value, fulfillmentHandler, rejectionHandler) {\n  try {\n    then$$1.call(value, fulfillmentHandler, rejectionHandler);\n  } catch (e) {\n    return e;\n  }\n}\n\nfunction handleForeignThenable(promise, thenable, then$$1) {\n  asap(function (promise) {\n    var sealed = false;\n    var error = tryThen(then$$1, thenable, function (value) {\n      if (sealed) {\n        return;\n      }\n      sealed = true;\n      if (thenable !== value) {\n        resolve(promise, value);\n      } else {\n        fulfill(promise, value);\n      }\n    }, function (reason) {\n      if (sealed) {\n        return;\n      }\n      sealed = true;\n\n      reject(promise, reason);\n    }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n    if (!sealed && error) {\n      sealed = true;\n      reject(promise, error);\n    }\n  }, promise);\n}\n\nfunction handleOwnThenable(promise, thenable) {\n  if (thenable._state === FULFILLED) {\n    fulfill(promise, thenable._result);\n  } else if (thenable._state === REJECTED) {\n    reject(promise, thenable._result);\n  } else {\n    subscribe(thenable, undefined, function (value) {\n      return resolve(promise, value);\n    }, function (reason) {\n      return reject(promise, reason);\n    });\n  }\n}\n\nfunction handleMaybeThenable(promise, maybeThenable, then$$1) {\n  if (maybeThenable.constructor === promise.constructor && then$$1 === then && maybeThenable.constructor.resolve === resolve$1) {\n    handleOwnThenable(promise, maybeThenable);\n  } else {\n    if (then$$1 === undefined) {\n      fulfill(promise, maybeThenable);\n    } else if (isFunction(then$$1)) {\n      handleForeignThenable(promise, maybeThenable, then$$1);\n    } else {\n      fulfill(promise, maybeThenable);\n    }\n  }\n}\n\nfunction resolve(promise, value) {\n  if (promise === value) {\n    reject(promise, selfFulfillment());\n  } else if (objectOrFunction(value)) {\n    var then$$1 = void 0;\n    try {\n      then$$1 = value.then;\n    } catch (error) {\n      reject(promise, error);\n      return;\n    }\n    handleMaybeThenable(promise, value, then$$1);\n  } else {\n    fulfill(promise, value);\n  }\n}\n\nfunction publishRejection(promise) {\n  if (promise._onerror) {\n    promise._onerror(promise._result);\n  }\n\n  publish(promise);\n}\n\nfunction fulfill(promise, value) {\n  if (promise._state !== PENDING) {\n    return;\n  }\n\n  promise._result = value;\n  promise._state = FULFILLED;\n\n  if (promise._subscribers.length !== 0) {\n    asap(publish, promise);\n  }\n}\n\nfunction reject(promise, reason) {\n  if (promise._state !== PENDING) {\n    return;\n  }\n  promise._state = REJECTED;\n  promise._result = reason;\n\n  asap(publishRejection, promise);\n}\n\nfunction subscribe(parent, child, onFulfillment, onRejection) {\n  var _subscribers = parent._subscribers;\n  var length = _subscribers.length;\n\n\n  parent._onerror = null;\n\n  _subscribers[length] = child;\n  _subscribers[length + FULFILLED] = onFulfillment;\n  _subscribers[length + REJECTED] = onRejection;\n\n  if (length === 0 && parent._state) {\n    asap(publish, parent);\n  }\n}\n\nfunction publish(promise) {\n  var subscribers = promise._subscribers;\n  var settled = promise._state;\n\n  if (subscribers.length === 0) {\n    return;\n  }\n\n  var child = void 0,\n      callback = void 0,\n      detail = promise._result;\n\n  for (var i = 0; i < subscribers.length; i += 3) {\n    child = subscribers[i];\n    callback = subscribers[i + settled];\n\n    if (child) {\n      invokeCallback(settled, child, callback, detail);\n    } else {\n      callback(detail);\n    }\n  }\n\n  promise._subscribers.length = 0;\n}\n\nfunction invokeCallback(settled, promise, callback, detail) {\n  var hasCallback = isFunction(callback),\n      value = void 0,\n      error = void 0,\n      succeeded = true;\n\n  if (hasCallback) {\n    try {\n      value = callback(detail);\n    } catch (e) {\n      succeeded = false;\n      error = e;\n    }\n\n    if (promise === value) {\n      reject(promise, cannotReturnOwn());\n      return;\n    }\n  } else {\n    value = detail;\n  }\n\n  if (promise._state !== PENDING) {\n    // noop\n  } else if (hasCallback && succeeded) {\n    resolve(promise, value);\n  } else if (succeeded === false) {\n    reject(promise, error);\n  } else if (settled === FULFILLED) {\n    fulfill(promise, value);\n  } else if (settled === REJECTED) {\n    reject(promise, value);\n  }\n}\n\nfunction initializePromise(promise, resolver) {\n  try {\n    resolver(function resolvePromise(value) {\n      resolve(promise, value);\n    }, function rejectPromise(reason) {\n      reject(promise, reason);\n    });\n  } catch (e) {\n    reject(promise, e);\n  }\n}\n\nvar id = 0;\nfunction nextId() {\n  return id++;\n}\n\nfunction makePromise(promise) {\n  promise[PROMISE_ID] = id++;\n  promise._state = undefined;\n  promise._result = undefined;\n  promise._subscribers = [];\n}\n\nfunction validationError() {\n  return new Error('Array Methods must be provided an Array');\n}\n\nvar Enumerator = function () {\n  function Enumerator(Constructor, input) {\n    this._instanceConstructor = Constructor;\n    this.promise = new Constructor(noop);\n\n    if (!this.promise[PROMISE_ID]) {\n      makePromise(this.promise);\n    }\n\n    if (isArray(input)) {\n      this.length = input.length;\n      this._remaining = input.length;\n\n      this._result = new Array(this.length);\n\n      if (this.length === 0) {\n        fulfill(this.promise, this._result);\n      } else {\n        this.length = this.length || 0;\n        this._enumerate(input);\n        if (this._remaining === 0) {\n          fulfill(this.promise, this._result);\n        }\n      }\n    } else {\n      reject(this.promise, validationError());\n    }\n  }\n\n  Enumerator.prototype._enumerate = function _enumerate(input) {\n    for (var i = 0; this._state === PENDING && i < input.length; i++) {\n      this._eachEntry(input[i], i);\n    }\n  };\n\n  Enumerator.prototype._eachEntry = function _eachEntry(entry, i) {\n    var c = this._instanceConstructor;\n    var resolve$$1 = c.resolve;\n\n\n    if (resolve$$1 === resolve$1) {\n      var _then = void 0;\n      var error = void 0;\n      var didError = false;\n      try {\n        _then = entry.then;\n      } catch (e) {\n        didError = true;\n        error = e;\n      }\n\n      if (_then === then && entry._state !== PENDING) {\n        this._settledAt(entry._state, i, entry._result);\n      } else if (typeof _then !== 'function') {\n        this._remaining--;\n        this._result[i] = entry;\n      } else if (c === Promise$1) {\n        var promise = new c(noop);\n        if (didError) {\n          reject(promise, error);\n        } else {\n          handleMaybeThenable(promise, entry, _then);\n        }\n        this._willSettleAt(promise, i);\n      } else {\n        this._willSettleAt(new c(function (resolve$$1) {\n          return resolve$$1(entry);\n        }), i);\n      }\n    } else {\n      this._willSettleAt(resolve$$1(entry), i);\n    }\n  };\n\n  Enumerator.prototype._settledAt = function _settledAt(state, i, value) {\n    var promise = this.promise;\n\n\n    if (promise._state === PENDING) {\n      this._remaining--;\n\n      if (state === REJECTED) {\n        reject(promise, value);\n      } else {\n        this._result[i] = value;\n      }\n    }\n\n    if (this._remaining === 0) {\n      fulfill(promise, this._result);\n    }\n  };\n\n  Enumerator.prototype._willSettleAt = function _willSettleAt(promise, i) {\n    var enumerator = this;\n\n    subscribe(promise, undefined, function (value) {\n      return enumerator._settledAt(FULFILLED, i, value);\n    }, function (reason) {\n      return enumerator._settledAt(REJECTED, i, reason);\n    });\n  };\n\n  return Enumerator;\n}();\n\n/**\n  `Promise.all` accepts an array of promises, and returns a new promise which\n  is fulfilled with an array of fulfillment values for the passed promises, or\n  rejected with the reason of the first passed promise to be rejected. It casts all\n  elements of the passed iterable to promises as it runs this algorithm.\n\n  Example:\n\n  ```javascript\n  let promise1 = resolve(1);\n  let promise2 = resolve(2);\n  let promise3 = resolve(3);\n  let promises = [ promise1, promise2, promise3 ];\n\n  Promise.all(promises).then(function(array){\n    // The array here would be [ 1, 2, 3 ];\n  });\n  ```\n\n  If any of the `promises` given to `all` are rejected, the first promise\n  that is rejected will be given as an argument to the returned promises's\n  rejection handler. For example:\n\n  Example:\n\n  ```javascript\n  let promise1 = resolve(1);\n  let promise2 = reject(new Error(\"2\"));\n  let promise3 = reject(new Error(\"3\"));\n  let promises = [ promise1, promise2, promise3 ];\n\n  Promise.all(promises).then(function(array){\n    // Code here never runs because there are rejected promises!\n  }, function(error) {\n    // error.message === \"2\"\n  });\n  ```\n\n  @method all\n  @static\n  @param {Array} entries array of promises\n  @param {String} label optional string for labeling the promise.\n  Useful for tooling.\n  @return {Promise} promise that is fulfilled when all `promises` have been\n  fulfilled, or rejected if any of them become rejected.\n  @static\n*/\nfunction all(entries) {\n  return new Enumerator(this, entries).promise;\n}\n\n/**\n  `Promise.race` returns a new promise which is settled in the same way as the\n  first passed promise to settle.\n\n  Example:\n\n  ```javascript\n  let promise1 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 2');\n    }, 100);\n  });\n\n  Promise.race([promise1, promise2]).then(function(result){\n    // result === 'promise 2' because it was resolved before promise1\n    // was resolved.\n  });\n  ```\n\n  `Promise.race` is deterministic in that only the state of the first\n  settled promise matters. For example, even if other promises given to the\n  `promises` array argument are resolved, but the first settled promise has\n  become rejected before the other promises became fulfilled, the returned\n  promise will become rejected:\n\n  ```javascript\n  let promise1 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      reject(new Error('promise 2'));\n    }, 100);\n  });\n\n  Promise.race([promise1, promise2]).then(function(result){\n    // Code here never runs\n  }, function(reason){\n    // reason.message === 'promise 2' because promise 2 became rejected before\n    // promise 1 became fulfilled\n  });\n  ```\n\n  An example real-world use case is implementing timeouts:\n\n  ```javascript\n  Promise.race([ajax('foo.json'), timeout(5000)])\n  ```\n\n  @method race\n  @static\n  @param {Array} promises array of promises to observe\n  Useful for tooling.\n  @return {Promise} a promise which settles in the same way as the first passed\n  promise to settle.\n*/\nfunction race(entries) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  if (!isArray(entries)) {\n    return new Constructor(function (_, reject) {\n      return reject(new TypeError('You must pass an array to race.'));\n    });\n  } else {\n    return new Constructor(function (resolve, reject) {\n      var length = entries.length;\n      for (var i = 0; i < length; i++) {\n        Constructor.resolve(entries[i]).then(resolve, reject);\n      }\n    });\n  }\n}\n\n/**\n  `Promise.reject` returns a promise rejected with the passed `reason`.\n  It is shorthand for the following:\n\n  ```javascript\n  let promise = new Promise(function(resolve, reject){\n    reject(new Error('WHOOPS'));\n  });\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = Promise.reject(new Error('WHOOPS'));\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  @method reject\n  @static\n  @param {Any} reason value that the returned promise will be rejected with.\n  Useful for tooling.\n  @return {Promise} a promise rejected with the given `reason`.\n*/\nfunction reject$1(reason) {\n  /*jshint validthis:true */\n  var Constructor = this;\n  var promise = new Constructor(noop);\n  reject(promise, reason);\n  return promise;\n}\n\nfunction needsResolver() {\n  throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n}\n\nfunction needsNew() {\n  throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n}\n\n/**\n  Promise objects represent the eventual result of an asynchronous operation. The\n  primary way of interacting with a promise is through its `then` method, which\n  registers callbacks to receive either a promise's eventual value or the reason\n  why the promise cannot be fulfilled.\n\n  Terminology\n  -----------\n\n  - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n  - `thenable` is an object or function that defines a `then` method.\n  - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n  - `exception` is a value that is thrown using the throw statement.\n  - `reason` is a value that indicates why a promise was rejected.\n  - `settled` the final resting state of a promise, fulfilled or rejected.\n\n  A promise can be in one of three states: pending, fulfilled, or rejected.\n\n  Promises that are fulfilled have a fulfillment value and are in the fulfilled\n  state.  Promises that are rejected have a rejection reason and are in the\n  rejected state.  A fulfillment value is never a thenable.\n\n  Promises can also be said to *resolve* a value.  If this value is also a\n  promise, then the original promise's settled state will match the value's\n  settled state.  So a promise that *resolves* a promise that rejects will\n  itself reject, and a promise that *resolves* a promise that fulfills will\n  itself fulfill.\n\n\n  Basic Usage:\n  ------------\n\n  ```js\n  let promise = new Promise(function(resolve, reject) {\n    // on success\n    resolve(value);\n\n    // on failure\n    reject(reason);\n  });\n\n  promise.then(function(value) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Advanced Usage:\n  ---------------\n\n  Promises shine when abstracting away asynchronous interactions such as\n  `XMLHttpRequest`s.\n\n  ```js\n  function getJSON(url) {\n    return new Promise(function(resolve, reject){\n      let xhr = new XMLHttpRequest();\n\n      xhr.open('GET', url);\n      xhr.onreadystatechange = handler;\n      xhr.responseType = 'json';\n      xhr.setRequestHeader('Accept', 'application/json');\n      xhr.send();\n\n      function handler() {\n        if (this.readyState === this.DONE) {\n          if (this.status === 200) {\n            resolve(this.response);\n          } else {\n            reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n          }\n        }\n      };\n    });\n  }\n\n  getJSON('/posts.json').then(function(json) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Unlike callbacks, promises are great composable primitives.\n\n  ```js\n  Promise.all([\n    getJSON('/posts'),\n    getJSON('/comments')\n  ]).then(function(values){\n    values[0] // => postsJSON\n    values[1] // => commentsJSON\n\n    return values;\n  });\n  ```\n\n  @class Promise\n  @param {Function} resolver\n  Useful for tooling.\n  @constructor\n*/\n\nvar Promise$1 = function () {\n  function Promise(resolver) {\n    this[PROMISE_ID] = nextId();\n    this._result = this._state = undefined;\n    this._subscribers = [];\n\n    if (noop !== resolver) {\n      typeof resolver !== 'function' && needsResolver();\n      this instanceof Promise ? initializePromise(this, resolver) : needsNew();\n    }\n  }\n\n  /**\n  The primary way of interacting with a promise is through its `then` method,\n  which registers callbacks to receive either a promise's eventual value or the\n  reason why the promise cannot be fulfilled.\n   ```js\n  findUser().then(function(user){\n    // user is available\n  }, function(reason){\n    // user is unavailable, and you are given the reason why\n  });\n  ```\n   Chaining\n  --------\n   The return value of `then` is itself a promise.  This second, 'downstream'\n  promise is resolved with the return value of the first promise's fulfillment\n  or rejection handler, or rejected if the handler throws an exception.\n   ```js\n  findUser().then(function (user) {\n    return user.name;\n  }, function (reason) {\n    return 'default name';\n  }).then(function (userName) {\n    // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n    // will be `'default name'`\n  });\n   findUser().then(function (user) {\n    throw new Error('Found user, but still unhappy');\n  }, function (reason) {\n    throw new Error('`findUser` rejected and we're unhappy');\n  }).then(function (value) {\n    // never reached\n  }, function (reason) {\n    // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n    // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n  });\n  ```\n  If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n   ```js\n  findUser().then(function (user) {\n    throw new PedagogicalException('Upstream error');\n  }).then(function (value) {\n    // never reached\n  }).then(function (value) {\n    // never reached\n  }, function (reason) {\n    // The `PedgagocialException` is propagated all the way down to here\n  });\n  ```\n   Assimilation\n  ------------\n   Sometimes the value you want to propagate to a downstream promise can only be\n  retrieved asynchronously. This can be achieved by returning a promise in the\n  fulfillment or rejection handler. The downstream promise will then be pending\n  until the returned promise is settled. This is called *assimilation*.\n   ```js\n  findUser().then(function (user) {\n    return findCommentsByAuthor(user);\n  }).then(function (comments) {\n    // The user's comments are now available\n  });\n  ```\n   If the assimliated promise rejects, then the downstream promise will also reject.\n   ```js\n  findUser().then(function (user) {\n    return findCommentsByAuthor(user);\n  }).then(function (comments) {\n    // If `findCommentsByAuthor` fulfills, we'll have the value here\n  }, function (reason) {\n    // If `findCommentsByAuthor` rejects, we'll have the reason here\n  });\n  ```\n   Simple Example\n  --------------\n   Synchronous Example\n   ```javascript\n  let result;\n   try {\n    result = findResult();\n    // success\n  } catch(reason) {\n    // failure\n  }\n  ```\n   Errback Example\n   ```js\n  findResult(function(result, err){\n    if (err) {\n      // failure\n    } else {\n      // success\n    }\n  });\n  ```\n   Promise Example;\n   ```javascript\n  findResult().then(function(result){\n    // success\n  }, function(reason){\n    // failure\n  });\n  ```\n   Advanced Example\n  --------------\n   Synchronous Example\n   ```javascript\n  let author, books;\n   try {\n    author = findAuthor();\n    books  = findBooksByAuthor(author);\n    // success\n  } catch(reason) {\n    // failure\n  }\n  ```\n   Errback Example\n   ```js\n   function foundBooks(books) {\n   }\n   function failure(reason) {\n   }\n   findAuthor(function(author, err){\n    if (err) {\n      failure(err);\n      // failure\n    } else {\n      try {\n        findBoooksByAuthor(author, function(books, err) {\n          if (err) {\n            failure(err);\n          } else {\n            try {\n              foundBooks(books);\n            } catch(reason) {\n              failure(reason);\n            }\n          }\n        });\n      } catch(error) {\n        failure(err);\n      }\n      // success\n    }\n  });\n  ```\n   Promise Example;\n   ```javascript\n  findAuthor().\n    then(findBooksByAuthor).\n    then(function(books){\n      // found books\n  }).catch(function(reason){\n    // something went wrong\n  });\n  ```\n   @method then\n  @param {Function} onFulfilled\n  @param {Function} onRejected\n  Useful for tooling.\n  @return {Promise}\n  */\n\n  /**\n  `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n  as the catch block of a try/catch statement.\n  ```js\n  function findAuthor(){\n  throw new Error('couldn't find that author');\n  }\n  // synchronous\n  try {\n  findAuthor();\n  } catch(reason) {\n  // something went wrong\n  }\n  // async with promises\n  findAuthor().catch(function(reason){\n  // something went wrong\n  });\n  ```\n  @method catch\n  @param {Function} onRejection\n  Useful for tooling.\n  @return {Promise}\n  */\n\n\n  Promise.prototype.catch = function _catch(onRejection) {\n    return this.then(null, onRejection);\n  };\n\n  /**\n    `finally` will be invoked regardless of the promise's fate just as native\n    try/catch/finally behaves\n  \n    Synchronous example:\n  \n    ```js\n    findAuthor() {\n      if (Math.random() > 0.5) {\n        throw new Error();\n      }\n      return new Author();\n    }\n  \n    try {\n      return findAuthor(); // succeed or fail\n    } catch(error) {\n      return findOtherAuther();\n    } finally {\n      // always runs\n      // doesn't affect the return value\n    }\n    ```\n  \n    Asynchronous example:\n  \n    ```js\n    findAuthor().catch(function(reason){\n      return findOtherAuther();\n    }).finally(function(){\n      // author was either found, or not\n    });\n    ```\n  \n    @method finally\n    @param {Function} callback\n    @return {Promise}\n  */\n\n\n  Promise.prototype.finally = function _finally(callback) {\n    var promise = this;\n    var constructor = promise.constructor;\n\n    if (isFunction(callback)) {\n      return promise.then(function (value) {\n        return constructor.resolve(callback()).then(function () {\n          return value;\n        });\n      }, function (reason) {\n        return constructor.resolve(callback()).then(function () {\n          throw reason;\n        });\n      });\n    }\n\n    return promise.then(callback, callback);\n  };\n\n  return Promise;\n}();\n\nPromise$1.prototype.then = then;\nPromise$1.all = all;\nPromise$1.race = race;\nPromise$1.resolve = resolve$1;\nPromise$1.reject = reject$1;\nPromise$1._setScheduler = setScheduler;\nPromise$1._setAsap = setAsap;\nPromise$1._asap = asap;\n\n/*global self*/\nfunction polyfill() {\n  var local = void 0;\n\n  if (typeof global !== 'undefined') {\n    local = global;\n  } else if (typeof self !== 'undefined') {\n    local = self;\n  } else {\n    try {\n      local = Function('return this')();\n    } catch (e) {\n      throw new Error('polyfill failed because global object is unavailable in this environment');\n    }\n  }\n\n  var P = local.Promise;\n\n  if (P) {\n    var promiseToString = null;\n    try {\n      promiseToString = Object.prototype.toString.call(P.resolve());\n    } catch (e) {\n      // silently ignored\n    }\n\n    if (promiseToString === '[object Promise]' && !P.cast) {\n      return;\n    }\n  }\n\n  local.Promise = Promise$1;\n}\n\n// Strange compat..\nPromise$1.polyfill = polyfill;\nPromise$1.Promise = Promise$1;\n\nreturn Promise$1;\n\n})));\n\n\n\n//# sourceMappingURL=es6-promise.map\n","// This file can be required in Browserify and Node.js for automatic polyfill\n// To use it:  require('es6-promise/auto');\n'use strict';\nmodule.exports = require('./').polyfill();\n","(function (factory) { (0, eval)('this').ambient = factory(); }(function () {\r\n\tconst config = {};\r\n\tconst props = {};\r\n\tconst registeredEvents = {};\r\n\tconst _win = (0, eval)('this');\r\n\tconst _doc = _win.document;\r\n\tconst _body = _doc.body;\r\n\tconst rAF = (\r\n\t\t_win.requestAnimationFrame ||\r\n\t\t_win.webkitRequestAnimationFrame ||\r\n\t\t_win.mozRequestAnimationFrame ||\r\n\t\tfunction( callback ){\r\n\t\t\t_win.setTimeout(callback, 1000 / 60);\r\n\t\t}\r\n\t);\r\n\tlet timeout = null;\r\n\tlet toDelay = 0;\r\n\tlet allClasses = [];\r\n\tlet activeClasses = [];\r\n\tlet currentClasses = [];\r\n\tlet activeEvents = {};\r\n\tlet handlers = {};\r\n\tlet events = {};\r\n\r\n\tconst rafDoUpdate = () => rAF(doUpdate);\r\n\t// executed on every resize event (debounced to 100ms)\r\n\tfunction doUpdate (force) {\r\n\t\tconst propVals = {};\r\n\t\t\r\n\t\tactiveClasses = [];\r\n\t\tfor (let cls in config) {\r\n\t\t\t// skip if in prototype\r\n\t\t\tif (!config.hasOwnProperty(cls)) { continue; }\r\n\r\n\t\t\tlet classes = [];\r\n\t\t\tconfig[cls].__updated__ = false;\r\n\t\t\tlet changePossible = false;\r\n\r\n\t\t\t// if we have activeEvents, we should check\r\n\t\t\t// if any of them apply to this class\r\n\t\t\tif (Object.keys(activeEvents).length) {\r\n\t\t\t\t// check each of our activeEvents\r\n\t\t\t\tfor (let e in activeEvents) {\r\n\t\t\t\t\t// if it's on prototype, bail out\r\n\t\t\t\t\tif (!activeEvents.hasOwnProperty(e)) { continue; }\r\n\t\t\t\t\t// check the class config's registered events\r\n\t\t\t\t\tchangePossible = !!config[cls].__events__[e];\r\n\t\t\t\t\t// if we find that one of our active events could\r\n\t\t\t\t\t// affect this class, there's no reason to check the rest\r\n\t\t\t\t\tif(changePossible) { break; }\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t// no active events, that means we're initing\r\n\t\t\t\tchangePossible = true;\r\n\t\t\t}\r\n\r\n\t\t\t// spin over each plugin used by this class\r\n\t\t\tfor (let propName in config[cls]) {\r\n\t\t\t\tlet propClasses;\r\n\t\t\t\tif (propName.indexOf('__') === 0) { continue; }\r\n\t\t\t\t// skip if in prototype\r\n\t\t\t\tif (!config[cls].hasOwnProperty(propName)) { continue; }\r\n\t\t\t\t\r\n\t\t\t\t// skip if we don't have a prop to handle this property\r\n\t\t\t\tconst prop = props[propName];\r\n\t\t\t\tif (props[propName] == null) { continue; }\r\n\t\t\t\t\r\n\t\t\t\t// ensure that the cache structure is constructed for this prop\r\n\t\t\t\tprop.cache = prop.cache || {};\r\n\t\t\t\tprop.cache[cls] = prop.cache[cls] || {};\r\n\r\n\t\t\t\tif (changePossible) {\r\n\t\t\t\t\t// have we not seen this prop yet?\r\n\t\t\t\t\tif (!propVals.hasOwnProperty(propName)) {\r\n\t\t\t\t\t\t// better go get its current value\r\n\t\t\t\t\t\tpropVals[propName] = prop.getCurrentValue();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// has it changed since last time?\r\n\t\t\t\t\t\tif (propVals[propName] !== prop.currentValue) {\r\n\t\t\t\t\t\t\t// update the cache\r\n\t\t\t\t\t\t\tprop.currentValue = propVals[propName];\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// this prop has changed, we'll need to go get\r\n\t\t\t\t\t\t\t// __updated__ active classes for anything that uses it\r\n\t\t\t\t\t\t\tprop.__updated__ = true;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// no change, we can pull values from cache\r\n\t\t\t\t\t\t\tprop.__updated__ = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// if this prop has __updated__, then so will the classes\r\n\t\t\t\t\tconfig[cls].__updated__ = config[cls].__updated__ || prop.__updated__;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// has this value changed?\r\n\t\t\t\tif (prop.__updated__ && changePossible || !prop.cache[cls].activeClasses) {\r\n\t\t\t\t\t// calculate active classes\r\n\t\t\t\t\tpropClasses = prop.getActiveClasses(prop.currentValue, cls, config[cls][propName]);\r\n\r\n\t\t\t\t\t// update cached classes value\r\n\t\t\t\t\tprop.cache[cls].activeClasses = propClasses;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// cached value is the same as new\r\n\t\t\t\t\t// use the cached values\r\n\t\t\t\t\tpropClasses = prop.cache[cls].activeClasses;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// if this property is invalid, the whole class is\r\n\t\t\t\t// not active, kill classes and go to the next class\r\n\t\t\t\tif (!propClasses.length) {\r\n\t\t\t\t\tclasses = [];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// add the active classes to the list\r\n\t\t\t\t\tclasses = classes.concat(propClasses);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tactiveClasses = activeClasses.concat(classes);\r\n\t\t}\r\n\r\n\t\t// reset active events\r\n\t\tactiveEvents = {};\r\n\r\n\t\t// de-duplicate classes\r\n\t\tactiveClasses = activeClasses.filter(function (val, idx, arr) {\r\n\t\t\treturn arr.indexOf(val) === idx;\r\n\t\t});\r\n\r\n\t\t// push the changes to the page\r\n\t\tupdateBodyClasses();\r\n\r\n\t\t// clear the timeout value so it can be set again\r\n\t\ttimeout = null;\r\n\t}\r\n\r\n\tfunction updateBodyClasses() {\r\n\t\tlet bodyClasses = _body.className;\r\n\r\n\t\t// update currentClasses with active body classes\r\n\t\t// filter out anything we're not in charge of\r\n\t\tcurrentClasses = bodyClasses.split(' ').filter(val => allClasses.includes(val));\r\n\r\n\t\t// search for classes that are not currently active,\r\n\t\t// but should be, and add them\r\n\t\tfor (let i = activeClasses.length; i-- ;) {\r\n\t\t\tconst cls = activeClasses[i];\r\n\t\t\t// check if the point is not longer active and the class is on body\r\n\t\t\tif (!currentClasses.includes(cls)) {\r\n\t\t\t\t// add the class to body\r\n\t\t\t\tbodyClasses += ' ' + cls;\r\n\t\t\t\t// fire any handlers attached to this event\r\n\t\t\t\tif (config[cls]) {\r\n\t\t\t\t\tfire('enter', cls, getPropValues(cls));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (config[cls]) {\r\n\t\t\t\tfire('update', cls, getPropValues(cls));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// search for classes that are active,\r\n\t\t// but shouldn't be, and remove them\r\n\t\tfor (let i = currentClasses.length; i-- ;) {\r\n\t\t\tconst cls = currentClasses[i];\r\n\t\t\t// check if the point is not longer active and the class is on body\r\n\t\t\tif (!activeClasses.includes(cls)) {\r\n\t\t\t\t// remove the class from body\r\n\t\t\t\tbodyClasses = bodyClasses.replace(new RegExp('(^|\\\\s)' + cls + '($|\\\\s)', 'g'), ' ');\r\n\t\t\t\t// fire any handlers attached to this event\r\n\t\t\t\tif (config[cls]) {\r\n\t\t\t\t\tfire('leave', cls, getPropValues(cls));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// push the new classes to body... and filter out extra spaces\r\n\t\t_body.className = bodyClasses.split(' ').filter(v => !!v).join(' ');\r\n\t}\r\n\r\n\t// grabs all the property values that apply to a given class\r\n\tfunction getPropValues (cls) {\r\n\t\tconst values = {};\r\n\t\tfor (let p in config[cls]) {\r\n\t\t\tif (!config[cls].hasOwnProperty(p) || !props[p]) { continue; }\r\n\t\t\tvalues[p] = getPropValue(p);\r\n\t\t}\r\n\t\treturn values;\r\n\t}\r\n\r\n\t// resize debouncing, will execute resize code no more\r\n\t// than once every 100ms\r\n\tfunction debounceUpdate(eventName) {\r\n\t\treturn function (e) {\r\n\t\t\t// queue this event in the bus\r\n\t\t\tactiveEvents[eventName] = e;\r\n\r\n\t\t\tif (!timeout) {\r\n\t\t\t\tif (!toDelay) {\r\n\t\t\t\t\t// no delay, schdedule a rAF for updating\r\n\t\t\t\t\trafDoUpdate();\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// delay execution and then schedule an\r\n\t\t\t\t\t// update during an animationFrame\r\n\t\t\t\t\ttimeout = setTimeout(rafDoUpdate, toDelay);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\t// initializes confg and attaches to events\r\n\t// ---------------------------------- //\r\n\tfunction init(configure, delay) {\r\n\t\tObject.assign(config, configure);\r\n\r\n\t\t// spin over each class (cls) and check out the\r\n\t\t// condition properties for each\r\n\t\tfor (let cls in configure) {\r\n\t\t\t// skip if in prototype\r\n\t\t\tif (!config.hasOwnProperty(cls)) { continue; }\r\n\r\n\t\t\tconfig[cls].__events__ = {};\r\n\r\n\t\t\tfor (let propName in config[cls]) {\r\n\t\t\t\t// skip if in prototype\r\n\t\t\t\tif (!config[cls].hasOwnProperty(propName)) { continue; }\r\n\r\n\t\t\t\t// skip if we don't have a prop to handle this property\r\n\t\t\t\tif (!props[propName]) { continue; }\r\n\r\n\t\t\t\tconst prop = props[propName];\r\n\r\n\t\t\t\t// setup any handlers that the plugin defines\r\n\t\t\t\tif (prop.on) {\r\n\t\t\t\t\tfor (let onAction in prop.on) {\r\n\t\t\t\t\t\tif (!prop.on.hasOwnProperty(onAction)) { continue; }\r\n\t\t\t\t\t\ton(onAction, cls, prop.on[onAction]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// setup the object for storing cached values\r\n\t\t\t\tprop.cache = prop.cache || {};\r\n\t\t\t\tprop.cache[cls] = prop.cache[cls] || {};\r\n\r\n\t\t\t\t// default to window\r\n\t\t\t\tprop.watchElement = prop.watchElement || _win;\r\n\r\n\t\t\t\t// convert the watch events to an array\r\n\t\t\t\tif (typeof prop.watchEvent === 'string') { prop.watchEvent = prop.watchEvent.split(' '); }\r\n\r\n\t\t\t\tconst classes = prop.getAllClasses ? prop.getAllClasses(cls, config[cls][propName]) : [cls];\r\n\t\t\t\tallClasses = allClasses.concat(classes);\r\n\r\n\t\t\t\tlet wE = prop.watchEvent.length;\r\n\t\t\t\tfor (; wE-- ;) {\r\n\t\t\t\t\tconst watchEvent = prop.watchEvent[wE];\r\n\r\n\t\t\t\t\t// attach the watched events to the class config so we can\r\n\t\t\t\t\t// track what events could affect this class\r\n\t\t\t\t\tconfig[cls].__events__[watchEvent] = true;\r\n\r\n\t\t\t\t\tif (!events[watchEvent]) { events[watchEvent] = []; }\r\n\t\t\t\t\tevents[watchEvent].push(propName);\r\n\r\n\t\t\t\t\t// initialize the watchEvent once only\r\n\t\t\t\t\tif (!registeredEvents[watchEvent] || registeredEvents[watchEvent].indexOf(prop.watchElement) === -1) {\r\n\r\n\t\t\t\t\t\t// setup the resize handlers\r\n\t\t\t\t\t\tif (prop.watchElement.addEventListener) {\r\n\t\t\t\t\t\t\tprop.watchElement.addEventListener(watchEvent, debounceUpdate(watchEvent), false);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tprop.watchElement.attachEvent('on' + watchEvent, debounceUpdate(watchEvent));\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Add this event to the list of hooks so it doesn't\r\n\t\t\t\t\t\t// get added again by another property\r\n\t\t\t\t\t\tregisteredEvents[watchEvent] = registeredEvents[watchEvent] || [];\r\n\t\t\t\t\t\tregisteredEvents[watchEvent].push(prop.watchElement);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (typeof delay === 'number') { toDelay = delay; }\r\n\r\n\t\t// do the initial resize logic to kick things off\r\n\t\tdoUpdate();\r\n\t}\r\n\r\n\t// ================================== //\r\n\t// Event Bus API methods\r\n\t// ================================== //\r\n\r\n\tfunction on(action, cls, handler) {\r\n\t\tconst actionArr = action.split(' ');\r\n\t\thandlers[cls] = handlers[cls] || {};\r\n\r\n\t\tfor (let i = actionArr.length; i-- ;) {\r\n\t\t\tconst a = actionArr[i];\r\n\t\t\thandlers[cls][a] = handlers[cls][a] || [];\r\n\t\t\thandlers[cls][a].push(handler);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction off(action, cls, handler) {\r\n\t\tconst actionArr = action.split(' ');\r\n\t\tfor (let j = actionArr.length; j-- ;) {\r\n\t\t\tconst a = actionArr[j];\r\n\t\t\tif (handlers[cls] && handlers[cls][a] && handlers[cls][a].length) {\r\n\t\t\t\tfor (let i = handlers[cls][a].length; i-- ;) {\r\n\t\t\t\t\tif (handlers[cls][a][i] === handler) {\r\n\t\t\t\t\t\thandlers[cls][a].splice(i, 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction fire(action, cls, values) {\r\n\t\tif (config[cls] == null || !config[cls].__updated__) { return; }\r\n\r\n\t\tif (handlers[cls] && handlers[cls][action] && handlers[cls][action].length) {\r\n\t\t\tconst len = handlers[cls][action].length\r\n\t\t\tfor (let i = 0; i < len; i++) {\r\n\t\t\t\thandlers[cls][action][i](action, cls, values, config[cls]);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// ================================== //\r\n\t// Javascript API Helpers\r\n\t// ================================== //\r\n\r\n\tfunction getPropValue(propName) {\r\n\t\t// get the latest value from cache if available\r\n\t\treturn props[propName].currentValue || props[propName].getCurrentValue();\r\n\t}\r\n\r\n\tfunction styleIsActive(cls) {\r\n\t\treturn activeClasses.indexOf(cls) !== -1;\r\n\t}\r\n\r\n\treturn {\r\n\t\tinit: init,\r\n\t\ton: on,\r\n\t\toff: off,\r\n\t\tprop: props, // for backward compatibility\r\n\t\tregisterPlugin: (name, plugin) => { props[name] = plugin; },\r\n\t\tgetPluginValue: getPropValue,\r\n\t\tisActive: styleIsActive\r\n\t};\r\n}));\r\n","(function (plugin) {\r\n// ================= Plugin Name ================= //\r\n//                                                 //\r\n    var name = 'height';\r\n//                                                 //\r\n// =============================================== //\r\n    window.ambient.registerPlugin(name, plugin);\r\n})({\r\n// ================= Plugin Code ================= //\r\n//                                                 //\r\n    getCurrentValue: function () {\r\n        var w = window,\r\n            d = document,\r\n            b = d.body;\r\n\r\n        return w.innerHeight || b.clientHeight;\r\n    },\r\n    getActiveClasses: function (winHeight, className, props) {\r\n        var aboveMin, belowMax,\r\n            min = props.min || 0,\r\n            max = props.max || Infinity;\r\n\r\n        aboveMin = winHeight >= min;\r\n        belowMax = winHeight < max;\r\n\r\n        if (aboveMin && belowMax) {\r\n            return [className];\r\n        } else {\r\n            return [];\r\n        }\r\n    },\r\n    watchEvent: 'resize'\r\n//                                                 //\r\n// =============================================== //\r\n});\r\n","(function (plugin) {\r\n// ================= Plugin Name ================= //\r\n//                                                 //\r\n    var name = 'width';\r\n//                                                 //\r\n// =============================================== //\r\n    window.ambient.registerPlugin(name, plugin);\r\n})({\r\n// ================= Plugin Code ================= //\r\n//                                                 //\r\n    getCurrentValue: function () {\r\n        var w = window,\r\n            d = document,\r\n            b = d.body;\r\n\r\n        return w.innerWidth || b.clientWidth;\r\n    },\r\n\r\n    getAllClasses: function (className, props) {\r\n        var i, classes = [], max;\r\n\r\n        props.min = props.min || 0;\r\n        props.max = props.max || Infinity;\r\n        props.bend = props.bend || 0;\r\n\r\n        classes = classes.concat([\r\n            className,\r\n            className + '-gte',\r\n            className + '-lte'\r\n        ]);\r\n\r\n        if (props.bend) {\r\n            max = (props.max === Infinity) ? 8192 : props.max;\r\n            i = ~~((max-props.min) / props.bend);\r\n\r\n            for (; i-- ;) {\r\n                classes.push(className + '-' + (i+1));\r\n            }\r\n        }\r\n        return classes;\r\n    },\r\n    getActiveClasses: function (winSize, className, props) {\r\n        var i, aboveMin, belowMax,\r\n            classes = [];\r\n\r\n        aboveMin = winSize >= props.min;\r\n        belowMax = winSize < props.max;\r\n\r\n        if (aboveMin && belowMax) {\r\n            classes.push(className);\r\n\r\n            if (props.bend) {\r\n                i = ~~((winSize-props.min) / props.bend);\r\n\r\n                for (; i-- ;) {\r\n                    classes.push(className + '-' + (i+1));\r\n                }\r\n            }\r\n        }\r\n\r\n        if (aboveMin) { classes.push(className + '-gte'); }\r\n        if (belowMax) { classes.push(className + '-lte'); }\r\n\r\n        return classes;\r\n    },\r\n    watchEvent: 'resize'\r\n//                                                 //\r\n// =============================================== //\r\n});\r\n","ambient.init({\r\n\t'sk-auto-collapse-nav': {width: { max: 1260 }},\r\n\t'sk-adjust-menu-columns': {height: {}},\r\n\t'sk-screen-small': {width: { max: 1100 }},\r\n\t'sk-screen-medium': {width: { min: 1100, max: 1260 }},\r\n\t'sk-screen-large': {width: { min: 1260 }},\r\n}, 0);\r\n","export const activityIndicator = (ctx, attrs, i18n) => `<a href=\"${ctx.url}\"><span sk-tooltip content=\"${i18n('System Activity')}\"></span> <span class=\"sk--dots\"><span class=\"sk--dot\"></span> <span class=\"sk--dot\"></span> <span class=\"sk--dot\"></span></span></a>`;\nexport const announcements = (ctx, attrs, i18n) => `<div class=\"sk-announcements-container sk-hidden\"><div class=\"sk-announcements-warning\"><span class=\"fa-warning\"></span></div><div class=\"sk-announcements-message\"><div class=\"sk-announcements-title\"></div><div class=\"sk-announcements-content\"></div><a class=\"sk-announcements-anchor sk-hidden\" href=\"\" target=\"_blank\">Learn more</a></div><div class=\"sk-announcements-close\"><button class=\"close\" aria-label=\"close announcement\"><span class=\"fa-times\"></span></button></div></div>`;\nexport const appSwitcher = (ctx, attrs, i18n) => `<div sk-skip-nav context-store=\"sk-config\"></div><button id=\"sk--app-switcher-title\" class=\"app-title\" tabindex=\"0\" aria-controls=\"sk--app-switcher-menu\" aria-pressed=\"false\"><div class=\"sk--content\"></div><span sk-tooltip content=\"${i18n('Switch Apps')}\"></span></button><div id=\"sk--app-switcher-menu\" class=\"sk--menu\" role=\"menu\" aria-hidden=\"true\" aria-describedby=\"sk--app-switcher-instruction\"><h3 id=\"sk--app-switcher-instruction\" class=\"sk-instruction\">${i18n('Your Solutions')}</h3><ul class=\"sk--menulist\"></ul></div>`;\nexport const contactOrg = (ctx, attrs, i18n) => ``;\nexport const header = (ctx, attrs, i18n) => `<div class=\"sk--header-content\" role=\"menubar\"><div sk-announcements context-store=\"idm-data\"></div><div sk-impersonated-user context-store=\"user-data\"></div><div sk-app-switcher context-store=\"app-switcher-data\" role=\"menuitem\" aria-haspopup=\"true\"></div><div sk-org-switcher context-store=\"org-switcher-data\" role=\"menuitem\" aria-haspopup=\"true\"></div><div class=\"sk--impersonation-border-lr\"></div><div class=\"sk--impersonation-border-b\"></div><div class=\"sk--content-right\"><div sk-activity-indicator context-store=\"activity-indicator\"></div><div sk-search context-store=\"search\"></div><div sk-help context-store=\"help\" role=\"menuitem\" aria-haspopup=\"true\"></div><div sk-user-info context-store=\"user-data\" role=\"menuitem\" aria-haspopup=\"true\"></div><div sk-notifications context-store=\"notifications\"></div><button class=\"sk--impersonation-exit fa-li-close\"></button></div></div>`;\nexport const help = (ctx, attrs, i18n) => `<button id=\"sk--help-menu-title\" class=\"control fa-li-question-circle-before\" aria-controls=\"sk--help-menu\" aria-pressed=\"false\" aria-label=\"${i18n('Help Resources')}\"><span sk-tooltip content=\"${i18n('Help Resources')}\"></span></button><div id=\"sk--help-menu\" class=\"menu\" role=\"menu\" aria-hidden=\"true\"><h3 id=\"sk--help-menu-instruction\" class=\"sk-instruction\">${i18n('Help Resources')}</h3><div class=\"help-org-contact\" sk-contact-org context-store=\"current-org\"></div><ul class=\"articles menulist\"></ul><ul class=\"blocks menulist\"></ul></div>`;\nexport const impersonatedUser = (ctx, attrs, i18n) => `<div sk-skip-nav context-store=\"sk-config\"></div><div class=\"sk--viewing-as\">${i18n('viewing as')}</div><div class=\"sk--user-name\">${ctx.firstName} ${ctx.lastName}</div>`;\nexport const loader = (ctx, attrs, i18n) => `<div class=\"sk-loading-container\">${!!attrs.statusText ? `<div class=\"sk-status\">${attrs.statusText}</div>` : ''}<div class=\"sk-logo-spinner\"><span class=\"sk-bar sk-bar-1\"></span> <span class=\"sk-bar sk-bar-2\"></span> <span class=\"sk-bar sk-bar-3\"></span> <span class=\"sk-bar sk-bar-4\"></span> <span class=\"sk-bar sk-bar-5\"></span> <span class=\"sk-bar sk-bar-6\"></span></div></div>${!!attrs.fill ? `<div class=\"sk-cover\"></div>` : ''}`;\nexport const nav = (ctx, attrs, i18n) => `<div class=\"sk--content-dimmer\"></div><div class=\"sk--back-drop\"><span class=\"sk--fl-pattern\"></span></div><div class=\"sk--org-branding\"><div class=\"sk--org-brand-small\"></div><div class=\"sk--org-brand-large\"></div></div><div class=\"sk--nav-title\">${ i18n('Navigation') }</div><i class=\"sk--nav-arrow\" tabindex=\"0\" aria-describedby=\"sk--nav-arrow-tooltip\"><span sk-tooltip class=\"sk--nav-arrow-tooltip\" id=\"sk--nav-arrow-tooltip\" content=\"${ i18n('Toggle Navigation') }\" position=\"right\"></span></i><div class=\"sk--top-section\"><ul class=\"sk--menu-items\" role=\"menu\"></ul></div><div class=\"sk--bottom-section\"><div class=\"sk--frontline-branding\"><div class=\"sk--logo-container sk--full-logo\"><a class=\"fa fa-logo-frontline sk--frontline-logo\" target=\"_blank\" href=\"http://frontlineeducation.com\"></a> <span class=\"sk--copyright-info\">&copy; ${(new Date()).getFullYear()} | ${ i18n('All rights reserved') }</span></div><div class=\"sk--logo-container sk--small-logo\"><a class=\"fa fa-logo-frontline-small sk--frontline-logo\" target=\"_blank\" href=\"http://frontlineeducation.com\" tabindex=\"-1\"></a> <span class=\"sk--copyright-info\">&copy; ${(new Date()).getFullYear()}</span></div></div></div>`;\nexport const navItem = (ctx, attrs, i18n) => `<a class=\"sk--main-menu-item-container\" href=\"${ctx.url || '#'}\" target=\"${ctx.url && ctx.target ? ctx.target : '_self'}\" role=\"menuitem\"><i class=\"sk--nav-icon fa ${ctx.icon}\"></i> <span class=\"sk--badge\"></span> <span class=\"sk--main-menu-title\">${ctx.title}</span> <span sk-tooltip content=\"${ctx.title}\" position=\"right\"></span> ${ctx.children && ctx.children.length ? `<i class=\"sk--more-items fa fa-angle-right\"></i>` : ''}<div class=\"sk--hover-elem\"></div></a>`;\nexport const navItemMegaMenu = (ctx, attrs, i18n) => `<div class=\"mega\"></div>`;\nexport const navItemSubmenu = (ctx, attrs, i18n) => `<div class=\"no-mega\"><ul class=\"menu-group\" role=\"menu\"></ul></div>`;\nexport const notifications = (ctx, attrs, i18n) => `${ctx.url == null ? `<button class=\"control\" aria-label=\"${i18n('notifications')}\"><span class=\"fa-li-bell-before\"></span> <span class=\"sk--unread\"></span> <span sk-tooltip content=\"${i18n('Notifications')}\" arrow-shift=\"1px\"></span></button>` : `<a href=\"${ctx.url}\" class=\"control\" aria-label=\"${i18n('notifications')}\"> <span class=\"fa-li-bell-before\"></span> <span class=\"sk--unread\"></span> <span sk-tooltip content=\"${i18n('Notifications')}\" arrow-shift=\"1px\"></span> </a>` }<div class=\"menu\"><h3 class=\"sk-instruction\">${i18n('Recent Notifications')} <button type=\"button\" tabindex=\"-1\" class=\"ss-ctrl-clear fa-li-arrow-right2\" aria-label=\"${i18n('close panel')}\"></button></h3><ul class=\"menulist\"></ul></div>`;\nexport const orgSwitcher = (ctx, attrs, i18n) => `<button id=\"sk--org-switcher-title\" class=\"control\" aria-controls=\"sk--org-switcher-menu\" aria-pressed=\"false\"><div class=\"content\"></div><span sk-tooltip content=\"${i18n('Switch Organizations')}\"></span></button><div id=\"sk--org-switcher-menu\" class=\"menu\" role=\"menu\" aria-hidden=\"true\" aria-describedby=\"sk--org-switcher-instruction\"><h3 id=\"sk--org-switcher-instruction\" class=\"sk-instruction\">${i18n('Select an Organization')}</h3><div class=\"search\"><div class=\"sk-input\"><span class=\"sk--input-container fa-li-search-before\"><input type=\"text\" class=\"search-org\" placeholder=\"${i18n('Search')}\" autocomplete=\"off\"> </span><button type=\"button\" tabindex=\"-1\" class=\"ss-ctrl-clear fa-li-close\" aria-label=\"${i18n('clear input')}\"></button></div></div><div class=\"menu-scroll\"><ul class=\"menulist\"></ul></div></div>`;\nexport const pickApp = (ctx, attrs, i18n) => `<h2 class=\"sk--filtered-org-name\"></h2><h1>${i18n('Select an Application')}</h1><ul class=\"sk--org-app-list\"></ul>`;\nexport const pickOrg = (ctx, attrs, i18n) => `<h2 class=\"sk--filtered-app-name sk-hidden\"></h2><h1>${i18n('Select an Organization')}</h1><div class=\"sk-input sk-hidden\"><span class=\"sk--input-container fa-li-search-before\"><input class=\"search\" type=\"text\" value=\"\" placeholder=\"${i18n('Search Organizations')}\"> </span><button type=\"button\" tabindex=\"-1\" class=\"ss-ctrl-clear fa-li-close sk-hidden\" aria-label=\"${i18n('clear input')}\"></button></div><ul class=\"sk--org-app-list\"></ul>`;\nexport const pickOrgApp = (ctx, attrs, i18n) => `<div class=\"sk--picker-user-info\"><div sk-user-info context-store=\"user-data\"></div></div><div class=\"sk--panel-left\"><i class=\"fa-logo-frontline\"></i><div sk-pick-org context-store=\"pick-org-app-data\"></div><div sk-pick-app context-store=\"pick-org-app-data\"></div></div>`;\nexport const search = (ctx, attrs, i18n) => `<div class=\"sk-input\"><span class=\"sk--input-container fa-li-search-before\"><input class=\"search\" type=\"text\" value=\"\"> </span><button type=\"button\" class=\"ss-ctrl-clear fa-li-close\" aria-label=\"${i18n('clear input')}\"></button></div><div class=\"sk--menu\"><h3 id=\"sk-search-results-title\" class=\"sk-instruction\">${i18n('Search Results')}</h3><div class=\"sk--loader\" role=\"presentation\"><div sk-loader fill></div></div><div class=\"sk--search-content\"></div></div>`;\nexport const sessionTimeout = (ctx, attrs, i18n) => `<div class=\"sk--timer-mode\"><div class=\"sk--content-dimmer\"></div><div class=\"sk--session-timeout-modal modal\"><div class=\"title\">${i18n('You will be signed out soon.')}</div><div class=\"sk--timer\"></div><div class=\"content\">${i18n('Due to inactivity, your session will end and you will be signed out. Do you want to stay signed in?')}</div><div class=\"modal-button\"><a class=\"sk-button sk-button-std sk--logout\" href=\"#\">${i18n('No, Sign Me Out')}</a> <a class=\"sk-button sk-button-pri sk--extend\" href=\"#\">${i18n('Yes, Stay Signed In')}</a></div></div></div><div class=\"sk--signed-out\"><div class=\"sk--content\"><div class=\"sk--logo\"></div><h2>${i18n('You have been signed out.')}</h2><p>${i18n('For your security and protection of your data, you have been signed out due to inactivity.')}</p><div><a href=\"#\" class=\"sk--sign-in-link\">${i18n('Sign In Again to Continue')}</a></div></div></div>`;\nexport const siteErrors = (ctx, attrs, i18n) => `<div class=\"sk--content\"><div class=\"sk--logo\"></div><h2>Something went wrong.</h2><p>We donâ€™t know what happened but something went wrong. Please wait a few minutes then try to sign in again.</p><div><a href=\"#\" class=\"sk--sign-in-link\">Sign In Again to Continue</a></div></div>`;\nexport const skipNav = (ctx, attrs, i18n) => `<a class=\"sk--skip-nav-link\" href=\"#${ctx.mainId ? ctx.mainId : ''}\">${i18n('Skip to Main Content')}</a>`;\nexport const tooltip = (ctx, attrs, i18n) => `<span class=\"sk-tip-chevron\"></span> <span class=\"sk-tip-content\">${attrs.content}</span>`;\nexport const unsupportedBrowserAlert = (ctx, attrs, i18n) => `<div class=\"sk--unsupported-browser-message\"><a href=\"https://help.frontlineeducation.com/hc/en-us/articles/360001607068\" target=\"_blank\" class=\"sk--message\">Your web browser is not supported and may cause problems. <span>Learn More</span> </a><button><i>&#xe909;</i> <span>Dismiss</span></button></div>`;\nexport const userInfo = (ctx, attrs, i18n) => `<button id=\"sk--user-info-title\" class=\"sk--control\" aria-controls=\"sk--user-info-menu\" aria-pressed=\"false\" aria-label=\"${ctx.firstName} ${ctx.lastName}\"><span class=\"sk--user-name fa-angle-down-after\" title=\"${ctx.firstName} ${ctx.lastName}\">${ctx.firstName} ${ctx.lastName}</span> <span class=\"sk--current-role\"></span></button><div id=\"sk--user-info-menu\" class=\"sk--menu\" role=\"menu\" aria-hidden=\"true\" aria-describedby=\"sk--user-info-instruction\"><h3 id=\"sk--user-info-instruction\" class=\"sk-instruction sk--fl-account-header\">${i18n('Your Frontline Account')}</h3><div class=\"sk--filter\"><span class=\"fa-li-search-before\"><input class=\"sk--roles-filter\" type=\"text\" value=\"\" aria-label=\"Type to filter\" placeholder=\"Type to filter\"></span></div><ul class=\"sk--roles sk--menulist\"></ul><ul class=\"sk--blocks sk--menulist\"><li><a class=\"sk--settings fa-li-settings\" href=\"#\" role=\"menuitem\">${i18n('Account Settings')}</a></li><li><a class=\"sk--logout fa-li-power\" href=\"#\" role=\"menuitem\">${i18n('Sign Out')}</a></li></ul></div>`;","\r\nconst matcherMap = {};\r\n\r\nexport const pathMatchesRoute = function (path, route, matcher) {\r\n\tif (path == null) { return false; }\r\n\r\n\tconst {host, protocol} = window.location;\r\n\tconst fqdn = `${protocol}//${host}`;\r\n\tconst fqdnPath = `${fqdn}${path}`;\r\n\r\n\t// if a matcher value is provided, check it first\r\n\tif (typeof matcher === 'string' && matcher.length) {\r\n\t\t// if we've never seen this pattern before, cache it\r\n\t\tif (matcherMap[matcher] == null) {\r\n\t\t\tmatcherMap[matcher] = new RegExp(matcher, 'i');\r\n\t\t}\r\n\t\t// check the pattern agains the path AND FQDN locations\r\n\t\treturn matcherMap[matcher].test(path)\r\n\t\t\t|| matcherMap[matcher].test(fqdnPath);\r\n\t} else if (matcher instanceof Array) {\r\n\t\t// multiple matchers can be provided\r\n\t\t// cache the generated RegExp list for future execution\r\n\t\tif (matcher._re == null) {\r\n\t\t\tmatcher._re = matcher.map(rule => new RegExp(rule, 'i'));\r\n\t\t}\r\n\t\t// check the pattern agains the path AND FQDN locations\r\n\t\treturn matcher._re.reduce((state, re) => state\r\n\t\t\t|| re.test(path)\r\n\t\t\t|| re.test(fqdnPath)\r\n\t\t, false);\r\n\t} else if (typeof route === 'string') {\r\n\t\t// if the route is an absolute link to the current domain\r\n\t\t// convert to a relative link for path comparison\r\n\t\tif (route.startsWith(fqdn)) { route = route.slice(fqdn.length); }\r\n\t\treturn path.startsWith(route);\r\n\t}\r\n\r\n\t// all attempts to match this route have failed\r\n\treturn false;\r\n};\r\n","import * as store from './store';\r\n\r\nconst defaults = {\r\n\ttype: 'session',\r\n\texpires: 30 // in minutes\r\n};\r\nconst inverseType = {session: 'local', local: 'session'};\r\nconst sStore = window.sessionStorage;\r\nconst lStore = window.localStorage;\r\nconst ns = 'SK_';\r\n\r\nexport const set = function (key, data, config) {\r\n\tconst cfg = Object.assign({}, defaults, config, {data});\r\n\tif (typeof cfg.expires === 'number' && isFinite(cfg.expires)) {\r\n\t\tconst minToMs = 60 * 1000;\r\n\t\tcfg.expires = Date.now() + (cfg.expires * minToMs);\r\n\t} else {\r\n\t\tcfg.expires = null;\r\n\t}\r\n\twindow[`${cfg.type}Storage`].setItem(`${ns}${key}`, JSON.stringify(cfg));\r\n\twindow[`${inverseType[cfg.type]}Storage`].removeItem(`${ns}${key}`);\r\n};\r\n\r\nexport const get = function (key) {\r\n\tconst raw = sStore.getItem(`${ns}${key}`) || lStore.getItem(`${ns}${key}`) || null;\r\n\tif (raw == null) { return null; }\r\n\tconst json = JSON.parse(raw);\r\n\r\n\t// if the data has expired, return null\r\n\tif (json.expires != null && json.expires < Date.now()) { return null; }\r\n\treturn json.data;\r\n};\r\n\r\n// cleanup the expired persistence values when we first load\r\nstore.onValueOnce('sk-config', function (cfg) {\r\n\tconst {cleanCache} = cfg;\r\n\r\n\t// clean out anything that is expired\r\n\t[lStore, sStore].forEach(function (storage) {\r\n\t\t// spin all the items in local/session storage\r\n\t\tvar i = storage.length;\r\n\t\tfor (; i-- ;) {\r\n\t\t\t// get the key to inspect\r\n\t\t\tconst key = storage.key(i);\r\n\t\t\t// if it's not a SideKick value, don't mess with it\r\n\t\t\tif (!key.startsWith(ns)) { continue; }\r\n\t\t\t// can we get data for this key?\r\n\t\t\tconst data = get(key.slice(ns.length));\r\n\t\t\t// if the data is null or we are in a clearing cache state, remove it\r\n\t\t\tif (data == null || cleanCache) { storage.removeItem(key); }\r\n\t\t}\r\n\t});\r\n});\r\n","import * as dom from '../../util/easy-dom';\r\nimport * as store from '../../util/store';\r\n\r\n/**\r\n * Displays Organization information\r\n * @class Sidekick.ContactOrg\r\n * @memberOf Sidekick\r\n * @param {EasyDom} elem - Container {@link EasyDom} element\r\n * @param {Object} attrs\r\n * @param {Object} ctx\r\n * @param {Function} i18n - translation function\r\n * @listens current-org - Accepts an organization to update the information\r\n */\r\nexport default function(elem, attrs, ctx, i18n) {\r\n\tstore.onValue('current-org', fillContent);\r\n\r\n\tfunction fillContent(newCtx) {\r\n\t\tif (ctx !== newCtx) { ctx = newCtx; }\r\n\r\n\t\tlet phones = '';\r\n\r\n\t\tif (ctx.phone != null && ctx.phone.length) {\r\n\t\t\tphones = `${i18n('Phone')}: ${ctx.phone}`;\r\n\t\t}\r\n\r\n\t\tif (ctx.fax != null && ctx.fax.length) {\r\n\t\t\tif (phones.length) {\r\n\t\t\t\tphones += ', ';\r\n\t\t\t}\r\n\t\t\tphones += `${i18n('Fax')}: ${ctx.fax}`;\r\n\t\t}\r\n\r\n\t\telem.children(dom.parse(`<dl class=\"sk--org\">\r\n\t\t\t<dt><h4>${i18n('Contact Your Organization')}</h4></dt>\r\n\t\t\t<dd class=\"sk--name\">${ctx.name}</dd>\r\n\t\t\t${ctx.contactName != null && ctx.contactName.length ? `<dd class=\"sk--contact-name\">${ctx.contactName}</dd>` : ''}\r\n\t\t\t${phones.length ? `<dd class=\"sk--phones\">${phones}</dd>` : ''}\r\n\t\t\t${ctx.email != null ? `<dd class=\"sk--email\"><a href=\"mailto:${ctx.email}\">${ctx.email}</a></dd>` : ''}\r\n\t\t\t${ctx.comments != null && ctx.comments.length ? `<dd class=\"sk--comments\">${ctx.comments}</dd>` : ''}\r\n\t\t</dl>`));\r\n\t}\r\n};\r\n","import * as dom from '../../util/easy-dom';\r\nimport * as events from '../../util/event-bus';\r\n\r\nexport default function (elem, attrs, ctx, i18n) {\r\n\tvar orgId, productId;\r\n\r\n\tevents.emit('header.visible', false);\r\n\tevents.emit('nav.visible', false);\r\n\r\n\tdom.rAF(() => dom.rAF(() => elem.addClass('sk--fade-in')));\r\n\r\n\tevents.on('_pick-org.org-id-selected', oId => orgId = oId);\r\n\tevents.on('_pick-app.product-id-selected', function (pId) {\r\n\t\tproductId = pId;\r\n\t\tevents.emit('_pick-org-app.selected', {orgId, productId});\r\n\t});\r\n\tevents.on('pick-org-app.abort', function () {\r\n\t\telem.css('display', 'none');\r\n\t}, true);\r\n};\r\n","import * as store from './store';\r\nimport * as events from './event-bus';\r\nimport * as env from './env';\r\nimport * as persist from './persistence';\r\nimport {deprecatedAttr} from './deprecated';\r\n\r\nimport {\r\n\tget, post, put, patch, del,\r\n\tprocessIdmData,\r\n\tfillUiFromIdmData,\r\n\tsetCurrentOrgInSharedState\r\n} from './idm-helpers';\r\n\r\n// common persistence config\r\nconst cache1DayLocal = {\r\n\ttype: 'local', // local storage\r\n\texpires: 1440, // 1 day\r\n};\r\n\r\nvar idmData = {};\r\nstore.onValueOnce('idm', handleIdmConfig);\r\nstore.onValueOnce('idm', d => events.emit('token-ready', {get, post, put, patch, del}));\r\nstore.onValueOnce('idm-data', fillUiFromIdmData);\r\nevents.on('_pick-org-app.selected', function ({orgId, productId}) {\r\n\tif (orgId == null || productId == null) { return; }\r\n\r\n\tconst accessRecord = idmData.access\r\n\t\t.find(({OrganizationId, ProductId} = {}) => (\r\n\t\t\tOrganizationId != null\r\n\t\t\t&& ProductId != null\r\n\t\t\t&& OrganizationId.toString() === orgId.toString()\r\n\t\t\t&& ProductId.toUpperCase() === productId.toUpperCase()\r\n\t\t));\r\n\r\n\tif (accessRecord == null) { return; }\r\n\r\n\tsetCurrentOrgInSharedState(accessRecord.OrganizationId, function () {\r\n\t\tlocation.href = accessRecord.Url;\r\n\t});\r\n});\r\n\r\nfunction handleIdmConfig(cfg) {\r\n\tlet {idGatewayUrl, flId, currentOrg, product} = cfg;\r\n\tconst idmMeta = {\r\n\t\ttargetOrgId: currentOrg,\r\n\t\tusers: null\r\n\t};\r\n\tconst envName = env.environmentFromIdmGatewayUrl(idGatewayUrl);\r\n\tconst envValues = env[envName];\r\n\r\n\tif (idGatewayUrl.endsWith('/')) {\r\n\t\tcfg.idGatewayUrl = idGatewayUrl = idGatewayUrl.slice(0, -1);\r\n\t}\r\n\r\n\tstore.onValueOnce('idm-data', function (data) {\r\n\t\tif (data.userContext == null) { return; }\r\n\t\tif (data.userContext.OrganizationId == null) { return; }\r\n\t\tconst orgId = data.userContext.OrganizationId;\r\n\r\n\t\t/////\r\n\t\t// get the org-co-branding data from the org service\r\n\t\t//\r\n\r\n\t\tconst envSandApiUrl = envValues.ecSand;\r\n\r\n\t\tconst rawOrgBrandData = persist.get(`rawOrgBrand-${orgId}`);\r\n\t\tif (rawOrgBrandData == null) {\r\n\t\t\tconst orgBrandUrl = `${envSandApiUrl}/OrganizationAPI/api/organizations/${orgId}?fields=branding`;\r\n\t\t\tget(orgBrandUrl, function (orgBrandRes) {\r\n\t\t\t\t\tpersist.set(`rawOrgBrand-${orgId}`, orgBrandRes, cache1DayLocal);\r\n\t\t\t\t\tprocessOrgBrand(orgBrandRes);\r\n\t\t\t\t}, [{\r\n\t\t\t\t\tkey: 'FlUser',\r\n\t\t\t\t\tvalue: `{\"OrganizationId\": \"${orgId}\"}`\r\n\t\t\t\t}]\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tprocessOrgBrand(rawOrgBrandData);\r\n\t\t}\r\n\t\tfunction processOrgBrand(brand) {\r\n\t\t\tstore.set('org-branding-data', brand.data.attributes.branding);\r\n\t\t}\r\n\t});\r\n\r\n\tlet rawProduct = persist.get(`rawProduct-${product.toUpperCase()}`);\r\n\tif (product.length > 0 && rawProduct == null) {\r\n\t\tget(`${idGatewayUrl}/api/products/${product}`, function (pData) {\r\n\t\t\tpersist.set(`rawProduct-${product.toUpperCase()}`, pData, cache1DayLocal);\r\n\t\t\tprocessIdmData(Object.assign(idmData, {product: pData}), idmMeta);\r\n\t\t});\r\n\t} else {\r\n\t\tprocessIdmData(Object.assign(idmData, {product: rawProduct}), idmMeta);\r\n\t}\r\n\r\n\t/////\r\n\t// get the product data and push it into the store\r\n\t//\r\n\tget(`${idGatewayUrl}/sessions`, function (session) {\r\n\t\tprocessIdmData(Object.assign(idmData, { session }), idmMeta);\r\n\t\tgetSessionData(session.Id);\r\n\t});\r\n\r\n\tfunction getSessionData(sid) {\r\n\t\t/////\r\n\t\t// Process User Data\r\n\t\t//\r\n\t\tvar rawUser = persist.get(`rawUser-${flId}-${sid}`);\r\n\t\tvar rawProductLinks = persist.get(`rawProductLinks-${flId}-${sid}`);\r\n\r\n\t\t// get user data\r\n\t\tif (rawUser == null) {\r\n\t\t\tconst userUrl = `${idGatewayUrl}/userservice/v0/api/users/id/${flId}`;\r\n\t\t\tget(userUrl, function (userRes) {\r\n\t\t\t\tpersist.set(`rawUser-${flId}-${sid}`, userRes, cache1DayLocal);\r\n\t\t\t\trawUser = userRes;\r\n\t\t\t\tprocessUsersAndProducts(rawUser, rawProductLinks);\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tprocessUsersAndProducts(rawUser, rawProductLinks);\r\n\t\t}\r\n\r\n\t\t// get product links data\r\n\t\tif (rawProductLinks == null) {\r\n\t\t\tconst productLinksUrl = `${idGatewayUrl}/userservice/v0/api/productlinks?userId=${flId}`;\r\n\t\t\tget(productLinksUrl, function (productLinksRes) {\r\n\t\t\t\tpersist.set(`rawProductLinks-${flId}-${sid}`, productLinksRes, cache1DayLocal);\r\n\t\t\t\trawProductLinks = productLinksRes;\r\n\t\t\t\tprocessUsersAndProducts(rawUser, rawProductLinks);\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tprocessUsersAndProducts(rawUser, rawProductLinks);\r\n\t\t}\r\n\r\n\t\tfunction processUsersAndProducts(users, products) {\r\n\t\t\tif (users == null || products == null) { return; }\r\n\r\n\t\t\tconst data = {productId: product};\r\n\t\t\tidmMeta.users = users;\r\n\r\n\t\t\t// set roles\r\n\t\t\tdata.roles = users.Roles.map(r => r.Name);\r\n\r\n\t\t\t// set user\r\n\t\t\tdata.user = {\r\n\t\t\t\tprofileId: users.Id,\r\n\t\t\t\tfirstName: users.FirstName,\r\n\t\t\t\tlastName: users.LastName,\r\n\t\t\t\temail: users.Email,\r\n\t\t\t\temailConfirmed: users.EmailIsVerified,\r\n\t\t\t\troles: data.roles,\r\n\t\t\t\tisFrontlineUser: (users.IsFrontlineUser === true),\r\n\t\t\t};\r\n\r\n\t\t\t// set deprecated user fields\r\n\t\t\tconst removedUserAttrs = [\r\n\t\t\t\t'username',\r\n\t\t\t\t'middleName',\r\n\t\t\t\t'birthday',\r\n\t\t\t\t'gender',\r\n\t\t\t\t'militaryStatus',\r\n\t\t\t\t'emailSent'\r\n\t\t\t];\r\n\t\t\tremovedUserAttrs.forEach(function (attr) {\r\n\t\t\t\tconst objLoc = 'STORE(idm-data).user';\r\n\t\t\t\tdeprecatedAttr({obj: data.user, attr, objLoc}, null);\r\n\t\t\t});\r\n\r\n\t\t\t// set access\r\n\t\t\tdata.access = products.map(function (p) {\r\n\t\t\t\tconst access = Object.assign({ Disabled: false }, p);\r\n\r\n\t\t\t\t// deprecation defaults\r\n\t\t\t\tconst obj = access;\r\n\t\t\t\tconst objLoc = 'STORE(idm-data).access[*]';\r\n\r\n\t\t\t\tdeprecatedAttr({\r\n\t\t\t\t\tobj, objLoc, attr: 'FlId',\r\n\t\t\t\t\tnewLog: 'STORE(idm-data).user.profileId'\r\n\t\t\t\t}, flId);\r\n\r\n\t\t\t\tdeprecatedAttr({ obj, objLoc, attr: 'Description' }, null);\r\n\r\n\t\t\t\tdeprecatedAttr({ obj, objLoc, attr: 'UserKey' }, function () {\r\n\t\t\t\t\tconst idType = envValues.productUserTypeMap[access.ProductId];\r\n\t\t\t\t\tconst {OrganizationId} = access;\r\n\t\t\t\t\tconst identities = users.OrganizationUsers.reduce(function (acc, ou) {\r\n\t\t\t\t\t\tif (ou.OrganizationId === OrganizationId) {\r\n\t\t\t\t\t\t\tacc = acc.concat(ou.Identities.filter(id => id.Type === idType));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn acc;\r\n\t\t\t\t\t}, []);\r\n\t\t\t\t\treturn (identities[0] && identities[0].Id || null);\r\n\t\t\t\t});\r\n\r\n\t\t\t\tconst deprecatedAccessAttrs = {\r\n\t\t\t\t\t'LegacyName': 'ProductLegacyName',\r\n\t\t\t\t\t'DefaultSignInUrl': 'Url',\r\n\t\t\t\t\t'OrgNavigationUrlTemplate': 'Url'\r\n\t\t\t\t};\r\n\t\t\t\tObject.keys(deprecatedAccessAttrs).forEach(function (attr) {\r\n\t\t\t\t\tconst newAttr = deprecatedAccessAttrs[attr];\r\n\t\t\t\t\tconst newLoc = `STORE(idm-data).access[*].${newAttr}`;\r\n\t\t\t\t\tdeprecatedAttr({ obj, objLoc, attr, newLoc }, () => access[newAttr]);\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn access;\r\n\t\t\t});\r\n\r\n\t\t\tprocessIdmData(Object.assign(idmData, data), idmMeta);\r\n\t\t}\r\n\t}\r\n}\r\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _1 = require(\".\");\nvar ConfigCatConsoleLogger = /** @class */ (function () {\n    /**\n     * Create an instance of ConfigCatConsoleLogger\n     */\n    function ConfigCatConsoleLogger(logLevel) {\n        this.SOURCE = \"ConfigCat\";\n        this.level = _1.LogLevel.Warn;\n        if (logLevel) {\n            this.level = logLevel;\n        }\n    }\n    ConfigCatConsoleLogger.prototype.log = function (message) {\n        this.info(message);\n    };\n    ConfigCatConsoleLogger.prototype.info = function (message) {\n        if (this.isLogLevelEnabled(_1.LogLevel.Info)) {\n            console.info(this.SOURCE + \" - INFO - \" + message);\n        }\n    };\n    ConfigCatConsoleLogger.prototype.warn = function (message) {\n        if (this.isLogLevelEnabled(_1.LogLevel.Warn)) {\n            console.warn(this.SOURCE + \" - WARN - \" + message);\n        }\n    };\n    ConfigCatConsoleLogger.prototype.error = function (message) {\n        if (this.isLogLevelEnabled(_1.LogLevel.Error)) {\n            console.error(this.SOURCE + \" - ERROR - \" + message);\n        }\n    };\n    ConfigCatConsoleLogger.prototype.isLogLevelEnabled = function (logLevel) {\n        return this.level >= logLevel;\n    };\n    return ConfigCatConsoleLogger;\n}());\nexports.ConfigCatConsoleLogger = ConfigCatConsoleLogger;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ConfigCatLogger_1 = require(\"./ConfigCatLogger\");\nvar _1 = require(\".\");\nvar VERSION = require(\"../package.json\").version;\nvar OptionsBase = /** @class */ (function () {\n    function OptionsBase(apiKey, clientVersion, options) {\n        this.logger = new ConfigCatLogger_1.ConfigCatConsoleLogger(_1.LogLevel.Warn);\n        this.requestTimeoutMs = 30000;\n        this.baseUrl = \"https://cdn.configcat.com\";\n        this.proxy = \"\";\n        if (!apiKey) {\n            throw new Error(\"Invalid 'apiKey' value\");\n        }\n        this.apiKey = apiKey;\n        this.clientVersion = clientVersion;\n        if (options) {\n            if (options.logger) {\n                this.logger = options.logger;\n            }\n            if (options.requestTimeoutMs) {\n                if (options.requestTimeoutMs < 0) {\n                    throw new Error(\"Invalid 'requestTimeoutMs' value\");\n                }\n                this.requestTimeoutMs = options.requestTimeoutMs;\n            }\n            if (options.baseUrl) {\n                this.baseUrl = options.baseUrl;\n            }\n            if (options.proxy) {\n                this.proxy = options.proxy;\n            }\n        }\n    }\n    OptionsBase.prototype.getUrl = function () {\n        return this.baseUrl + \"/configuration-files/\" + this.apiKey + \"/config_v4.json\";\n    };\n    return OptionsBase;\n}());\nexports.OptionsBase = OptionsBase;\nvar AutoPollOptions = /** @class */ (function (_super) {\n    __extends(AutoPollOptions, _super);\n    function AutoPollOptions(apiKey, options) {\n        var _this = _super.call(this, apiKey, \"a-\" + VERSION, options) || this;\n        _this.pollIntervalSeconds = 60;\n        _this.configChanged = function () { };\n        if (options) {\n            if (options.pollIntervalSeconds) {\n                _this.pollIntervalSeconds = options.pollIntervalSeconds;\n            }\n            if (options.configChanged) {\n                _this.configChanged = options.configChanged;\n            }\n        }\n        if (!_this.pollIntervalSeconds || _this.pollIntervalSeconds < 1) {\n            throw new Error(\"Invalid 'pollIntervalSeconds' value\");\n        }\n        return _this;\n    }\n    return AutoPollOptions;\n}(OptionsBase));\nexports.AutoPollOptions = AutoPollOptions;\nvar ManualPollOptions = /** @class */ (function (_super) {\n    __extends(ManualPollOptions, _super);\n    function ManualPollOptions(apiKey, options) {\n        return _super.call(this, apiKey, \"m-\" + VERSION, options) || this;\n    }\n    return ManualPollOptions;\n}(OptionsBase));\nexports.ManualPollOptions = ManualPollOptions;\nvar LazyLoadOptions = /** @class */ (function (_super) {\n    __extends(LazyLoadOptions, _super);\n    function LazyLoadOptions(apiKey, options) {\n        var _this = _super.call(this, apiKey, \"l-\" + VERSION, options) || this;\n        _this.cacheTimeToLiveSeconds = 60;\n        if (options) {\n            if (options.cacheTimeToLiveSeconds) {\n                _this.cacheTimeToLiveSeconds = options.cacheTimeToLiveSeconds;\n            }\n        }\n        if (!_this.cacheTimeToLiveSeconds || _this.cacheTimeToLiveSeconds < 1) {\n            throw new Error(\"Invalid 'cacheTimeToLiveSeconds' value. Value must be greater than zero.\");\n        }\n        return _this;\n    }\n    return LazyLoadOptions;\n}(OptionsBase));\nexports.LazyLoadOptions = LazyLoadOptions;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ConfigServiceBase = /** @class */ (function () {\n    function ConfigServiceBase(configFetcher, cache, baseConfig) {\n        this.configFetcher = configFetcher;\n        this.cache = cache;\n        this.baseConfig = baseConfig;\n    }\n    ConfigServiceBase.prototype.refreshLogicBaseAsync = function (lastProjectConfig) {\n        var _this = this;\n        return new Promise(function (resolve) {\n            _this.configFetcher.fetchLogic(_this.baseConfig, lastProjectConfig, function (newConfig) {\n                if (newConfig) {\n                    _this.cache.Set(_this.baseConfig.apiKey, newConfig);\n                    resolve(newConfig);\n                }\n                else {\n                    resolve(lastProjectConfig);\n                }\n            });\n        });\n    };\n    return ConfigServiceBase;\n}());\nexports.ConfigServiceBase = ConfigServiceBase;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ConfigServiceBase_1 = require(\"./ConfigServiceBase\");\nvar AutoPollConfigService = /** @class */ (function (_super) {\n    __extends(AutoPollConfigService, _super);\n    function AutoPollConfigService(configFetcher, cache, autoPollConfig) {\n        var _this = _super.call(this, configFetcher, cache, autoPollConfig) || this;\n        _this.setIntervalAsync = function (fn, ms) {\n            fn().then(function () {\n                setTimeout(function () { return _this.setIntervalAsync(fn, ms); }, ms);\n            });\n        };\n        _this.configChanged = autoPollConfig.configChanged;\n        _this.setIntervalAsync(function () { return _this.refreshConfigAsync(); }, autoPollConfig.pollIntervalSeconds * 1000);\n        return _this;\n    }\n    AutoPollConfigService.prototype.getConfig = function () {\n        var p = this.cache.Get(this.baseConfig.apiKey);\n        if (!p) {\n            return this.refreshLogic();\n        }\n        else {\n            return new Promise(function (resolve) { return resolve(p); });\n        }\n    };\n    AutoPollConfigService.prototype.refreshConfigAsync = function () {\n        return this.refreshLogic();\n    };\n    AutoPollConfigService.prototype.refreshLogic = function () {\n        var _this = this;\n        return new Promise(function (resolve) { return __awaiter(_this, void 0, void 0, function () {\n            var p, newConfig;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        p = this.cache.Get(this.baseConfig.apiKey);\n                        return [4 /*yield*/, this.refreshLogicBaseAsync(p)];\n                    case 1:\n                        newConfig = _a.sent();\n                        if (!p || p.HttpETag !== newConfig.HttpETag) {\n                            this.configChanged();\n                        }\n                        resolve(newConfig);\n                        return [2 /*return*/];\n                }\n            });\n        }); });\n    };\n    return AutoPollConfigService;\n}(ConfigServiceBase_1.ConfigServiceBase));\nexports.AutoPollConfigService = AutoPollConfigService;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ConfigServiceBase_1 = require(\"./ConfigServiceBase\");\nvar LazyLoadConfigService = /** @class */ (function (_super) {\n    __extends(LazyLoadConfigService, _super);\n    function LazyLoadConfigService(configFetcher, cache, config) {\n        var _this = _super.call(this, configFetcher, cache, config) || this;\n        _this.cacheTimeToLiveSeconds = config.cacheTimeToLiveSeconds;\n        return _this;\n    }\n    LazyLoadConfigService.prototype.getConfig = function () {\n        var p = this.cache.Get(this.baseConfig.apiKey);\n        if (p && p.Timestamp + (this.cacheTimeToLiveSeconds * 1000) > new Date().getTime()) {\n            return new Promise(function (resolve) { return resolve(p); });\n        }\n        else {\n            return this.refreshLogicBaseAsync(p);\n        }\n    };\n    LazyLoadConfigService.prototype.refreshConfigAsync = function () {\n        var p = this.cache.Get(this.baseConfig.apiKey);\n        return this.refreshLogicBaseAsync(p);\n    };\n    return LazyLoadConfigService;\n}(ConfigServiceBase_1.ConfigServiceBase));\nexports.LazyLoadConfigService = LazyLoadConfigService;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ConfigServiceBase_1 = require(\"./ConfigServiceBase\");\nvar ManualPollService = /** @class */ (function (_super) {\n    __extends(ManualPollService, _super);\n    function ManualPollService(configFetcher, cache, config) {\n        return _super.call(this, configFetcher, cache, config) || this;\n    }\n    ManualPollService.prototype.getConfig = function () {\n        var _this = this;\n        return new Promise(function (resolve) { return resolve(_this.cache.Get(_this.baseConfig.apiKey)); });\n    };\n    ManualPollService.prototype.refreshConfigAsync = function () {\n        var p = this.cache.Get(this.baseConfig.apiKey);\n        return this.refreshLogicBaseAsync(p);\n    };\n    return ManualPollService;\n}(ConfigServiceBase_1.ConfigServiceBase));\nexports.ManualPollService = ManualPollService;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ProjectConfig = /** @class */ (function () {\n    function ProjectConfig(timeStamp, jsonConfig, httpETag) {\n        this.Timestamp = timeStamp;\n        this.ConfigJSON = JSON.parse(jsonConfig);\n        this.HttpETag = httpETag;\n    }\n    return ProjectConfig;\n}());\nexports.ProjectConfig = ProjectConfig;\nvar Setting = /** @class */ (function () {\n    function Setting() {\n    }\n    Setting.Value = \"v\";\n    Setting.SettingType = \"t\";\n    Setting.RolloutPercentageItems = \"p\";\n    Setting.RolloutRules = \"r\";\n    Setting.VariationId = \"i\";\n    return Setting;\n}());\nexports.Setting = Setting;\nvar RolloutRules = /** @class */ (function () {\n    function RolloutRules() {\n    }\n    RolloutRules.Order = \"o\";\n    RolloutRules.ComparisonAttribute = \"a\";\n    RolloutRules.Comparator = \"t\";\n    RolloutRules.ComparisonValue = \"c\";\n    RolloutRules.Value = \"v\";\n    RolloutRules.VariationId = \"i\";\n    return RolloutRules;\n}());\nexports.RolloutRules = RolloutRules;\nvar RolloutPercentageItems = /** @class */ (function () {\n    function RolloutPercentageItems() {\n    }\n    RolloutPercentageItems.Order = \"o\";\n    RolloutPercentageItems.Value = \"v\";\n    RolloutPercentageItems.Percentage = \"p\";\n    RolloutPercentageItems.VariationId = \"i\";\n    return RolloutPercentageItems;\n}());\nexports.RolloutPercentageItems = RolloutPercentageItems;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction sha1(msg) {\n    function rotate_left(n, s) {\n        var t4 = (n << s) | (n >>> (32 - s));\n        return t4;\n    }\n    ;\n    function lsb_hex(val) {\n        var str = \"\";\n        var i;\n        var vh;\n        var vl;\n        for (i = 0; i <= 6; i += 2) {\n            vh = (val >>> (i * 4 + 4)) & 0x0f;\n            vl = (val >>> (i * 4)) & 0x0f;\n            str += vh.toString(16) + vl.toString(16);\n        }\n        return str;\n    }\n    ;\n    function cvt_hex(val) {\n        var str = \"\";\n        var i;\n        var v;\n        for (i = 7; i >= 0; i--) {\n            v = (val >>> (i * 4)) & 0x0f;\n            str += v.toString(16);\n        }\n        return str;\n    }\n    ;\n    function Utf8Encode(string) {\n        string = string.replace(/\\r\\n/g, \"\\n\");\n        var utftext = \"\";\n        for (var n = 0; n < string.length; n++) {\n            var c = string.charCodeAt(n);\n            if (c < 128) {\n                utftext += String.fromCharCode(c);\n            }\n            else if ((c > 127) && (c < 2048)) {\n                utftext += String.fromCharCode((c >> 6) | 192);\n                utftext += String.fromCharCode((c & 63) | 128);\n            }\n            else {\n                utftext += String.fromCharCode((c >> 12) | 224);\n                utftext += String.fromCharCode(((c >> 6) & 63) | 128);\n                utftext += String.fromCharCode((c & 63) | 128);\n            }\n        }\n        return utftext;\n    }\n    ;\n    var blockstart;\n    var i, j;\n    var W = new Array(80);\n    var H0 = 0x67452301;\n    var H1 = 0xEFCDAB89;\n    var H2 = 0x98BADCFE;\n    var H3 = 0x10325476;\n    var H4 = 0xC3D2E1F0;\n    var A, B, C, D, E;\n    var temp;\n    msg = Utf8Encode(msg);\n    var msg_len = msg.length;\n    var word_array = new Array();\n    for (i = 0; i < msg_len - 3; i += 4) {\n        j = msg.charCodeAt(i) << 24 | msg.charCodeAt(i + 1) << 16 |\n            msg.charCodeAt(i + 2) << 8 | msg.charCodeAt(i + 3);\n        word_array.push(j);\n    }\n    switch (msg_len % 4) {\n        case 0:\n            i = 0x080000000;\n            break;\n        case 1:\n            i = msg.charCodeAt(msg_len - 1) << 24 | 0x0800000;\n            break;\n        case 2:\n            i = msg.charCodeAt(msg_len - 2) << 24 | msg.charCodeAt(msg_len - 1) << 16 | 0x08000;\n            break;\n        case 3:\n            i = msg.charCodeAt(msg_len - 3) << 24 | msg.charCodeAt(msg_len - 2) << 16 | msg.charCodeAt(msg_len - 1) << 8 | 0x80;\n            break;\n    }\n    word_array.push(i);\n    while ((word_array.length % 16) != 14)\n        word_array.push(0);\n    word_array.push(msg_len >>> 29);\n    word_array.push((msg_len << 3) & 0x0ffffffff);\n    for (blockstart = 0; blockstart < word_array.length; blockstart += 16) {\n        for (i = 0; i < 16; i++)\n            W[i] = word_array[blockstart + i];\n        for (i = 16; i <= 79; i++)\n            W[i] = rotate_left(W[i - 3] ^ W[i - 8] ^ W[i - 14] ^ W[i - 16], 1);\n        A = H0;\n        B = H1;\n        C = H2;\n        D = H3;\n        E = H4;\n        for (i = 0; i <= 19; i++) {\n            temp = (rotate_left(A, 5) + ((B & C) | (~B & D)) + E + W[i] + 0x5A827999) & 0x0ffffffff;\n            E = D;\n            D = C;\n            C = rotate_left(B, 30);\n            B = A;\n            A = temp;\n        }\n        for (i = 20; i <= 39; i++) {\n            temp = (rotate_left(A, 5) + (B ^ C ^ D) + E + W[i] + 0x6ED9EBA1) & 0x0ffffffff;\n            E = D;\n            D = C;\n            C = rotate_left(B, 30);\n            B = A;\n            A = temp;\n        }\n        for (i = 40; i <= 59; i++) {\n            temp = (rotate_left(A, 5) + ((B & C) | (B & D) | (C & D)) + E + W[i] + 0x8F1BBCDC) & 0x0ffffffff;\n            E = D;\n            D = C;\n            C = rotate_left(B, 30);\n            B = A;\n            A = temp;\n        }\n        for (i = 60; i <= 79; i++) {\n            temp = (rotate_left(A, 5) + (B ^ C ^ D) + E + W[i] + 0xCA62C1D6) & 0x0ffffffff;\n            E = D;\n            D = C;\n            C = rotate_left(B, 30);\n            B = A;\n            A = temp;\n        }\n        H0 = (H0 + A) & 0x0ffffffff;\n        H1 = (H1 + B) & 0x0ffffffff;\n        H2 = (H2 + C) & 0x0ffffffff;\n        H3 = (H3 + D) & 0x0ffffffff;\n        H4 = (H4 + E) & 0x0ffffffff;\n    }\n    return (cvt_hex(H0) + cvt_hex(H1) + cvt_hex(H2) + cvt_hex(H3) + cvt_hex(H4)).toLowerCase();\n}\nexports.sha1 = sha1;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar numeric = /^[0-9]+$/;\nvar compareIdentifiers = function (a, b) {\n    var anum = numeric.test(a);\n    var bnum = numeric.test(b);\n    if (anum && bnum) {\n        a = +a;\n        b = +b;\n    }\n    return a === b ? 0\n        : (anum && !bnum) ? -1\n            : (bnum && !anum) ? 1\n                : a < b ? -1\n                    : 1;\n};\nvar rcompareIdentifiers = function (a, b) { return compareIdentifiers(b, a); };\nvar SEMVER_SPEC_VERSION = '2.0.0';\nvar MAX_LENGTH = 256;\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n    /* istanbul ignore next */ 9007199254740991;\nvar MAX_SAFE_COMPONENT_LENGTH = 16;\n// The actual regexps go on exports.re\nvar re = [];\nvar src = [];\nvar t = {};\nvar R = 0;\nvar createToken = function (name, value) {\n    var index = R++;\n    t[name] = index;\n    src[index] = value;\n    re[index] = new RegExp(value, undefined);\n};\ncreateToken('NUMERICIDENTIFIER', '0|[1-9]\\\\d*');\ncreateToken('NUMERICIDENTIFIERLOOSE', '[0-9]+');\ncreateToken('NONNUMERICIDENTIFIER', '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*');\ncreateToken('MAINVERSION', \"(\" + src[t['NUMERICIDENTIFIER']] + \")\\\\.\" +\n    (\"(\" + src[t['NUMERICIDENTIFIER']] + \")\\\\.\") +\n    (\"(\" + src[t['NUMERICIDENTIFIER']] + \")\"));\ncreateToken('MAINVERSIONLOOSE', \"(\" + src[t['NUMERICIDENTIFIERLOOSE']] + \")\\\\.\" +\n    (\"(\" + src[t['NUMERICIDENTIFIERLOOSE']] + \")\\\\.\") +\n    (\"(\" + src[t['NUMERICIDENTIFIERLOOSE']] + \")\"));\ncreateToken('PRERELEASEIDENTIFIER', \"(?:\" + src[t['NUMERICIDENTIFIER']] + \"|\" + src[t['NONNUMERICIDENTIFIER']] + \")\");\ncreateToken('PRERELEASEIDENTIFIERLOOSE', \"(?:\" + src[t['NUMERICIDENTIFIERLOOSE']] + \"|\" + src[t['NONNUMERICIDENTIFIER']] + \")\");\ncreateToken('PRERELEASE', \"(?:-(\" + src[t['PRERELEASEIDENTIFIER']] + \"(?:\\\\.\" + src[t['PRERELEASEIDENTIFIER']] + \")*))\");\ncreateToken('PRERELEASELOOSE', \"(?:-?(\" + src[t['PRERELEASEIDENTIFIERLOOSE']] + \"(?:\\\\.\" + src[t['PRERELEASEIDENTIFIERLOOSE']] + \")*))\");\ncreateToken('BUILDIDENTIFIER', '[0-9A-Za-z-]+');\ncreateToken('BUILD', \"(?:\\\\+(\" + src[t['BUILDIDENTIFIER']] + \"(?:\\\\.\" + src[t['BUILDIDENTIFIER']] + \")*))\");\ncreateToken('FULLPLAIN', \"v?\" + src[t['MAINVERSION']] + src[t['PRERELEASE']] + \"?\" + src[t['BUILD']] + \"?\");\ncreateToken('FULL', \"^\" + src[t['FULLPLAIN']] + \"$\");\ncreateToken('LOOSEPLAIN', \"[v=\\\\s]*\" + src[t['MAINVERSIONLOOSE']] + src[t['PRERELEASELOOSE']] + \"?\" + src[t['BUILD']] + \"?\");\ncreateToken('LOOSE', \"^\" + src[t['LOOSEPLAIN']] + \"$\");\nvar SemVer = /** @class */ (function () {\n    function SemVer(version, options) {\n        if (!options || typeof options !== 'object') {\n            options = {\n                loose: !!options,\n                includePrerelease: false\n            };\n        }\n        if (version instanceof SemVer) {\n            if (version.loose === !!options.loose &&\n                version.includePrerelease === !!options.includePrerelease) {\n                return version;\n            }\n            else {\n                version = version.version;\n            }\n        }\n        else if (typeof version !== 'string') {\n            throw new TypeError(\"Invalid Version: \" + version);\n        }\n        if (version.length > MAX_LENGTH) {\n            throw new TypeError(\"version is longer than \" + MAX_LENGTH + \" characters\");\n        }\n        this.options = options;\n        this.loose = !!options.loose;\n        // this isn't actually relevant for versions, but keep it so that we\n        // don't run into trouble passing this.options around.\n        this.includePrerelease = !!options.includePrerelease;\n        var m = version.trim().match(options.loose ? re[t['LOOSE']] : re[t['FULL']]);\n        if (!m) {\n            throw new TypeError(\"Invalid Version: \" + version);\n        }\n        this.raw = version;\n        // these are actually numbers\n        this.major = +m[1];\n        this.minor = +m[2];\n        this.patch = +m[3];\n        if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n            throw new TypeError('Invalid major version');\n        }\n        if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n            throw new TypeError('Invalid minor version');\n        }\n        if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n            throw new TypeError('Invalid patch version');\n        }\n        // numberify any prerelease numeric ids\n        if (!m[4]) {\n            this.prerelease = [];\n        }\n        else {\n            this.prerelease = m[4].split('.').map(function (id) {\n                if (/^[0-9]+$/.test(id)) {\n                    var num = +id;\n                    if (num >= 0 && num < MAX_SAFE_INTEGER) {\n                        return num;\n                    }\n                }\n                return id;\n            });\n        }\n        this.build = m[5] ? m[5].split('.') : [];\n        this.format();\n    }\n    SemVer.prototype.format = function () {\n        this.version = this.major + \".\" + this.minor + \".\" + this.patch;\n        if (this.prerelease.length) {\n            this.version += \"-\" + this.prerelease.join('.');\n        }\n        return this.version;\n    };\n    SemVer.prototype.toString = function () {\n        return this.version;\n    };\n    SemVer.prototype.compare = function (other) {\n        if (!(other instanceof SemVer)) {\n            if (typeof other === 'string' && other === this.version) {\n                return 0;\n            }\n            other = new SemVer(other, this.options);\n        }\n        if (other.version === this.version) {\n            return 0;\n        }\n        return this.compareMain(other) || this.comparePre(other);\n    };\n    SemVer.prototype.compareMain = function (other) {\n        if (!(other instanceof SemVer)) {\n            other = new SemVer(other, this.options);\n        }\n        return (compareIdentifiers(this.major, other.major) ||\n            compareIdentifiers(this.minor, other.minor) ||\n            compareIdentifiers(this.patch, other.patch));\n    };\n    SemVer.prototype.comparePre = function (other) {\n        if (!(other instanceof SemVer)) {\n            other = new SemVer(other, this.options);\n        }\n        // NOT having a prerelease is > having one\n        if (this.prerelease.length && !other.prerelease.length) {\n            return -1;\n        }\n        else if (!this.prerelease.length && other.prerelease.length) {\n            return 1;\n        }\n        else if (!this.prerelease.length && !other.prerelease.length) {\n            return 0;\n        }\n        var i = 0;\n        do {\n            var a = this.prerelease[i];\n            var b = other.prerelease[i];\n            if (a === undefined && b === undefined) {\n                return 0;\n            }\n            else if (b === undefined) {\n                return 1;\n            }\n            else if (a === undefined) {\n                return -1;\n            }\n            else if (a === b) {\n                continue;\n            }\n            else {\n                return compareIdentifiers(a, b);\n            }\n        } while (++i);\n    };\n    SemVer.prototype.compareBuild = function (other) {\n        if (!(other instanceof SemVer)) {\n            other = new SemVer(other, this.options);\n        }\n        var i = 0;\n        do {\n            var a = this.build[i];\n            var b = other.build[i];\n            if (a === undefined && b === undefined) {\n                return 0;\n            }\n            else if (b === undefined) {\n                return 1;\n            }\n            else if (a === undefined) {\n                return -1;\n            }\n            else if (a === b) {\n                continue;\n            }\n            else {\n                return compareIdentifiers(a, b);\n            }\n        } while (++i);\n    };\n    // preminor will bump the version up to the next minor release, and immediately\n    // down to pre-release. premajor and prepatch work the same way.\n    SemVer.prototype.inc = function (release, identifier) {\n        switch (release) {\n            case 'premajor':\n                this.prerelease.length = 0;\n                this.patch = 0;\n                this.minor = 0;\n                this.major++;\n                this.inc('pre', identifier);\n                break;\n            case 'preminor':\n                this.prerelease.length = 0;\n                this.patch = 0;\n                this.minor++;\n                this.inc('pre', identifier);\n                break;\n            case 'prepatch':\n                // If this is already a prerelease, it will bump to the next version\n                // drop any prereleases that might already exist, since they are not\n                // relevant at this point.\n                this.prerelease.length = 0;\n                this.inc('patch', identifier);\n                this.inc('pre', identifier);\n                break;\n            // If the input is a non-prerelease version, this acts the same as\n            // prepatch.\n            case 'prerelease':\n                if (this.prerelease.length === 0) {\n                    this.inc('patch', identifier);\n                }\n                this.inc('pre', identifier);\n                break;\n            case 'major':\n                // If this is a pre-major version, bump up to the same major version.\n                // Otherwise increment major.\n                // 1.0.0-5 bumps to 1.0.0\n                // 1.1.0 bumps to 2.0.0\n                if (this.minor !== 0 ||\n                    this.patch !== 0 ||\n                    this.prerelease.length === 0) {\n                    this.major++;\n                }\n                this.minor = 0;\n                this.patch = 0;\n                this.prerelease = [];\n                break;\n            case 'minor':\n                // If this is a pre-minor version, bump up to the same minor version.\n                // Otherwise increment minor.\n                // 1.2.0-5 bumps to 1.2.0\n                // 1.2.1 bumps to 1.3.0\n                if (this.patch !== 0 || this.prerelease.length === 0) {\n                    this.minor++;\n                }\n                this.patch = 0;\n                this.prerelease = [];\n                break;\n            case 'patch':\n                // If this is not a pre-release version, it will increment the patch.\n                // If it is a pre-release it will bump up to the same patch version.\n                // 1.2.0-5 patches to 1.2.0\n                // 1.2.0 patches to 1.2.1\n                if (this.prerelease.length === 0) {\n                    this.patch++;\n                }\n                this.prerelease = [];\n                break;\n            // This probably shouldn't be used publicly.\n            // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.\n            case 'pre':\n                if (this.prerelease.length === 0) {\n                    this.prerelease = [0];\n                }\n                else {\n                    var i = this.prerelease.length;\n                    while (--i >= 0) {\n                        if (typeof this.prerelease[i] === 'number') {\n                            this.prerelease[i]++;\n                            i = -2;\n                        }\n                    }\n                    if (i === -1) {\n                        // didn't increment anything\n                        this.prerelease.push(0);\n                    }\n                }\n                if (identifier) {\n                    // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n                    // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n                    if (this.prerelease[0] === identifier) {\n                        if (isNaN(this.prerelease[1])) {\n                            this.prerelease = [identifier, 0];\n                        }\n                    }\n                    else {\n                        this.prerelease = [identifier, 0];\n                    }\n                }\n                break;\n            default:\n                throw new Error(\"invalid increment argument: \" + release);\n        }\n        this.format();\n        this.raw = this.version;\n        return this;\n    };\n    return SemVer;\n}());\nvar parse = function (version, options) {\n    if (!options || typeof options !== 'object') {\n        options = {\n            loose: !!options,\n            includePrerelease: false\n        };\n    }\n    if (version instanceof SemVer) {\n        return version;\n    }\n    if (typeof version !== 'string') {\n        return null;\n    }\n    if (version.length > MAX_LENGTH) {\n        return null;\n    }\n    var r = options.loose ? re[t['LOOSE']] : re[t['FULL']];\n    if (!r.test(version)) {\n        return null;\n    }\n    try {\n        return new SemVer(version, options);\n    }\n    catch (er) {\n        return null;\n    }\n};\nvar compare = function (a, b, loose) {\n    return new SemVer(a, loose).compare(new SemVer(b, loose));\n};\nexports.valid = function (version) {\n    var v = parse(version, false);\n    return v ? v.version : null;\n};\nexports.looseeq = function (a, b) { return compare(a, b, true) === 0; };\nexports.eq = function (a, b) { return compare(a, b, false) === 0; };\nexports.lt = function (a, b) { return compare(a, b, false) < 0; };\nexports.lte = function (a, b) { return compare(a, b, false) <= 0; };\nexports.gt = function (a, b) { return compare(a, b, false) > 0; };\nexports.gte = function (a, b) { return compare(a, b, false) >= 0; };\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isUndefined = function (comp) { return comp === undefined; };\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ProjectConfig_1 = require(\"./ProjectConfig\");\nvar Sha1_1 = require(\"./Sha1\");\nvar semver = require(\"./Semver\");\nvar Utils_1 = require(\"./Utils\");\n/** Object for variation evaluation */\nvar User = /** @class */ (function () {\n    function User(identifier, email, country, custom) {\n        if (email === void 0) { email = null; }\n        if (country === void 0) { country = null; }\n        if (custom === void 0) { custom = {}; }\n        /** Optional dictionary for custom attributes of the User for advanced targeting rule definitions. e.g. User role, Subscription type */\n        this.custom = {};\n        this.identifier = identifier;\n        this.email = email;\n        this.country = country;\n        this.custom = custom;\n    }\n    return User;\n}());\nexports.User = User;\nvar RolloutEvaluator = /** @class */ (function () {\n    function RolloutEvaluator(logger) {\n        this.logger = logger;\n    }\n    RolloutEvaluator.prototype.Evaluate = function (config, key, defaultValue, user, defaultVariationId) {\n        if (!config || !config.ConfigJSON) {\n            this.logger.error(\"JSONConfig is not present. Returning default value: '\" + defaultValue + \"'.\");\n            return { Value: defaultValue, VariationId: defaultVariationId };\n        }\n        if (!config.ConfigJSON[key]) {\n            var s = \"Evaluating getValue('\" + key + \"') failed. Returning default value: '\" + defaultValue + \"'.\";\n            s += \" Here are the available keys: {\" + Object.keys(config.ConfigJSON).join() + \"}.\";\n            this.logger.error(s);\n            return { Value: defaultValue, VariationId: defaultVariationId };\n        }\n        var eLog = new EvaluateLogger();\n        eLog.User = user;\n        eLog.KeyName = key;\n        eLog.ReturnValue = defaultValue;\n        var result = new EvaluateResult();\n        result.EvaluateLog = eLog;\n        if (user) {\n            result = this.EvaluateRules(config.ConfigJSON[key][ProjectConfig_1.Setting.RolloutRules], user, eLog);\n            if (result.ValueAndVariationId == null) {\n                result.ValueAndVariationId = this.EvaluateVariations(config.ConfigJSON[key][ProjectConfig_1.Setting.RolloutPercentageItems], key, user);\n                if (result.ValueAndVariationId) {\n                    result.EvaluateLog.ReturnValue = result.ValueAndVariationId.Value;\n                }\n                if (config.ConfigJSON[key][ProjectConfig_1.Setting.RolloutPercentageItems].length > 0) {\n                    result.EvaluateLog.OpAppendLine(\"Evaluating % options => \" + (result.ValueAndVariationId == null ? \"user not targeted\" : \"user targeted\"));\n                }\n            }\n        }\n        else {\n            if ((config.ConfigJSON[key][ProjectConfig_1.Setting.RolloutRules] && config.ConfigJSON[key][ProjectConfig_1.Setting.RolloutRules].length > 0) ||\n                (config.ConfigJSON[key][ProjectConfig_1.Setting.RolloutPercentageItems] && config.ConfigJSON[key][ProjectConfig_1.Setting.RolloutPercentageItems].length > 0)) {\n                var s = \"Evaluating getValue('\" + key + \"'). \";\n                s += \"UserObject missing! You should pass a UserObject to getValue(), in order to make targeting work properly. \";\n                s += \"Read more: https://configcat.com/docs/advanced/user-object\";\n                this.logger.warn(s);\n            }\n        }\n        if (result.ValueAndVariationId == null) {\n            result.ValueAndVariationId = {\n                Value: config.ConfigJSON[key][ProjectConfig_1.Setting.Value],\n                VariationId: config.ConfigJSON[key][ProjectConfig_1.Setting.VariationId],\n            };\n            result.EvaluateLog.ReturnValue = result.ValueAndVariationId.Value;\n        }\n        this.logger.info(result.EvaluateLog.GetLog());\n        return result.ValueAndVariationId;\n    };\n    RolloutEvaluator.prototype.EvaluateRules = function (rolloutRules, user, eLog) {\n        var result = new EvaluateResult();\n        result.ValueAndVariationId = null;\n        if (rolloutRules && rolloutRules.length > 0) {\n            var _loop_1 = function (i) {\n                var rule = rolloutRules[i];\n                var comparisonAttribute = this_1.GetUserAttribute(user, rule[ProjectConfig_1.RolloutRules.ComparisonAttribute]);\n                if (!comparisonAttribute) {\n                    return \"continue\";\n                }\n                var comparator = rule[ProjectConfig_1.RolloutRules.Comparator];\n                var comparisonValue = rule[ProjectConfig_1.RolloutRules.ComparisonValue];\n                var log = \"Evaluating rule: '\" + comparisonAttribute + \"' \" + this_1.RuleToString(comparator) + \" '\" + comparisonValue + \"' => \";\n                switch (comparator) {\n                    case 0: // is one of\n                        var cvs = comparisonValue.split(\",\");\n                        for (var ci = 0; ci < cvs.length; ci++) {\n                            if (cvs[ci].trim() === comparisonAttribute) {\n                                log += \"MATCH\";\n                                eLog.OpAppendLine(log);\n                                result.ValueAndVariationId = {\n                                    Value: rule[ProjectConfig_1.RolloutRules.Value],\n                                    VariationId: rule[ProjectConfig_1.RolloutRules.VariationId]\n                                };\n                                eLog.ReturnValue = result.ValueAndVariationId.Value;\n                                result.EvaluateLog = eLog;\n                                return { value: result };\n                            }\n                        }\n                        log += \"no match\";\n                        break;\n                    case 1: // is not one of\n                        if (!comparisonValue.split(\",\").some(function (e) {\n                            if (e.trim() === comparisonAttribute) {\n                                return true;\n                            }\n                            return false;\n                        })) {\n                            log += \"MATCH\";\n                            eLog.OpAppendLine(log);\n                            result.ValueAndVariationId = {\n                                Value: rule[ProjectConfig_1.RolloutRules.Value],\n                                VariationId: rule[ProjectConfig_1.RolloutRules.VariationId]\n                            };\n                            eLog.ReturnValue = result.ValueAndVariationId.Value;\n                            result.EvaluateLog = eLog;\n                            return { value: result };\n                        }\n                        log += \"no match\";\n                        break;\n                    case 2: // contains\n                        if (comparisonAttribute.search(comparisonValue) !== -1) {\n                            log += \"MATCH\";\n                            eLog.OpAppendLine(log);\n                            result.ValueAndVariationId = {\n                                Value: rule[ProjectConfig_1.RolloutRules.Value],\n                                VariationId: rule[ProjectConfig_1.RolloutRules.VariationId]\n                            };\n                            eLog.ReturnValue = result.ValueAndVariationId.Value;\n                            result.EvaluateLog = eLog;\n                            return { value: result };\n                        }\n                        log += \"no match\";\n                        break;\n                    case 3: // not contains\n                        if (comparisonAttribute.search(comparisonValue) === -1) {\n                            log += \"MATCH\";\n                            eLog.OpAppendLine(log);\n                            result.ValueAndVariationId = {\n                                Value: rule[ProjectConfig_1.RolloutRules.Value],\n                                VariationId: rule[ProjectConfig_1.RolloutRules.VariationId]\n                            };\n                            eLog.ReturnValue = result.ValueAndVariationId.Value;\n                            result.EvaluateLog = eLog;\n                            return { value: result };\n                        }\n                        log += \"no match\";\n                        break;\n                    case 4:\n                    case 5:\n                    case 6:\n                    case 7:\n                    case 8:\n                    case 9:\n                        if (this_1.EvaluateSemver(comparisonAttribute, comparisonValue, comparator)) {\n                            log += \"MATCH\";\n                            eLog.OpAppendLine(log);\n                            result.ValueAndVariationId = {\n                                Value: rule[ProjectConfig_1.RolloutRules.Value],\n                                VariationId: rule[ProjectConfig_1.RolloutRules.VariationId]\n                            };\n                            eLog.ReturnValue = result.ValueAndVariationId.Value;\n                            result.EvaluateLog = eLog;\n                            return { value: result };\n                        }\n                        log += \"no match\";\n                        break;\n                    case 10:\n                    case 11:\n                    case 12:\n                    case 13:\n                    case 14:\n                    case 15:\n                        if (this_1.EvaluateNumber(comparisonAttribute, comparisonValue, comparator)) {\n                            log += \"MATCH\";\n                            eLog.OpAppendLine(log);\n                            result.ValueAndVariationId = {\n                                Value: rule[ProjectConfig_1.RolloutRules.Value],\n                                VariationId: rule[ProjectConfig_1.RolloutRules.VariationId]\n                            };\n                            eLog.ReturnValue = result.ValueAndVariationId.Value;\n                            result.EvaluateLog = eLog;\n                            return { value: result };\n                        }\n                        log += \"no match\";\n                        break;\n                    case 16: // is one of (sensitive)\n                        var values = comparisonValue.split(\",\");\n                        for (var ci = 0; ci < values.length; ci++) {\n                            if (values[ci].trim() === Sha1_1.sha1(comparisonAttribute)) {\n                                log += \"MATCH\";\n                                eLog.OpAppendLine(log);\n                                result.ValueAndVariationId = {\n                                    Value: rule[ProjectConfig_1.RolloutRules.Value],\n                                    VariationId: rule[ProjectConfig_1.RolloutRules.VariationId]\n                                };\n                                eLog.ReturnValue = result.ValueAndVariationId.Value;\n                                result.EvaluateLog = eLog;\n                                return { value: result };\n                            }\n                        }\n                        log += \"no match\";\n                        break;\n                    case 17: // is not one of (sensitive)\n                        if (!comparisonValue.split(\",\").some(function (e) {\n                            if (e.trim() === Sha1_1.sha1(comparisonAttribute)) {\n                                return true;\n                            }\n                            return false;\n                        })) {\n                            log += \"MATCH\";\n                            eLog.OpAppendLine(log);\n                            result.ValueAndVariationId = {\n                                Value: rule[ProjectConfig_1.RolloutRules.Value],\n                                VariationId: rule[ProjectConfig_1.RolloutRules.VariationId]\n                            };\n                            eLog.ReturnValue = result.ValueAndVariationId.Value;\n                            result.EvaluateLog = eLog;\n                            return { value: result };\n                        }\n                        log += \"no match\";\n                        break;\n                    default:\n                        break;\n                }\n                eLog.OpAppendLine(log);\n            };\n            var this_1 = this;\n            for (var i = 0; i < rolloutRules.length; i++) {\n                var state_1 = _loop_1(i);\n                if (typeof state_1 === \"object\")\n                    return state_1.value;\n            }\n        }\n        result.EvaluateLog = eLog;\n        return result;\n    };\n    RolloutEvaluator.prototype.EvaluateVariations = function (rolloutPercentageItems, key, User) {\n        if (rolloutPercentageItems && rolloutPercentageItems.length > 0) {\n            var hashCandidate = key + User.identifier;\n            var hashValue = Sha1_1.sha1(hashCandidate).substring(0, 7);\n            var hashScale = parseInt(hashValue, 16) % 100;\n            var bucket = 0;\n            for (var i = 0; i < rolloutPercentageItems.length; i++) {\n                var variation = rolloutPercentageItems[i];\n                bucket += +variation[ProjectConfig_1.RolloutPercentageItems.Percentage];\n                if (hashScale < bucket) {\n                    return {\n                        Value: variation[ProjectConfig_1.RolloutPercentageItems.Value],\n                        VariationId: variation[ProjectConfig_1.RolloutPercentageItems.VariationId]\n                    };\n                }\n            }\n        }\n        return null;\n    };\n    RolloutEvaluator.prototype.EvaluateNumber = function (v1, v2, comparator) {\n        var n1, n2;\n        if (v1 && !Number.isNaN(Number.parseFloat(v1.replace(',', '.')))) {\n            n1 = Number.parseFloat(v1.replace(',', '.'));\n        }\n        else {\n            return false;\n        }\n        if (v2 && !Number.isNaN(Number.parseFloat(v2.replace(',', '.')))) {\n            n2 = Number.parseFloat(v2.replace(',', '.'));\n        }\n        else {\n            return false;\n        }\n        switch (comparator) {\n            case 10:\n                return n1 == n2;\n            case 11:\n                return n1 != n2;\n            case 12:\n                return n1 < n2;\n            case 13:\n                return n1 <= n2;\n            case 14:\n                return n1 > n2;\n            case 15:\n                return n1 >= n2;\n            default:\n                break;\n        }\n        return false;\n    };\n    RolloutEvaluator.prototype.EvaluateSemver = function (v1, v2, comparator) {\n        if (semver.valid(v1) == null || Utils_1.isUndefined(v2)) {\n            return false;\n        }\n        v2 = v2.trim();\n        switch (comparator) {\n            case 4:\n                // in\n                var sv = v2.split(\",\");\n                var found = false;\n                for (var ci = 0; ci < sv.length; ci++) {\n                    if (!sv[ci] || Utils_1.isUndefined(sv[ci]) || sv[ci].trim() === \"\") {\n                        continue;\n                    }\n                    if (semver.valid(sv[ci].trim()) == null) {\n                        return false;\n                    }\n                    if (!found) {\n                        found = semver.looseeq(v1, sv[ci].trim());\n                    }\n                }\n                return found;\n            case 5:\n                // not in\n                return !v2.split(\",\").some(function (e) {\n                    if (!e || Utils_1.isUndefined(e) || e.trim() === \"\") {\n                        return false;\n                    }\n                    e = semver.valid(e.trim());\n                    if (e == null) {\n                        return false;\n                    }\n                    return semver.eq(v1, e);\n                });\n            case 6:\n                if (semver.valid(v2) == null) {\n                    return false;\n                }\n                return semver.lt(v1, v2);\n            case 7:\n                if (semver.valid(v2) == null) {\n                    return false;\n                }\n                return semver.lte(v1, v2);\n            case 8:\n                if (semver.valid(v2) == null) {\n                    return false;\n                }\n                return semver.gt(v1, v2);\n            case 9:\n                if (semver.valid(v2) == null) {\n                    return false;\n                }\n                return semver.gte(v1, v2);\n            default:\n                break;\n        }\n        return false;\n    };\n    RolloutEvaluator.prototype.GetUserAttribute = function (User, attribute) {\n        switch (attribute) {\n            case \"Identifier\":\n                return User.identifier;\n            case \"Email\":\n                return User.email;\n            case \"Country\":\n                return User.country;\n            default:\n                return (User.custom || {})[attribute];\n        }\n    };\n    RolloutEvaluator.prototype.RuleToString = function (rule) {\n        switch (rule) {\n            case 0:\n                return \"IS ONE OF\";\n            case 1:\n                return \"IS NOT ONE OF\";\n            case 2:\n                return \"CONTAINS\";\n            case 3:\n                return \"DOES NOT CONTAIN\";\n            case 4:\n                return \"IS ONE OF (SemVer)\";\n            case 5:\n                return \"IS NOT ONE OF (SemVer)\";\n            case 6:\n                return \"< (SemVer)\";\n            case 7:\n                return \"<= (SemVer)\";\n            case 8:\n                return \"> (SemVer)\";\n            case 9:\n                return \">= (SemVer)\";\n            case 10:\n                return \"= (Number)\";\n            case 11:\n                return \"!= (Number)\";\n            case 12:\n                return \"< (Number)\";\n            case 13:\n                return \"<= (Number)\";\n            case 14:\n                return \"> (Number)\";\n            case 15:\n                return \">= (Number)\";\n            case 16:\n                return \"IS ONE OF (Sensitive)\";\n            case 17:\n                return \"IS NOT ONE OF (Sensitive)\";\n            default:\n                return rule;\n        }\n    };\n    return RolloutEvaluator;\n}());\nexports.RolloutEvaluator = RolloutEvaluator;\nvar ValueAndVariationId = /** @class */ (function () {\n    function ValueAndVariationId() {\n    }\n    return ValueAndVariationId;\n}());\nvar EvaluateResult = /** @class */ (function () {\n    function EvaluateResult() {\n    }\n    return EvaluateResult;\n}());\nvar EvaluateLogger = /** @class */ (function () {\n    function EvaluateLogger() {\n        this.Operations = \"\";\n    }\n    EvaluateLogger.prototype.OpAppendLine = function (s) {\n        this.Operations += \" \" + s + \"\\n\";\n    };\n    EvaluateLogger.prototype.GetLog = function () {\n        return \"Evaluate '\" + this.KeyName + \"'\"\n            + \"\\n User : \" + JSON.stringify(this.User)\n            + \"\\n\" + this.Operations\n            + \" Returning value : \" + this.ReturnValue;\n    };\n    return EvaluateLogger;\n}());\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ConfigCatClientOptions_1 = require(\"./ConfigCatClientOptions\");\nvar AutoPollConfigService_1 = require(\"./AutoPollConfigService\");\nvar LazyLoadConfigService_1 = require(\"./LazyLoadConfigService\");\nvar ManualPollService_1 = require(\"./ManualPollService\");\nvar RolloutEvaluator_1 = require(\"./RolloutEvaluator\");\nvar ProjectConfig_1 = require(\"./ProjectConfig\");\nexports.CONFIG_CHANGE_EVENT_NAME = \"changed\";\nvar ConfigCatClient = /** @class */ (function () {\n    function ConfigCatClient(options, configCatKernel) {\n        if (!options) {\n            throw new Error(\"Invalid 'options' value\");\n        }\n        this.options = options;\n        if (!configCatKernel) {\n            throw new Error(\"Invalid 'configCatKernel' value\");\n        }\n        if (!configCatKernel.cache) {\n            throw new Error(\"Invalid 'configCatKernel.cache' value\");\n        }\n        if (!configCatKernel.configFetcher) {\n            throw new Error(\"Invalid 'configCatKernel.configFetcher' value\");\n        }\n        this.evaluator = new RolloutEvaluator_1.RolloutEvaluator(options.logger);\n        if (options && options instanceof ConfigCatClientOptions_1.LazyLoadOptions) {\n            this.configService = new LazyLoadConfigService_1.LazyLoadConfigService(configCatKernel.configFetcher, configCatKernel.cache, options);\n        }\n        else if (options && options instanceof ConfigCatClientOptions_1.ManualPollOptions) {\n            this.configService = new ManualPollService_1.ManualPollService(configCatKernel.configFetcher, configCatKernel.cache, options);\n        }\n        else if (options && options instanceof ConfigCatClientOptions_1.AutoPollOptions) {\n            this.configService = new AutoPollConfigService_1.AutoPollConfigService(configCatKernel.configFetcher, configCatKernel.cache, options);\n        }\n        else {\n            throw new Error(\"Invalid 'options' value\");\n        }\n    }\n    ConfigCatClient.prototype.getValue = function (key, defaultValue, callback, user) {\n        this.getValueAsync(key, defaultValue, user).then(function (value) {\n            callback(value);\n        });\n    };\n    ConfigCatClient.prototype.getValueAsync = function (key, defaultValue, user) {\n        var _this = this;\n        return new Promise(function (resolve) { return __awaiter(_this, void 0, void 0, function () {\n            var config, result;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.configService.getConfig()];\n                    case 1:\n                        config = _a.sent();\n                        result = defaultValue;\n                        result = this.evaluator.Evaluate(config, key, defaultValue, user).Value;\n                        resolve(result);\n                        return [2 /*return*/];\n                }\n            });\n        }); });\n    };\n    ConfigCatClient.prototype.forceRefresh = function (callback) {\n        this.forceRefreshAsync().then(function () {\n            callback();\n        });\n    };\n    ConfigCatClient.prototype.forceRefreshAsync = function () {\n        var _this = this;\n        return new Promise(function (resolve) { return __awaiter(_this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.configService.refreshConfigAsync()];\n                    case 1:\n                        _a.sent();\n                        resolve();\n                        return [2 /*return*/];\n                }\n            });\n        }); });\n    };\n    ConfigCatClient.prototype.getAllKeys = function (callback) {\n        this.getAllKeysAsync().then(function (value) {\n            callback(value);\n        });\n    };\n    ConfigCatClient.prototype.getAllKeysAsync = function () {\n        var _this = this;\n        return new Promise(function (resolve) { return __awaiter(_this, void 0, void 0, function () {\n            var config;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.configService.getConfig()];\n                    case 1:\n                        config = _a.sent();\n                        if (!config || !config.ConfigJSON) {\n                            this.options.logger.error(\"JSONConfig is not present, returning empty array\");\n                            resolve([]);\n                            return [2 /*return*/];\n                        }\n                        resolve(Object.keys(config.ConfigJSON));\n                        return [2 /*return*/];\n                }\n            });\n        }); });\n    };\n    ConfigCatClient.prototype.getVariationId = function (key, defaultVariationId, callback, user) {\n        this.getVariationIdAsync(key, defaultVariationId, user).then(function (variationId) {\n            callback(variationId);\n        });\n    };\n    ConfigCatClient.prototype.getVariationIdAsync = function (key, defaultVariationId, user) {\n        var _this = this;\n        return new Promise(function (resolve) { return __awaiter(_this, void 0, void 0, function () {\n            var config, result;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.configService.getConfig()];\n                    case 1:\n                        config = _a.sent();\n                        result = defaultVariationId;\n                        result = this.evaluator.Evaluate(config, key, null, user, defaultVariationId).VariationId;\n                        resolve(result);\n                        return [2 /*return*/];\n                }\n            });\n        }); });\n    };\n    ConfigCatClient.prototype.getAllVariationIds = function (callback, user) {\n        this.getAllVariationIdsAsync(user).then(function (variationIds) {\n            callback(variationIds);\n        });\n    };\n    ConfigCatClient.prototype.getAllVariationIdsAsync = function (user) {\n        var _this = this;\n        return new Promise(function (resolve) { return __awaiter(_this, void 0, void 0, function () {\n            var keys, promises, variationIds;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.getAllKeysAsync()];\n                    case 1:\n                        keys = _a.sent();\n                        if (keys.length === 0) {\n                            resolve([]);\n                            return [2 /*return*/];\n                        }\n                        promises = keys.map(function (key) { return _this.getVariationIdAsync(key, null, user); });\n                        return [4 /*yield*/, Promise.all(promises)];\n                    case 2:\n                        variationIds = _a.sent();\n                        resolve(variationIds);\n                        return [2 /*return*/];\n                }\n            });\n        }); });\n    };\n    ConfigCatClient.prototype.getKeyAndValue = function (variationId, callback) {\n        this.getKeyAndValueAsync(variationId).then(function (settingKeyAndValue) {\n            callback(settingKeyAndValue);\n        });\n    };\n    ConfigCatClient.prototype.getKeyAndValueAsync = function (variationId) {\n        var _this = this;\n        return new Promise(function (resolve) { return __awaiter(_this, void 0, void 0, function () {\n            var config, settingKey, rolloutRules, i, rolloutRule, percentageItems, i, percentageItem;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.configService.getConfig()];\n                    case 1:\n                        config = _a.sent();\n                        if (!config || !config.ConfigJSON) {\n                            this.options.logger.error(\"JSONConfig is not present, returning null\");\n                            resolve(null);\n                            return [2 /*return*/];\n                        }\n                        for (settingKey in config.ConfigJSON) {\n                            if (variationId === config.ConfigJSON[settingKey][ProjectConfig_1.Setting.VariationId]) {\n                                resolve({ settingKey: settingKey, settingValue: config.ConfigJSON[settingKey][ProjectConfig_1.Setting.Value] });\n                                return [2 /*return*/];\n                            }\n                            rolloutRules = config.ConfigJSON[settingKey][ProjectConfig_1.Setting.RolloutRules];\n                            if (rolloutRules && rolloutRules.length > 0) {\n                                for (i = 0; i < rolloutRules.length; i++) {\n                                    rolloutRule = rolloutRules[i];\n                                    if (variationId === rolloutRule[ProjectConfig_1.RolloutRules.VariationId]) {\n                                        resolve({ settingKey: settingKey, settingValue: rolloutRule[ProjectConfig_1.RolloutRules.Value] });\n                                        return [2 /*return*/];\n                                    }\n                                }\n                            }\n                            percentageItems = config.ConfigJSON[settingKey][ProjectConfig_1.Setting.RolloutPercentageItems];\n                            if (percentageItems && percentageItems.length > 0) {\n                                for (i = 0; i < percentageItems.length; i++) {\n                                    percentageItem = percentageItems[i];\n                                    if (variationId === percentageItem[ProjectConfig_1.RolloutPercentageItems.VariationId]) {\n                                        resolve({ settingKey: settingKey, settingValue: percentageItem[ProjectConfig_1.RolloutPercentageItems.Value] });\n                                        return [2 /*return*/];\n                                    }\n                                }\n                            }\n                        }\n                        this.options.logger.error(\"Could not find the setting for the given variation ID: \" + variationId);\n                        resolve(null);\n                        return [2 /*return*/];\n                }\n            });\n        }); });\n    };\n    return ConfigCatClient;\n}());\nexports.ConfigCatClient = ConfigCatClient;\nvar SettingKeyValue = /** @class */ (function () {\n    function SettingKeyValue() {\n    }\n    return SettingKeyValue;\n}());\nexports.SettingKeyValue = SettingKeyValue;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ConfigCatClient_1 = require(\"./ConfigCatClient\");\nvar ConfigCatClientOptions_1 = require(\"./ConfigCatClientOptions\");\nvar ConfigCatLogger_1 = require(\"./ConfigCatLogger\");\n/**\n * Create an instance of ConfigCatClient and setup AutoPoll mode\n * @param {string} apiKey - ApiKey to access your configuration.\n * @param config - Configuration for autoPoll mode\n */\nfunction createClientWithAutoPoll(apiKey, configCatKernel, options) {\n    return new ConfigCatClient_1.ConfigCatClient(new ConfigCatClientOptions_1.AutoPollOptions(apiKey, options), configCatKernel);\n}\nexports.createClientWithAutoPoll = createClientWithAutoPoll;\n/**\n * Create an instance of ConfigCatClient and setup ManualPoll mode\n * @param {string} apiKey - ApiKey to access your configuration.\n * @param config - Configuration for manualPoll mode\n */\nfunction createClientWithManualPoll(apiKey, configCatKernel, options) {\n    return new ConfigCatClient_1.ConfigCatClient(new ConfigCatClientOptions_1.ManualPollOptions(apiKey, options), configCatKernel);\n}\nexports.createClientWithManualPoll = createClientWithManualPoll;\n/**\n * Create an instance of ConfigCatClient and setup LazyLoad mode\n * @param {string} apiKey - ApiKey to access your configuration.\n * @param config - Configuration for lazyLoad mode\n */\nfunction createClientWithLazyLoad(apiKey, configCatKernel, options) {\n    return new ConfigCatClient_1.ConfigCatClient(new ConfigCatClientOptions_1.LazyLoadOptions(apiKey, options), configCatKernel);\n}\nexports.createClientWithLazyLoad = createClientWithLazyLoad;\n/**\n * Create an instance of ConfigCatConsoleLogger\n * @param {LogLevel} logLevel - Specifies message's filtering to output for the CofigCatConsoleLogger.\n */\nfunction createConsoleLogger(logLevel) {\n    return new ConfigCatLogger_1.ConfigCatConsoleLogger(logLevel);\n}\nexports.createConsoleLogger = createConsoleLogger;\nvar LogLevel;\n(function (LogLevel) {\n    LogLevel[LogLevel[\"Info\"] = 3] = \"Info\";\n    LogLevel[LogLevel[\"Warn\"] = 2] = \"Warn\";\n    LogLevel[LogLevel[\"Error\"] = 1] = \"Error\";\n    LogLevel[LogLevel[\"Off\"] = -1] = \"Off\";\n})(LogLevel = exports.LogLevel || (exports.LogLevel = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar configcat_common_1 = require(\"configcat-common\");\nvar ProjectConfig_1 = require(\"configcat-common/lib/ProjectConfig\");\nvar HttpConfigFetcher = /** @class */ (function () {\n    function HttpConfigFetcher() {\n    }\n    HttpConfigFetcher.prototype.fetchLogic = function (options, lastProjectConfig, callback) {\n        var httpRequest = new XMLHttpRequest();\n        httpRequest.onreadystatechange = function () {\n            if (httpRequest.readyState == 4) {\n                var etag = httpRequest.getResponseHeader(\"ETag\");\n                if (httpRequest.status === 200) {\n                    callback(new ProjectConfig_1.ProjectConfig(new Date().getTime(), httpRequest.responseText, etag));\n                }\n                else if (httpRequest.status === 304) {\n                    callback(new ProjectConfig_1.ProjectConfig(new Date().getTime(), JSON.stringify(lastProjectConfig.ConfigJSON), etag));\n                }\n                else {\n                    options.logger.error(\"Failed to download feature flags & settings from ConfigCat. \" + httpRequest.status + \" - \" + httpRequest.statusText);\n                    callback(lastProjectConfig);\n                }\n            }\n        };\n        httpRequest.open(\"GET\", options.getUrl(), true);\n        httpRequest.timeout = options.requestTimeoutMs;\n        httpRequest.setRequestHeader(\"X-ConfigCat-UserAgent\", \"ConfigCat-JS/\" + options.clientVersion);\n        httpRequest.setRequestHeader(\"Cache-Control\", \"no-cache\"); // Any locally cached version isn't trusted without the server's say-so\n        if (lastProjectConfig && lastProjectConfig.HttpETag) {\n            httpRequest.setRequestHeader(\"If-None-Match\", lastProjectConfig.HttpETag);\n        }\n        httpRequest.send(null);\n    };\n    return HttpConfigFetcher;\n}());\nexports.HttpConfigFetcher = HttpConfigFetcher;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar LocalStorageCache = /** @class */ (function () {\n    function LocalStorageCache() {\n        this.cache = {};\n    }\n    LocalStorageCache.prototype.Set = function (sdkkey, config) {\n        this.cache[sdkkey] = config;\n        try {\n            localStorage.setItem(this.getLocalStorageKey(sdkkey), btoa(JSON.stringify(config)));\n        }\n        catch (ex) {\n            // local storage is unavailable\n        }\n    };\n    LocalStorageCache.prototype.Get = function (sdkkey) {\n        var config = this.cache[sdkkey];\n        if (config) {\n            return config;\n        }\n        try {\n            var configString = localStorage.getItem(this.getLocalStorageKey(sdkkey));\n            if (configString) {\n                var config_1 = JSON.parse(atob(configString));\n                if (config_1) {\n                    this.cache[sdkkey] = config_1;\n                    return config_1;\n                }\n            }\n        }\n        catch (ex) {\n            // local storage is unavailable or invalid cache value in localstorage\n        }\n        return null;\n    };\n    LocalStorageCache.prototype.getLocalStorageKey = function (sdkkey) {\n        return \"ConfigCat_v4\" + sdkkey;\n    };\n    return LocalStorageCache;\n}());\nexports.LocalStorageCache = LocalStorageCache;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar configcatcommon = require(\"configcat-common\");\nvar ConfigFetcher_1 = require(\"./ConfigFetcher\");\nvar Cache_1 = require(\"./Cache\");\n/** Create an instance of ConfigCatClient and setup Auto polling with default options.*/\nfunction createClient(sdkkey) {\n    return this.createClientWithAutoPoll(sdkkey);\n}\nexports.createClient = createClient;\n/**\n * Create an instance of ConfigCatClient and setup Auto polling.\n * @param {string} sdkkey - SDK Key to access your configuration.\n * @param options - Options for Auto polling\n */\nfunction createClientWithAutoPoll(sdkKey, options) {\n    return configcatcommon.createClientWithAutoPoll(sdkKey, { configFetcher: new ConfigFetcher_1.HttpConfigFetcher(), cache: new Cache_1.LocalStorageCache() }, options);\n}\nexports.createClientWithAutoPoll = createClientWithAutoPoll;\n/**\n * Create an instance of ConfigCatClient and setup Manual polling.\n * @param {string} sdkKey - SDK Key to access your configuration.\n * @param options - Options for Manual polling\n */\nfunction createClientWithManualPoll(sdkKey, options) {\n    return configcatcommon.createClientWithManualPoll(sdkKey, { configFetcher: new ConfigFetcher_1.HttpConfigFetcher(), cache: new Cache_1.LocalStorageCache() }, options);\n}\nexports.createClientWithManualPoll = createClientWithManualPoll;\n/**\n * Create an instance of ConfigCatClient and setup Lazy loading.\n * @param {string} sdkKey - SDK Key to access your configuration.\n * @param options - Options for Lazy loading\n */\nfunction createClientWithLazyLoad(sdkKey, options) {\n    return configcatcommon.createClientWithLazyLoad(sdkKey, { configFetcher: new ConfigFetcher_1.HttpConfigFetcher(), cache: new Cache_1.LocalStorageCache() }, options);\n}\nexports.createClientWithLazyLoad = createClientWithLazyLoad;\nfunction createConsoleLogger(logLevel) {\n    return configcatcommon.createConsoleLogger(logLevel);\n}\nexports.createConsoleLogger = createConsoleLogger;\n","// es6 polyfills\r\nimport './util/polyfill';\r\n// register ambient and the states used by the sidekick\r\nimport './ambient/ambient';\r\nimport './ambient/ambient-height';\r\nimport './ambient/ambient-width';\r\n// init ambient states\r\nimport './ambient/ambient-config-states';\r\n\r\nimport init from './init';\r\nimport cycle from './cmpt/index';\r\nimport * as store from './util/store';\r\nimport * as events from './util/event-bus';\r\nimport * as dom from './util/easy-dom';\r\n\r\nconst _win = (0, eval)('this'); // eslint-disable-line no-eval\r\n\r\n/////\r\n// register the global sidekick object\r\n//\r\nif (_win.sidekick !== undefined) {\r\n\tconsole && console.error && console.error('TOO MANY SIDEKICKS => the sidekick was loaded twice on this page.'); // eslint-disable-line\r\n}\r\n_win.sidekick = _win.sidekick || {\r\n\tinit, cycle, dom,\r\n\tstore: store.publicApi,\r\n\tevents: events.publicApi\r\n};\r\n","import * as load from './util/asset-loader';\r\nimport cycle from './cmpt/index';\r\nimport * as store from './util/store';\r\nimport * as translations from './util/translations';\r\nimport * as domScanner from './util/dom-scanner';\r\nimport './util/idm';\r\nimport {setupFeatureFlagsCC} from './util/feature-flags-cc';\r\nimport {setupFeatureFlags} from './util/feature-flags';\r\n\r\n\r\n/**\r\n * Initializes the Sidekick\r\n * @module Sidekick.Init\r\n * @memberOf Sidekick\r\n */\r\n\r\n/**\r\n * Initializes the sidekick\r\n * @param {Object} cfg - Configuration Object\r\n * @param {String} cfg.token - Access Token\r\n * @param {String} cfg.product - Application\r\n * @param {Number} cfg.flId - Frontline User ID\r\n * @param {Element} [cfg.appElement=document.body] - Element the sidekick should be attached to\r\n * @param {Boolean} [cfg.addIcons=true] - Add in the icons\r\n * @param {Boolean} [cfg.addOpenSans=true] - Add in OpenSans\r\n * @param {Boolean} [cfg.addSidekickCss=true] - Add Sidekick CSS file to header\r\n * @param {Boolean} [cfg.autoAppendAppNameInTitle=false] - Scans the TITLE node to ensure the application name is appended\r\n * @param {Boolean} [cfg.language=en] - Language to set any translations strings\r\n */\r\nexport default function(cfg = {}) {\r\n\t// prevent a second init of the sidekick\r\n\tif (store.get('sk-config') != null) { return; }\r\n\r\n\t// Hookup feature flags\r\n\tstore.onValueOnce('idm-data', (idmData) => {\r\n\t\tsetupFeatureFlags(idmData);\r\n\t\tsetupFeatureFlagsCC(idmData);\r\n\t});\r\n\r\n\tconst bodyComponents = [\r\n\t\t{name: 'header', ctxStore: false},\r\n\t\t{name: 'unsupported-browser-alert', ctxStore: 'idm'},\r\n\t\t{name: 'nav', ctxStore: 'nav'},\r\n\t\t{name: 'pick-org-app', ctxStore: 'pick-org-app-data'},\r\n\t\t{name: 'session-timeout', ctxStore: 'session-timeout'},\r\n\t\t{name: 'site-errors', ctxStore: false}\r\n\t];\r\n\tconst configDefaults = {\r\n\t\tappElement: document.body,\t\t\t// the html element the sk should surround\r\n\t\tmainElement: null,\t\t\t\t\t// the main content element for the \"skip nav\" link\r\n\t\taddIcons: true,\t\t\t\t\t\t// automagically add the icon font\r\n\t\taddOpenSans: true,\t\t\t\t\t// automagically add open sans font-face\r\n\t\taddSidekickCss: true,\t\t\t\t// automagically add sidekick.css to the header\r\n\t\tautoAppendAppNameInTitle: false,\t// scans the title to ensure app name is appended\r\n\t\tcleanCache: false,                  // cleans out the local and session storage cache\r\n\t\tlanguage: 'en'\t\t\t\t\t\t// language to set any translations strings\r\n\t};\r\n\r\n\t// setup the app config values\r\n\tconst config = Object.assign({}, configDefaults, cfg);\r\n\tstore.set('sk-config', config);\r\n\tstore.set('fl-internal-product-ids', ['platformtools', 'doc']);\r\n\r\n\ttranslations.init(config.language);\r\n\r\n\tconst appEl = config.appElement;\r\n\tif (config.addIcons) { load.fontFace('Fl-Icons'); }\r\n\tif (config.addOpenSans) { load.fontFace('Open-Sans'); }\r\n\tif (config.addSidekickCss) {\r\n\t\tload.stylesheet('sidekick.css', goInit);\r\n\t} else {\r\n\t\tgoInit();\r\n\t}\r\n\r\n\tif (config.autoAppendAppNameInTitle) { domScanner.title(); }\r\n\tload.printStyles();\r\n\r\n\tfunction goInit() {\r\n\t\tif (appEl.className.length) { appEl.className += ' ';}\r\n\t\tappEl.className += 'sidekick-wrapped-application';\r\n\r\n\t\tfor (let i = bodyComponents.length; i-- ;) {\r\n\t\t\tconst {name, ctxStore} = bodyComponents[i];\r\n\t\t\tconst el = document.createElement('div');\r\n\t\t\tel.setAttribute(`sk-${name}`, '');\r\n\t\t\tif (ctxStore) { el.setAttribute('context-store', ctxStore); }\r\n\t\t\tif (appEl.firstChild == null) {\r\n\t\t\t\tappEl.appendChild(el);\r\n\t\t\t} else {\r\n\t\t\t\tappEl.insertBefore(el, appEl.firstChild);\r\n\t\t\t}\r\n\t\t}\r\n\t\tcycle();\r\n\t}\r\n}\r\n","import './';\r\n\r\n/* eslint-disable no-console */\r\nif (console && console.log && typeof console.log === 'function') {\r\n\tconsole.log('Sidekick: Redirected from https://app.frontlineeducation.com/sidekick.js');\r\n}\r\n/* eslint-enable no-console */\r\n"],"names":["arrayFind","predicate","TypeError","list","Object","len","length","thisArg","arguments","i","value","call","arrayFindIndex","glean","source","accessor","defaultValue","val","err","isUrlUiModule","url","urlPattern","test","injectTag","tagName","attrs","target","el","document","createElement","keys","sort","forEach","setAttribute","attr","appendChild","fontFaceCss","fontName","fileName","svgType","fontWeight","fontStyle","baseAssetPath","replace","toDashCase","txt","splitWords","join","toCamelCase","map","v","charAt","toUpperCase","substr","toString","toLowerCase","split","filter","elSelector","selector","parent","context","isComplex","useQSA","method","slice","EasyDom","collection","func","Array","prototype","deprecatedMsg","oldInterface","newInterface","tmpl","console","error","removedMsg","deprecatedAttr","obj","objLoc","newLoc","getterOrDefault","getterFunc","hasOwnProperty","defineProperty","dot","oldLoc","isOfType","input","type","warnForInternalEvents","args","evt","startsWith","deprecatedEvents","apply","warnForInternalStore","key","init","newLang","langs","indexOf","language","i18n","str","langTokens","includes","current","makeLangTokens","langKeys","baseSignature","k","langSignature","elem","domAppEl","dom","store","appElement","find","domExitImpersonation","show","toggleClass","activelyImpersonatingV2","idGatewayBaseUrl","idGatewayUrl","isImpersonatingV2","endsWith","greedy","state","terminal","on","stopPropagation","preventDefault","location","href","productIdFromMap","productId","productIdMap","pIdLower","environmentFromIdmGatewayUrl","idmGatewayUrl","isAws","awsMatch","exec","makePlatformNav","httpGet","featureFlagsCC","featureFlags","idmData","automationNoPlatformNav","sessionStorage","getItem","platformHasHighlight","flInternalProducts","idm","envName","env","envValues","ecSand","ssBaseUrl","pId","urlIsUiModule","window","orgId","x","userContext","OrganizationId","platformNavAll","flags","checkState","flagsCC","res","permittedActions","data","attributes","objects","reduce","acc","o","assign","act","visiblePromises","sanitizeMenu","item","idx","hasAccessToItem","visible","hasVisibility","children","menu","resolveMenuAccess","visiblePromise","push","all","vp","then","visibleSettings","personalizedNav","isKey","keyName","which","keyPressed","whichPressed","checkKey","isEnter","isEscape","isTab","isLeft","isUp","isRight","isDown","isSpace","ctx","handleMenuClick","activeElement","blur","autoCollapseNav","handleArrowToggle","domBody","hasClass","setItem","expandState","renderMenu","platformNav","kickCycle","menuContainer","appMenuItems","menuItems","m","isPlatformMenu","menuDivider","platformMenuItems","mainMenuItems","menuName","_","domContainer","menuHasAttention","closeSubMenu","empty","append","sidekick","cycle","domTopSection","getBoundingClientRect","bottom","domBottomSection","height","top","css","checkForPathChange","currentPath","previousPath","host","path","toggleNavArrowTooltipContent","open","navArrowContent","tipContent","domNavArrowTooltip","textContent","toggleNavExpanded","newExpandedFootprintState","expandedFootprint","removeClass","addClass","setAutoCollapseNav","subMenu","keyPress","link","focus","ambient","isActive","appCfg","storage","body","domDimmer","domNavArrowIcon","domOrgBrandSmall","domOrgBrandLarge","domFlBrandLarge","domFlBrandSmall","branding","rectangleImagePublicUrl","squareImagePublicUrl","session","State","prefLeftNavExpanded","extendedNav","eNav","shouldWeMega","noOrphanNodes","every","isArray","n","totalNodes","countNodes","total","child","route","subMenuType","a","menuType","events","badgeEvent","domBadge","Number","innerHTML","Math","highlighted","pathMatchesRoute","routeMatcher","cmptMenuItem","domCmpt","domHandle","domMenuList","domMenuItem","prevDef","menuItemElems","menuItemIdx","nextIdx","nextElem","querySelector","cmptMenu","domMenu","onClick","isOpen","mItem","focusIdx","focusOrBlur","cmpt","willFocus","cmptInputClear","domInput","domClearBtn","clearOnEscape","clear","toggleClear","adjustDynamicWidthElements","_staticWidthElemNames","impersonationMode","impStaticWidthElemNames","staticWidthElemNames","_dynamicWidthElemNames","impDynamicWidthElemNames","dynamicWidthElemNames","_totalStaticWidth","elName","elWidth","staticElems","parseFloat","_dynamicWidthElems","dynamicElems","e","width","measureText","text","font","_totalDynamicWidth","t","adjustment","_staticWidth","activityIndicatorWidth","widthPercent","drawCtx","watchForRoles","roleName","roles","r","id","currentRole","name","userInfo","userNameWidth","roleWidth","addStaticWidthElem","updateNotificationList","newCtx","items","notificationsEmpty","unread","title","content","timestamp","domNotiMenu","b","updateUnread","setUnreadBadge","domNotiCont","domNotiBell","domMenuCloseIcon","domUnreadBadge","subLevel","menuGroup","subMenus","kids","hasKids","parseInt","ictx","clearFilter","domRoles","childNodes","classList","remove","showAcctSettings","showSignOut","domButton","domUserName","domRoleName","domSettings","domLogout","domBlocks","domFilter","domFilterInput","domFlUserAccountHeader","currentRoleName","firstName","lastName","role","ariaCurrent","linkClasses","user","isFrontlineUser","innerText","currentTarget","add","parentNode","updateHelpData","articles","article","icon","interpolatedUrl","urlTemplateVars","domArticles","blocks","block","getUrlTemplateVars","identities","product","idTypes","AssociatedRoles","Type","idRecord","userKey","Id","reset","search","domSearchText","hasFocus","searchLength","listEmpty","limit","domResultsContainer","domLoader","placeHolderText","results","resultsIsArray","resultsList","domRes","searchResult","menuEl","setSelectionRange","searchTypes","optionElems","focusedOptionIdx","fill","searchOrgs","org","render","orgs","currentOrg","orgName","localeCompare","searchResultsOrgList","liClassName","linkClassName","domBtn","domOrgList","domBtnContent","domOrgCont","domSearchCont","domAppCont","domAppList","currentApp","apps","currApp","appName","domSkipLink","isImpersonating","app","hasLegacyName","legacyName","formerly","nameClassName","defaultToPx","position","distance","hoverTimeout","arrowShift","arrowEl","direction","tipShift","bounds","defaultShift","leftOrRight","innerWidth","right","left","propShift","flipSide","setTimeout","access","qsData","queryStringObject","productIdUpper","domSearchInput","domSearchClearBtn","domAppFilter","orgListAccessRecords","filteredByTitle","ProductId","ProductName","accessRecords","findIndex","av","deDupOrgAccess","aName","OrganizationName","bName","deDupAppAccess","setupAppList","appListAccessRecords","formerlyText","ProductLegacyName","domPickOrg","domOrgFilter","selectedOrgPA","weHaveAListToShow","domLink","adjustColumns","currentlySingleCol","singleColumnMode","singleColumnHeight","titleNode","itemHeight","cidx","childEl","cls","getPluginValue","load","timer","countdown","format","timerInterval","setInterval","showSignedOutScreen","seconds","minutes","domExtendBtn","domTimer","domSignedOut","domSignInLink","reload","mainElement","targetElement","Element","tabIndex","getAttribute","doCall","post","callback","headers","timeout","withCredentials","responseType","eventHandlers","uploadEventHandlers","xhr","XMLHttpRequest","h","header","setRequestHeader","onload","statusText","response","responseText","status","getAllResponseHeaders","requestError","onerror","onabort","addEventListener","upload","send","completeRequest","headersString","startAppOrgPicker","appOrgOverrides","createResponseHandler","cb","statusCode","headersStr","Error","JSON","parse","sessionHasExpired","getBearerToken","filterDupProductAndOrgRecords","arr","buildOrgSwitcherData","Internal","Disabled","oId","buildAppSwitcherData","currentOrgId","a2","Url","updateCurrentOrgInSharedState","idmCfg","accessToken","getAccessToken","setPrefLeftNavExpanded","domCloseButton","domAnchor","domTitle","domContent","announcementsBaseUrl","announcementsControllerUrl","currentAnnouncementEndpoint","profileId","announcementId","enabled","result","startShowingIn","stopShowingIn","moreInfoLink","ackAnnouncementEndpoint","detectOS","userAgentString","rules","getOperatingSystemRules","detected","os","rule","getNodeVersion","isNode","process","version","platform","parseUserAgent","browsers","getBrowserRules","browser","match","concat","Boolean","bot","buildRules","ruleTuples","tuple","detect","alreadyDismissed","persist","isSupported","supportedBrowsers","some","_win","navigator","userAgent","domDismissBtn","dismiss","expires","display","bootstrapAll","bootstrap","c","bootstrapComplete","moduleNameCamel","storeCtxElemInitializer","bootstrapAllInProgress","initElement","firstChild","removeChild","moduleName","elems","querySelectorAll","j","contextStore","stopTitle","titleInterval","setupFeatureFlagsCC","envCCKey","envKeyMap","flId","createClient","configcat","bind","forceRefresh","createCustomError","captureStackTrace","constructor","message","code","isHttpErrorRecoverable","tripletToBase64","lookup","encodeChunk","fromByteArray","btoa","unescape","encodeURIComponent","fromByteArray_1","stringToBytes","charCodeAt","base64URLEncode","clone","stringify","deepEquals","fastDeepEqual","onNextTick","wrapPromiseCallback","Promise","reject","transformValuesToVersionedValues","transformVersionedValuesToValues","chunkUserEventsForUrl","shift","unshift","getLDUserAgentString","getLDHeaders","extend","_extends","sanitizeUser","userAttrsToStringify","EventSender","u","Image","src","s","httpRequest","promise","Date","serverTime","catch","resolve","sendEvents","httpAllowsPost","MAX_URL_LENGTH","EventSummarizer","summarizeEvent","kind","variation","count","default","creationDate","getSummary","counters","unknown","startDate","endDate","features","clearSummary","UserFilter","allAttributesPrivate","privateAttributeNames","custom","anonymous","secondary","ip","country","email","avatar","filterUser","l","d","privateAttrs","EventProcessor","random","eventsUrl","inlineUsersInEvents","samplingInterval","flushInterval","f","g","p","enqueue","trackEvents","debugEventsUntilDate","getTime","flush","debug","debugPostingEvents","maybeReportError","LDUnexpectedResponseError","httpErrorMessage","start","stop","EventEmitter","handler","off","emit","getEvents","getEventListenerCount","Store","getUser","loadFlags","get","$schema","clearFlags","warn","localStorageUnavailable","saveFlags","set","Stream","eventSourceFactory","eventSourceAllowsReport","close","streamUrl","useReport","evaluationReasons","streamReconnectDelay","connect","disconnect","isConnected","eventSourceIsActive","promiseCoalescer","addPromise","resultPromise","getResponseError","LDInvalidEnvironmentIdError","environmentNotFound","LDFlagFetchError","errorFetchingFlags","Requestor","httpUnavailable","lastIndexOf","networkError","cancel","baseUrl","sendLDHeaders","fetchFlagSettings","debugPolling","fetchGoals","Identity","setUser","createCommonjsModule","exports","v1","node","_nodeId","clockseq","_clockseq","rngBrowser","msecs","nsecs","_lastNSecs","_lastMSecs","bytesToUuid_1","UserValidator","validateUser","LDInvalidUserError","userNotSpecified","v1_1","localStorageUnavailableForUserId","invalidUser","validate","LDInvalidArgumentError","allowFrequentDuplicateEvents","sendEventsOnlyForVariation","all_attributes_private","private_attribute_names","deprecated","isNaN","createConsoleLogger","log","info","initialize","P","S","enqueueEvent","w","isDoNotTrack","debugEnqueueingEvent","eventWithoutUser","I","U","variationIndex","reason","flagVersion","R","deleted","T","errorKind","F","ping","debugStreamPing","N","put","debugStreamPut","patch","debugStreamPatch","previous","C","debugStreamPatchIgnored","delete","debugStreamDelete","debugStreamDeleteIgnored","changeEvent","L","O","y","E","A","V","environment","z","clientInitialized","H","logger","hash","eventProcessor","streaming","stateProvider","D","localStorage","q","getInitialState","_typeof$1","$flagsState","bootstrapOldFormat","$valid","bootstrapInvalid","environmentNotSpecified","client","waitForInitialization","waitUntilReady","identify","identifyDisabled","variationDetail","track","customEventFilter","unknownCustomEventKey","getCurrentUrl","LDInvalidEventKeyError","setStreaming","allFlags","options","emitter","ident","requestor","getFlagsInternal","internalChangeEventName","isSyncXhrSupported","newHttpRequest","emptyResult","getResponseHeader","abort","makeBrowserPlatform","pageIsClosing","doNotTrack","msDoNotTrack","removeItem","EventSource","heartbeatTimeout","silentTimeout","readyState","OPEN","CONNECTING","doesUrlMatch","RegExp","escapeStringRegexp","substring","pattern","findGoalsForClick","GoalTracker","urls","dispose","removeEventListener","GoalManager","goalKeyExists","history","pushState","errors","initialize$1","extraDefaults","waitUntilGoalsReady","setupFeatureFlags","envLDKey","LDClient","isInteger","String","min","max","floor","global","factory","module","this","objectOrFunction","isFunction","useVertxTimer","vertxNext","useSetTimeout","globalSetTimeout","queue","arg","onFulfillment","onRejection","noop","PROMISE_ID","_state","invokeCallback","_result","resolve$1","object","Constructor","selfFulfillment","cannotReturnOwn","tryThen","then$$1","fulfillmentHandler","rejectionHandler","handleForeignThenable","thenable","sealed","_label","handleOwnThenable","handleMaybeThenable","maybeThenable","publishRejection","_onerror","fulfill","_subscribers","publish","subscribe","subscribers","settled","detail","hasCallback","succeeded","initializePromise","resolver","nextId","makePromise","validationError","needsResolver","needsNew","_isArray","customSchedulerFn","asap","browserWindow","browserGlobal","BrowserMutationObserver","MutationObserver","WebKitMutationObserver","self","isWorker","Uint8ClampedArray","importScripts","MessageChannel","scheduleFlush","nextTick","useNextTick","iterations","observer","createTextNode","observe","characterData","useMutationObserver","channel","port1","onmessage","port2","postMessage","useMessageChannel","require","vertx","Function","runOnLoop","runOnContext","attemptVertx","Enumerator","_instanceConstructor","_remaining","_enumerate","_eachEntry","entry","resolve$$1","_then","didError","_settledAt","Promise$1","_willSettleAt","enumerator","finally","entries","race","_setScheduler","scheduleFn","_setAsap","asapFn","_asap","polyfill","local","promiseToString","cast","require$$0","to","index","nextSource","nextKey","searchElement","currentElement","searchString","subjectString","isFinite","lastIndex","from","toStr","isCallable","fn","toInteger","number","abs","toLength","arrayLike","mapFn","kValue","arrayFrom","eval","doUpdate","propVals","config","classes","__updated__","changePossible","activeEvents","__events__","propName","propClasses","prop","props","cache","getCurrentValue","currentValue","activeClasses","getActiveClasses","updateBodyClasses","bodyClasses","_body","className","allClasses","currentClasses","getPropValues","values","getPropValue","debounceUpdate","eventName","toDelay","rafDoUpdate","configure","delay","onAction","watchElement","watchEvent","getAllClasses","wE","registeredEvents","attachEvent","action","actionArr","handlers","splice","fire","styleIsActive","_doc","rAF","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","plugin","registerPlugin","innerHeight","clientHeight","winHeight","aboveMin","belowMax","clientWidth","bend","winSize","ss","tools","getBaseAssetPath","stylesheet","success","linkEl","head","styleTestEl","checkStyles","getComputedStyle","visibility","printStyles","fontFace","fontCode","getFullYear","mainId","element","html","oRequestAnimationFrame","msRequestAnimationFrame","domCache","domNode","_easyDomID","prefix","elCount","removeAttribute","_listeners","toRemove","_this","style","isObject","isBoolean","handlerMap","terminalEvents","lastEventCache","backwardCompatEvents","logErr","msg","configOrGreedy","once","cfg","handlerList","hCount","$once","publicApi","publicReadOnly","eventPrefix","onValue","onValueOnce","nonProdProductUserTypeMap","nonProdProductIdMap","flagsSvc","_idmData_","_elem","_i18n","matcherMap","matcher","protocol","fqdn","fqdnPath","_re","re","raw","rawArr","qs","decodeURIComponent","cmptDynamicWidth","firstRegistration","getContext","impMode","idmDataKeys","processIdmData","users","targetOrgId","dataKeys","missingIdmData","prev","isInternalProduct","filteredAccessRecords","isIdmAdmin","targetProductAccessRecord","DefaultSignInUrl","OrgNavigationUrlTemplate","Name","LegacyName","fakeProductAccess","currentOrgProductAccess","OrganizationUsers","ou","Identities","deprecatedAccessAttrs","newAttr","domWin","idmAdminOverrideOfOrg","currentOrgIsNotTheOrgSelected","fillUiFromIdmData","accessRecord","del","setCurrentOrgInSharedState","defaults","inverseType","sStore","lStore","now","json","cleanCache","_log","nav","navItem","notifications","navItemSubmenu","loader","orgSwitcher","appSwitcher","contactOrg","fillContent","phones","phone","fax","contactName","comments","pickOrgApp","pickOrg","pickApp","impersonatedUser","navItemMegaMenu","sessionTimeout","siteErrors","announcements","unsupportedBrowserAlert","cache1DayLocal","getSessionData","sid","processUsersAndProducts","products","Roles","FirstName","LastName","Email","EmailIsVerified","IsFrontlineUser","idType","productUserTypeMap","idmMeta","rawUser","rawProductLinks","userUrl","userRes","productLinksUrl","productLinksRes","processOrgBrand","brand","envSandApiUrl","rawOrgBrandData","orgBrandRes","rawProduct","pData","ConfigCatConsoleLogger","logLevel","SOURCE","level","_1","LogLevel","Warn","isLogLevelEnabled","Info","__extends","extendStatics","setPrototypeOf","__proto__","__","create","VERSION","OptionsBase","apiKey","clientVersion","ConfigCatLogger_1","requestTimeoutMs","proxy","getUrl","AutoPollOptions","_super","pollIntervalSeconds","configChanged","ManualPollOptions","LazyLoadOptions","cacheTimeToLiveSeconds","ConfigServiceBase","configFetcher","baseConfig","refreshLogicBaseAsync","lastProjectConfig","fetchLogic","newConfig","Set","__awaiter","_arguments","generator","fulfilled","next","rejected","step","done","__generator","verb","op","label","ops","pop","trys","sent","Symbol","iterator","AutoPollConfigService","autoPollConfig","setIntervalAsync","ms","refreshConfigAsync","getConfig","Get","refreshLogic","_a","HttpETag","ConfigServiceBase_1","LazyLoadConfigService","Timestamp","ManualPollService","ProjectConfig","timeStamp","jsonConfig","httpETag","ConfigJSON","Setting","Value","SettingType","RolloutPercentageItems","RolloutRules","VariationId","Order","ComparisonAttribute","Comparator","ComparisonValue","Percentage","sha1","rotate_left","cvt_hex","W","H0","H1","H2","H3","H4","blockstart","B","temp","string","fromCharCode","utftext","Utf8Encode","msg_len","word_array","numeric","compareIdentifiers","anum","bnum","MAX_SAFE_INTEGER","createToken","SemVer","loose","includePrerelease","trim","major","minor","prerelease","num","build","compare","other","compareMain","comparePre","compareBuild","inc","release","identifier","er","comp","User","RolloutEvaluator","Evaluate","defaultVariationId","eLog","EvaluateLogger","KeyName","ReturnValue","EvaluateResult","EvaluateLog","EvaluateRules","ProjectConfig_1","ValueAndVariationId","EvaluateVariations","OpAppendLine","GetLog","rolloutRules","_loop_1","comparisonAttribute","this_1","GetUserAttribute","comparator","comparisonValue","RuleToString","cvs","ci","EvaluateSemver","EvaluateNumber","Sha1_1","state_1","rolloutPercentageItems","hashCandidate","hashValue","hashScale","bucket","v2","n1","n2","semver","valid","Utils_1","isUndefined","sv","found","looseeq","eq","lt","lte","gt","gte","attribute","Operations","ConfigCatClient","configCatKernel","evaluator","RolloutEvaluator_1","ConfigCatClientOptions_1","configService","LazyLoadConfigService_1","ManualPollService_1","AutoPollConfigService_1","getValue","getValueAsync","forceRefreshAsync","getAllKeys","getAllKeysAsync","getVariationId","getVariationIdAsync","variationId","getAllVariationIds","getAllVariationIdsAsync","variationIds","promises","getKeyAndValue","getKeyAndValueAsync","settingKeyAndValue","settingKey","rolloutRule","percentageItems","percentageItem","settingValue","SettingKeyValue","ConfigCatClient_1","HttpConfigFetcher","onreadystatechange","etag","LocalStorageCache","sdkkey","getLocalStorageKey","ex","configString","config_1","atob","createClientWithAutoPoll","sdkKey","configcatcommon","ConfigFetcher_1","Cache_1","createClientWithManualPoll","createClientWithLazyLoad","configCatClient","featureKey","featureValue","_typeof2","freeze","revLookup","_typeof","keyList","hasProp","utils","clientNotReady","invalidKey","messages","crypto","getRandomValues","msCrypto","Uint8Array","byteToHex","i$1","matchOperatorsRe","ldclient","goInit","appEl","bodyComponents","ctxStore","insertBefore","configDefaults","addIcons","addOpenSans","addSidekickCss","autoAppendAppNameInTitle"],"mappings":"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"}